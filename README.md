# CET Form Web App

App features:

- Read an HTML page (i.e. D2L Learning Hub template) that contains the variable elements (KAP CPI tables)
- Add all the the static form elements (non CPI tables)
- Ability to save / load form data for continued editng (pending)
- Print to PDF for final faculty signatures and filing archving

## Development

Node version `nvm use 20.11.1`.

Install dependencies:

```bash
npm install
```

Build the code using webpack:

```bash

npm run dev

or

npm run build 
```

The code will be build `bundle.js` and `index.html` to the `dist` directory.

### Form elements

Expected form structure:

```html
    <!-- toolbar autogenerated -->
    <!-- general info autogenerated -->
    
    <!-- Optional - from LH html content or template if empty--> 
     <section>
        <h1>Instructions
            <p>...
    
    <!-- REQUIRED - kap area(s) -->
     <section class="kap">
        <h1>{{KAP title}}
            <table class="kap-table">
                <thead>
                    <tr>
                        <th></th>
                        <th>Not Assessed</th>
                        <th>Unable to demonstrate competence</th>
                        <th>Marginal</th>
                        <th>Able to do with assistance</th>
                        <th>Able to do with with supervision</th>
                        <th>Able to do independently</th>
                    </tr>
                    <tr>
                        <th>Clinical Practice Indicators</th>
                        <th>
                        Indicate reason why not assessed (e.g., not applicable, lack of
                        opportunity)
                        </th>
                        <th>
                        Unsafe<br />
                        Inaccurate<br />
                        Inefficient
                        </th>
                        <th>
                        Safe only with direct supervision<br />
                        Inefficient<br />
                        Requires continuous verbal prompts and reminders
                        </th>
                        <th>
                        Safe<br />
                        Accurate<br />
                        Slow<br />
                        Inconsistent<br />
                        Requires frequent reminders or prompts to perform and/or
                        demonstrate
                        </th>
                        <th>
                        Safe<br />
                        Accurate<br />
                        Proficient<br />
                        Reasonably expedient<br />
                        Requires occasional supportive prompting
                        </th>
                        <th>
                        Safe<br />
                        Accurate<br />
                        Proficient<br />
                        Reasonably expedient<br />
                        Consistent<br />
                        No prompting required
                        </th>
                    </tr>
                </thead>
                 <tbody>
                    <tr>
                        <td>
                        {{CPI text}}
                        </td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
    
    <!-- comments area autogenerated -->
    
    <!-- signature area autogenerated -->
```

### Creating HTML Templates

See the dev helper `_KAPtemplates` for creating the HTML template pages which can be used in D2L LH.  

The templates pages' body content will contain only the KAP CPI tables, which will be editable in LH so faculty can customize KAP text and identify which column cells should be shaded to indicate the target CPI grade.

```node
npm run template /*KAP create templates only*/
```

The code will build the `template.html` to the `dist` directory, which combines the selected pages from `_KAPtemplates` into `dist/index.html`.  
Rename this file to the appropriate course (i.e. NSCC7420).  This is the file that can be uploaded to LH, where SMEs can edit text and add the `*` indicator to the table cell that is to be shaded.

Can do `npm run buildall` to run both steps.

### 3rd party pkgs documentation

#### Quill js

Used for creating rich text areas.
A working example of building Quill as part of a larger application build pipeline using Webpack.
Reference: [https://github.com/quilljs/webpack-example]  
Quick Start: [https://quilljs.com/docs/quickstart]

## License

MIT
