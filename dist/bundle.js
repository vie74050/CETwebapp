/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={89:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var l={};if(r)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(l[s]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);r&&l[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},248:t=>{"use strict";t.exports=function(t){return t[1]}},143:t=>{"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,r,i,l){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,i||t,l),s=n?n+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],a]:t._events[s].push(a):(t._events[s]=a,t._eventsCount++),t}function l(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,o=[];if(0===this._eventsCount)return o;for(r in t=this._events)e.call(t,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,l=new Array(i);o<i;o++)l[o]=r[o].fn;return l},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,o,i,l){var a=n?n+t:t;if(!this._events[a])return!1;var s,c,u=this._events[a],f=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),f){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,o),!0;case 5:return u.fn.call(u.context,e,r,o,i),!0;case 6:return u.fn.call(u.context,e,r,o,i,l),!0}for(c=1,s=new Array(f-1);c<f;c++)s[c-1]=arguments[c];u.fn.apply(u.context,s)}else{var d,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),f){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,r);break;case 4:u[c].fn.call(u[c].context,e,r,o);break;default:if(!s)for(d=1,s=new Array(f-1);d<f;d++)s[d-1]=arguments[d];u[c].fn.apply(u[c].context,s)}}return!0},a.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,o){var i=n?n+t:t;if(!this._events[i])return this;if(!e)return l(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||o&&!a.once||r&&a.context!==r||l(this,i);else{for(var s=0,c=[],u=a.length;s<u;s++)(a[s].fn!==e||o&&!a[s].once||r&&a[s].context!==r)&&c.push(a[s]);c.length?this._events[i]=1===c.length?c[0]:c:l(this,i)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&l(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a},691:t=>{var e=-1,n=1,r=0;function o(t,y,v,b,m){if(t===y)return t?[[r,t]]:[];if(null!=v){var w=function(t,e,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,o="number"==typeof n?null:n.newRange,i=t.length,l=e.length;if(0===r.length&&(null===o||0===o.length)){var a=r.index,s=t.slice(0,a),c=t.slice(a),u=o?o.index:null,f=a+l-i;if((null===u||u===f)&&!(f<0||f>l)){var d=e.slice(0,f);if((y=e.slice(f))===c){var p=Math.min(a,f);if((b=s.slice(0,p))===(w=d.slice(0,p)))return g(b,s.slice(p),d.slice(p),c)}}if(null===u||u===a){var h=a,y=(d=e.slice(0,h),e.slice(h));if(d===s){var v=Math.min(i-h,l-h);if((m=c.slice(c.length-v))===(q=y.slice(y.length-v)))return g(s,c.slice(0,c.length-v),y.slice(0,y.length-v),m)}}}if(r.length>0&&o&&0===o.length){var b=t.slice(0,r.index),m=t.slice(r.index+r.length);if(!(l<(p=b.length)+(v=m.length))){var w=e.slice(0,p),q=e.slice(l-v);if(b===w&&m===q)return g(b,t.slice(p,i-v),e.slice(p,l-v),m)}}return null}(t,y,v);if(w)return w}var q=l(t,y),k=t.substring(0,q);q=s(t=t.substring(q),y=y.substring(q));var O=t.substring(t.length-q),x=function(t,a){var c;if(!t)return[[n,a]];if(!a)return[[e,t]];var u=t.length>a.length?t:a,f=t.length>a.length?a:t,d=u.indexOf(f);if(-1!==d)return c=[[n,u.substring(0,d)],[r,f],[n,u.substring(d+f.length)]],t.length>a.length&&(c[0][0]=c[2][0]=e),c;if(1===f.length)return[[e,t],[n,a]];var p=function(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;function o(t,e,n){for(var r,o,i,a,c=t.substring(n,n+Math.floor(t.length/4)),u=-1,f="";-1!==(u=e.indexOf(c,u+1));){var d=l(t.substring(n),e.substring(u)),p=s(t.substring(0,n),e.substring(0,u));f.length<p+d&&(f=e.substring(u-p,u)+e.substring(u,u+d),r=t.substring(0,n-p),o=t.substring(n+d),i=e.substring(0,u-p),a=e.substring(u+d))}return 2*f.length>=t.length?[r,o,i,a,f]:null}var i,a,c,u,f,d=o(n,r,Math.ceil(n.length/4)),p=o(n,r,Math.ceil(n.length/2));return d||p?(i=p?d&&d[4].length>p[4].length?d:p:d,t.length>e.length?(a=i[0],c=i[1],u=i[2],f=i[3]):(u=i[0],f=i[1],a=i[2],c=i[3]),[a,c,u,f,i[4]]):null}(t,a);if(p){var h=p[0],y=p[1],v=p[2],b=p[3],m=p[4],g=o(h,v),w=o(y,b);return g.concat([[r,m]],w)}return function(t,r){for(var o=t.length,l=r.length,a=Math.ceil((o+l)/2),s=a,c=2*a,u=new Array(c),f=new Array(c),d=0;d<c;d++)u[d]=-1,f[d]=-1;u[s+1]=0,f[s+1]=0;for(var p=o-l,h=p%2!=0,y=0,v=0,b=0,m=0,g=0;g<a;g++){for(var w=-g+y;w<=g-v;w+=2){for(var q=s+w,k=(E=w===-g||w!==g&&u[q-1]<u[q+1]?u[q+1]:u[q-1]+1)-w;E<o&&k<l&&t.charAt(E)===r.charAt(k);)E++,k++;if(u[q]=E,E>o)v+=2;else if(k>l)y+=2;else if(h&&(S=s+p-w)>=0&&S<c&&-1!==f[S]&&E>=(x=o-f[S]))return i(t,r,E,k)}for(var O=-g+b;O<=g-m;O+=2){for(var x,S=s+O,j=(x=O===-g||O!==g&&f[S-1]<f[S+1]?f[S+1]:f[S-1]+1)-O;x<o&&j<l&&t.charAt(o-x-1)===r.charAt(l-j-1);)x++,j++;if(f[S]=x,x>o)m+=2;else if(j>l)b+=2;else if(!h){var E;if((q=s+p-O)>=0&&q<c&&-1!==u[q])if(k=s+(E=u[q])-q,E>=(x=o-x))return i(t,r,E,k)}}}return[[e,t],[n,r]]}(t,a)}(t=t.substring(0,t.length-q),y=y.substring(0,y.length-q));return k&&x.unshift([r,k]),O&&x.push([r,O]),h(x,m),b&&function(t){for(var o=!1,i=[],l=0,y=null,v=0,b=0,m=0,g=0,w=0;v<t.length;)t[v][0]==r?(i[l++]=v,b=g,m=w,g=0,w=0,y=t[v][1]):(t[v][0]==n?g+=t[v][1].length:w+=t[v][1].length,y&&y.length<=Math.max(b,m)&&y.length<=Math.max(g,w)&&(t.splice(i[l-1],0,[e,y]),t[i[l-1]+1][0]=n,l--,v=--l>0?i[l-1]:-1,b=0,m=0,g=0,w=0,y=null,o=!0)),v++;for(o&&h(t),function(t){function e(t,e){if(!t||!e)return 6;var n=t.charAt(t.length-1),r=e.charAt(0),o=n.match(c),i=r.match(c),l=o&&n.match(u),a=i&&r.match(u),s=l&&n.match(f),h=a&&r.match(f),y=s&&t.match(d),v=h&&e.match(p);return y||v?5:s||h?4:o&&!l&&a?3:l||a?2:o||i?1:0}for(var n=1;n<t.length-1;){if(t[n-1][0]==r&&t[n+1][0]==r){var o=t[n-1][1],i=t[n][1],l=t[n+1][1],a=s(o,i);if(a){var h=i.substring(i.length-a);o=o.substring(0,o.length-a),i=h+i.substring(0,i.length-a),l=h+l}for(var y=o,v=i,b=l,m=e(o,i)+e(i,l);i.charAt(0)===l.charAt(0);){o+=i.charAt(0),i=i.substring(1)+l.charAt(0),l=l.substring(1);var g=e(o,i)+e(i,l);g>=m&&(m=g,y=o,v=i,b=l)}t[n-1][1]!=y&&(y?t[n-1][1]=y:(t.splice(n-1,1),n--),t[n][1]=v,b?t[n+1][1]=b:(t.splice(n+1,1),n--))}n++}}(t),v=1;v<t.length;){if(t[v-1][0]==e&&t[v][0]==n){var q=t[v-1][1],k=t[v][1],O=a(q,k),x=a(k,q);O>=x?(O>=q.length/2||O>=k.length/2)&&(t.splice(v,0,[r,k.substring(0,O)]),t[v-1][1]=q.substring(0,q.length-O),t[v+1][1]=k.substring(O),v++):(x>=q.length/2||x>=k.length/2)&&(t.splice(v,0,[r,q.substring(0,x)]),t[v-1][0]=n,t[v-1][1]=k.substring(0,k.length-x),t[v+1][0]=e,t[v+1][1]=q.substring(x),v++),v++}v++}}(x),x}function i(t,e,n,r){var i=t.substring(0,n),l=e.substring(0,r),a=t.substring(n),s=e.substring(r),c=o(i,l),u=o(a,s);return c.concat(u)}function l(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(i,o)==e.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return y(t.charCodeAt(o-1))&&o--,o}function a(t,e){var n=t.length,r=e.length;if(0==n||0==r)return 0;n>r?t=t.substring(n-r):n<r&&(e=e.substring(0,n));var o=Math.min(n,r);if(t==e)return o;for(var i=0,l=1;;){var a=t.substring(o-l),s=e.indexOf(a);if(-1==s)return i;l+=s,0!=s&&t.substring(o-l)!=e.substring(0,l)||(i=l,l++)}}function s(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(t.length-o,t.length-i)==e.substring(e.length-o,e.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return v(t.charCodeAt(t.length-o))&&o--,o}var c=/[^a-zA-Z0-9]/,u=/\s/,f=/[\r\n]/,d=/\n\r?\n$/,p=/^\r?\n\r?\n/;function h(t,o){t.push([r,""]);for(var i,a=0,c=0,u=0,f="",d="";a<t.length;)if(a<t.length-1&&!t[a][1])t.splice(a,1);else switch(t[a][0]){case n:u++,d+=t[a][1],a++;break;case e:c++,f+=t[a][1],a++;break;case r:var p=a-u-c-1;if(o){if(p>=0&&m(t[p][1])){var y=t[p][1].slice(-1);if(t[p][1]=t[p][1].slice(0,-1),f=y+f,d=y+d,!t[p][1]){t.splice(p,1),a--;var v=p-1;t[v]&&t[v][0]===n&&(u++,d=t[v][1]+d,v--),t[v]&&t[v][0]===e&&(c++,f=t[v][1]+f,v--),p=v}}b(t[a][1])&&(y=t[a][1].charAt(0),t[a][1]=t[a][1].slice(1),f+=y,d+=y)}if(a<t.length-1&&!t[a][1]){t.splice(a,1);break}if(f.length>0||d.length>0){f.length>0&&d.length>0&&(0!==(i=l(d,f))&&(p>=0?t[p][1]+=d.substring(0,i):(t.splice(0,0,[r,d.substring(0,i)]),a++),d=d.substring(i),f=f.substring(i)),0!==(i=s(d,f))&&(t[a][1]=d.substring(d.length-i)+t[a][1],d=d.substring(0,d.length-i),f=f.substring(0,f.length-i)));var g=u+c;0===f.length&&0===d.length?(t.splice(a-g,g),a-=g):0===f.length?(t.splice(a-g,g,[n,d]),a=a-g+1):0===d.length?(t.splice(a-g,g,[e,f]),a=a-g+1):(t.splice(a-g,g,[e,f],[n,d]),a=a-g+2)}0!==a&&t[a-1][0]===r?(t[a-1][1]+=t[a][1],t.splice(a,1)):a++,u=0,c=0,f="",d=""}""===t[t.length-1][1]&&t.pop();var w=!1;for(a=1;a<t.length-1;)t[a-1][0]===r&&t[a+1][0]===r&&(t[a][1].substring(t[a][1].length-t[a-1][1].length)===t[a-1][1]?(t[a][1]=t[a-1][1]+t[a][1].substring(0,t[a][1].length-t[a-1][1].length),t[a+1][1]=t[a-1][1]+t[a+1][1],t.splice(a-1,1),w=!0):t[a][1].substring(0,t[a+1][1].length)==t[a+1][1]&&(t[a-1][1]+=t[a+1][1],t[a][1]=t[a][1].substring(t[a+1][1].length)+t[a+1][1],t.splice(a+1,1),w=!0)),a++;w&&h(t,o)}function y(t){return t>=55296&&t<=56319}function v(t){return t>=56320&&t<=57343}function b(t){return v(t.charCodeAt(0))}function m(t){return y(t.charCodeAt(t.length-1))}function g(t,o,i,l){return m(t)||b(l)?null:function(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}([[r,t],[e,o],[n,i],[r,l]])}function w(t,e,n,r){return o(t,e,n,r,!0)}w.INSERT=n,w.DELETE=e,w.EQUAL=r,t.exports=w},508:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}t=n.nmd(t);var o="__lodash_hash_undefined__",i=9007199254740991,l="[object Arguments]",a="[object Boolean]",s="[object Date]",c="[object Function]",u="[object GeneratorFunction]",f="[object Map]",d="[object Number]",p="[object Object]",h="[object Promise]",y="[object RegExp]",v="[object Set]",b="[object String]",m="[object Symbol]",g="[object WeakMap]",w="[object ArrayBuffer]",q="[object DataView]",k="[object Float32Array]",O="[object Float64Array]",x="[object Int8Array]",S="[object Int16Array]",j="[object Int32Array]",E="[object Uint8Array]",_="[object Uint8ClampedArray]",A="[object Uint16Array]",P="[object Uint32Array]",N=/\w*$/,T=/^\[object .+?Constructor\]$/,R=/^(?:0|[1-9]\d*)$/,L={};L[l]=L["[object Array]"]=L[w]=L[q]=L[a]=L[s]=L[k]=L[O]=L[x]=L[S]=L[j]=L[f]=L[d]=L[p]=L[y]=L[v]=L[b]=L[m]=L[E]=L[_]=L[A]=L[P]=!0,L["[object Error]"]=L[c]=L[g]=!1;var C="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,I="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,M=C||I||Function("return this")(),D="object"==r(e)&&e&&!e.nodeType&&e,B=D&&"object"==r(t)&&t&&!t.nodeType&&t,U=B&&B.exports===D;function z(t,e){return t.set(e[0],e[1]),t}function F(t,e){return t.add(e),t}function H(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function W(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function V(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function K(t,e){return function(n){return t(e(n))}}function $(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var G,Z=Array.prototype,X=Function.prototype,Y=Object.prototype,Q=M["__core-js_shared__"],J=(G=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",tt=X.toString,et=Y.hasOwnProperty,nt=Y.toString,rt=RegExp("^"+tt.call(et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=U?M.Buffer:void 0,it=M.Symbol,lt=M.Uint8Array,at=K(Object.getPrototypeOf,Object),st=Object.create,ct=Y.propertyIsEnumerable,ut=Z.splice,ft=Object.getOwnPropertySymbols,dt=ot?ot.isBuffer:void 0,pt=K(Object.keys,Object),ht=Mt(M,"DataView"),yt=Mt(M,"Map"),vt=Mt(M,"Promise"),bt=Mt(M,"Set"),mt=Mt(M,"WeakMap"),gt=Mt(Object,"create"),wt=Ft(ht),qt=Ft(yt),kt=Ft(vt),Ot=Ft(bt),xt=Ft(mt),St=it?it.prototype:void 0,jt=St?St.valueOf:void 0;function Et(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _t(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function At(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Pt(t){this.__data__=new _t(t)}function Nt(t,e,n){var r=t[e];et.call(t,e)&&Ht(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function Tt(t,e){for(var n=t.length;n--;)if(Ht(t[n][0],e))return n;return-1}function Rt(t,e,n,r,o,i,h){var g;if(r&&(g=i?r(t,o,i,h):r(t)),void 0!==g)return g;if(!Gt(t))return t;var T=Wt(t);if(T){if(g=function(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&et.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!e)return function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t,g)}else{var R=Bt(t),C=R==c||R==u;if(Kt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(R==p||R==l||C&&!i){if(W(t))return i?t:{};if(g=function(t){return"function"!=typeof t.constructor||zt(t)?{}:Gt(e=at(t))?st(e):{};var e}(C?{}:t),!e)return function(t,e){return Ct(t,Dt(t),e)}(t,function(t,e){return t&&Ct(e,Zt(e),t)}(g,t))}else{if(!L[R])return i?t:{};g=function(t,e,n,r){var o,i=t.constructor;switch(e){case w:return Lt(t);case a:case s:return new i(+t);case q:return function(t,e){var n=e?Lt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case k:case O:case x:case S:case j:case E:case _:case A:case P:return function(t,e){var n=e?Lt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case f:return function(t,e,n){return H(e?n(V(t),!0):V(t),z,new t.constructor)}(t,r,n);case d:case b:return new i(t);case y:return function(t){var e=new t.constructor(t.source,N.exec(t));return e.lastIndex=t.lastIndex,e}(t);case v:return function(t,e,n){return H(e?n($(t),!0):$(t),F,new t.constructor)}(t,r,n);case m:return o=t,jt?Object(jt.call(o)):{}}}(t,R,Rt,e)}}h||(h=new Pt);var I=h.get(t);if(I)return I;if(h.set(t,g),!T)var M=n?function(t){return function(t,e,n){var r=e(t);return Wt(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,Zt,Dt)}(t):Zt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n););}(M||t,(function(o,i){M&&(o=t[i=o]),Nt(g,i,Rt(o,e,n,r,i,t,h))})),g}function Lt(t){var e=new t.constructor(t.byteLength);return new lt(e).set(new lt(t)),e}function Ct(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var l=e[o],a=r?r(n[l],t[l],l,n,t):void 0;Nt(n,l,void 0===a?t[l]:a)}return n}function It(t,e){var n,o,i=t.__data__;return("string"==(o=r(n=e))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Mt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Gt(t)||(e=t,J&&J in e))&&($t(t)||W(t)?rt:T).test(Ft(t));var e}(n)?n:void 0}Et.prototype.clear=function(){this.__data__=gt?gt(null):{}},Et.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Et.prototype.get=function(t){var e=this.__data__;if(gt){var n=e[t];return n===o?void 0:n}return et.call(e,t)?e[t]:void 0},Et.prototype.has=function(t){var e=this.__data__;return gt?void 0!==e[t]:et.call(e,t)},Et.prototype.set=function(t,e){return this.__data__[t]=gt&&void 0===e?o:e,this},_t.prototype.clear=function(){this.__data__=[]},_t.prototype.delete=function(t){var e=this.__data__,n=Tt(e,t);return!(n<0||(n==e.length-1?e.pop():ut.call(e,n,1),0))},_t.prototype.get=function(t){var e=this.__data__,n=Tt(e,t);return n<0?void 0:e[n][1]},_t.prototype.has=function(t){return Tt(this.__data__,t)>-1},_t.prototype.set=function(t,e){var n=this.__data__,r=Tt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},At.prototype.clear=function(){this.__data__={hash:new Et,map:new(yt||_t),string:new Et}},At.prototype.delete=function(t){return It(this,t).delete(t)},At.prototype.get=function(t){return It(this,t).get(t)},At.prototype.has=function(t){return It(this,t).has(t)},At.prototype.set=function(t,e){return It(this,t).set(t,e),this},Pt.prototype.clear=function(){this.__data__=new _t},Pt.prototype.delete=function(t){return this.__data__.delete(t)},Pt.prototype.get=function(t){return this.__data__.get(t)},Pt.prototype.has=function(t){return this.__data__.has(t)},Pt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof _t){var r=n.__data__;if(!yt||r.length<199)return r.push([t,e]),this;n=this.__data__=new At(r)}return n.set(t,e),this};var Dt=ft?K(ft,Object):function(){return[]},Bt=function(t){return nt.call(t)};function Ut(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||R.test(t))&&t>-1&&t%1==0&&t<e}function zt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Y)}function Ft(t){if(null!=t){try{return tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ht(t,e){return t===e||t!=t&&e!=e}(ht&&Bt(new ht(new ArrayBuffer(1)))!=q||yt&&Bt(new yt)!=f||vt&&Bt(vt.resolve())!=h||bt&&Bt(new bt)!=v||mt&&Bt(new mt)!=g)&&(Bt=function(t){var e=nt.call(t),n=e==p?t.constructor:void 0,r=n?Ft(n):void 0;if(r)switch(r){case wt:return q;case qt:return f;case kt:return h;case Ot:return v;case xt:return g}return e});var Wt=Array.isArray;function Vt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}(t.length)&&!$t(t)}var Kt=dt||function(){return!1};function $t(t){var e=Gt(t)?nt.call(t):"";return e==c||e==u}function Gt(t){var e=r(t);return!!t&&("object"==e||"function"==e)}function Zt(t){return Vt(t)?function(t,e){var n=Wt(t)||function(t){return function(t){return function(t){return!!t&&"object"==r(t)}(t)&&Vt(t)}(t)&&et.call(t,"callee")&&(!ct.call(t,"callee")||nt.call(t)==l)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],o=n.length,i=!!o;for(var a in t)!e&&!et.call(t,a)||i&&("length"==a||Ut(a,o))||n.push(a);return n}(t):function(t){if(!zt(t))return pt(t);var e=[];for(var n in Object(t))et.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}t.exports=function(t){return Rt(t,!0,!0)}},751:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}t=n.nmd(t);var o="__lodash_hash_undefined__",i=1,l=2,a=9007199254740991,s="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",f="[object Boolean]",d="[object Date]",p="[object Error]",h="[object Function]",y="[object GeneratorFunction]",v="[object Map]",b="[object Number]",m="[object Null]",g="[object Object]",w="[object Promise]",q="[object Proxy]",k="[object RegExp]",O="[object Set]",x="[object String]",S="[object Undefined]",j="[object WeakMap]",E="[object ArrayBuffer]",_="[object DataView]",A=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,N={};N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N[s]=N[c]=N[E]=N[f]=N[_]=N[d]=N[p]=N[h]=N[v]=N[b]=N[g]=N[k]=N[O]=N[x]=N[j]=!1;var T="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,R="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,L=T||R||Function("return this")(),C="object"==r(e)&&e&&!e.nodeType&&e,I=C&&"object"==r(t)&&t&&!t.nodeType&&t,M=I&&I.exports===C,D=M&&T.process,B=function(){try{return D&&D.binding&&D.binding("util")}catch(t){}}(),U=B&&B.isTypedArray;function z(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function F(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function H(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var W,V,K,$=Array.prototype,G=Function.prototype,Z=Object.prototype,X=L["__core-js_shared__"],Y=G.toString,Q=Z.hasOwnProperty,J=(W=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",tt=Z.toString,et=RegExp("^"+Y.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=M?L.Buffer:void 0,rt=L.Symbol,ot=L.Uint8Array,it=Z.propertyIsEnumerable,lt=$.splice,at=rt?rt.toStringTag:void 0,st=Object.getOwnPropertySymbols,ct=nt?nt.isBuffer:void 0,ut=(V=Object.keys,K=Object,function(t){return V(K(t))}),ft=It(L,"DataView"),dt=It(L,"Map"),pt=It(L,"Promise"),ht=It(L,"Set"),yt=It(L,"WeakMap"),vt=It(Object,"create"),bt=Ut(ft),mt=Ut(dt),gt=Ut(pt),wt=Ut(ht),qt=Ut(yt),kt=rt?rt.prototype:void 0,Ot=kt?kt.valueOf:void 0;function xt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function St(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function jt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Et(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new jt;++e<n;)this.add(t[e])}function _t(t){var e=this.__data__=new St(t);this.size=e.size}function At(t,e){for(var n=t.length;n--;)if(zt(t[n][0],e))return n;return-1}function Pt(t){return null==t?void 0===t?S:m:at&&at in Object(t)?function(t){var e=Q.call(t,at),n=t[at];try{t[at]=void 0;var r=!0}catch(t){}var o=tt.call(t);return r&&(e?t[at]=n:delete t[at]),o}(t):function(t){return tt.call(t)}(t)}function Nt(t){return Gt(t)&&Pt(t)==s}function Tt(t,e,n,r,o){return t===e||(null==t||null==e||!Gt(t)&&!Gt(e)?t!=t&&e!=e:function(t,e,n,r,o,a){var u=Ht(t),h=Ht(e),y=u?c:Dt(t),m=h?c:Dt(e),w=(y=y==s?g:y)==g,q=(m=m==s?g:m)==g,S=y==m;if(S&&Wt(t)){if(!Wt(e))return!1;u=!0,w=!1}if(S&&!w)return a||(a=new _t),u||Zt(t)?Rt(t,e,n,r,o,a):function(t,e,n,r,o,a,s){switch(n){case _:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!a(new ot(t),new ot(e)));case f:case d:case b:return zt(+t,+e);case p:return t.name==e.name&&t.message==e.message;case k:case x:return t==e+"";case v:var c=F;case O:var u=r&i;if(c||(c=H),t.size!=e.size&&!u)return!1;var h=s.get(t);if(h)return h==e;r|=l,s.set(t,e);var y=Rt(c(t),c(e),r,o,a,s);return s.delete(t),y;case"[object Symbol]":if(Ot)return Ot.call(t)==Ot.call(e)}return!1}(t,e,y,n,r,o,a);if(!(n&i)){var j=w&&Q.call(t,"__wrapped__"),A=q&&Q.call(e,"__wrapped__");if(j||A){var P=j?t.value():t,N=A?e.value():e;return a||(a=new _t),o(P,N,n,r,a)}}return!!S&&(a||(a=new _t),function(t,e,n,r,o,l){var a=n&i,s=Lt(t),c=s.length;if(c!=Lt(e).length&&!a)return!1;for(var u=c;u--;){var f=s[u];if(!(a?f in e:Q.call(e,f)))return!1}var d=l.get(t);if(d&&l.get(e))return d==e;var p=!0;l.set(t,e),l.set(e,t);for(var h=a;++u<c;){var y=t[f=s[u]],v=e[f];if(r)var b=a?r(v,y,f,e,t,l):r(y,v,f,t,e,l);if(!(void 0===b?y===v||o(y,v,n,r,l):b)){p=!1;break}h||(h="constructor"==f)}if(p&&!h){var m=t.constructor,g=e.constructor;m==g||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof g&&g instanceof g||(p=!1)}return l.delete(t),l.delete(e),p}(t,e,n,r,o,a))}(t,e,n,r,Tt,o))}function Rt(t,e,n,r,o,a){var s=n&i,c=t.length,u=e.length;if(c!=u&&!(s&&u>c))return!1;var f=a.get(t);if(f&&a.get(e))return f==e;var d=-1,p=!0,h=n&l?new Et:void 0;for(a.set(t,e),a.set(e,t);++d<c;){var y=t[d],v=e[d];if(r)var b=s?r(v,y,d,e,t,a):r(y,v,d,t,e,a);if(void 0!==b){if(b)continue;p=!1;break}if(h){if(!z(e,(function(t,e){if(i=e,!h.has(i)&&(y===t||o(y,t,n,r,a)))return h.push(e);var i}))){p=!1;break}}else if(y!==v&&!o(y,v,n,r,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function Lt(t){return function(t,e,n){var r=e(t);return Ht(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,Xt,Mt)}function Ct(t,e){var n,o,i=t.__data__;return("string"==(o=r(n=e))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function It(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!$t(t)||function(t){return!!J&&J in t}(t))&&(Vt(t)?et:A).test(Ut(t))}(n)?n:void 0}xt.prototype.clear=function(){this.__data__=vt?vt(null):{},this.size=0},xt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},xt.prototype.get=function(t){var e=this.__data__;if(vt){var n=e[t];return n===o?void 0:n}return Q.call(e,t)?e[t]:void 0},xt.prototype.has=function(t){var e=this.__data__;return vt?void 0!==e[t]:Q.call(e,t)},xt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=vt&&void 0===e?o:e,this},St.prototype.clear=function(){this.__data__=[],this.size=0},St.prototype.delete=function(t){var e=this.__data__,n=At(e,t);return!(n<0||(n==e.length-1?e.pop():lt.call(e,n,1),--this.size,0))},St.prototype.get=function(t){var e=this.__data__,n=At(e,t);return n<0?void 0:e[n][1]},St.prototype.has=function(t){return At(this.__data__,t)>-1},St.prototype.set=function(t,e){var n=this.__data__,r=At(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},jt.prototype.clear=function(){this.size=0,this.__data__={hash:new xt,map:new(dt||St),string:new xt}},jt.prototype.delete=function(t){var e=Ct(this,t).delete(t);return this.size-=e?1:0,e},jt.prototype.get=function(t){return Ct(this,t).get(t)},jt.prototype.has=function(t){return Ct(this,t).has(t)},jt.prototype.set=function(t,e){var n=Ct(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Et.prototype.add=Et.prototype.push=function(t){return this.__data__.set(t,o),this},Et.prototype.has=function(t){return this.__data__.has(t)},_t.prototype.clear=function(){this.__data__=new St,this.size=0},_t.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},_t.prototype.get=function(t){return this.__data__.get(t)},_t.prototype.has=function(t){return this.__data__.has(t)},_t.prototype.set=function(t,e){var n=this.__data__;if(n instanceof St){var r=n.__data__;if(!dt||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new jt(r)}return n.set(t,e),this.size=n.size,this};var Mt=st?function(t){return null==t?[]:(t=Object(t),function(e,n){for(var r=-1,o=null==e?0:e.length,i=0,l=[];++r<o;){var a=e[r];s=a,it.call(t,s)&&(l[i++]=a)}var s;return l}(st(t)))}:function(){return[]},Dt=Pt;function Bt(t,e){return!!(e=null==e?a:e)&&("number"==typeof t||P.test(t))&&t>-1&&t%1==0&&t<e}function Ut(t){if(null!=t){try{return Y.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function zt(t,e){return t===e||t!=t&&e!=e}(ft&&Dt(new ft(new ArrayBuffer(1)))!=_||dt&&Dt(new dt)!=v||pt&&Dt(pt.resolve())!=w||ht&&Dt(new ht)!=O||yt&&Dt(new yt)!=j)&&(Dt=function(t){var e=Pt(t),n=e==g?t.constructor:void 0,r=n?Ut(n):"";if(r)switch(r){case bt:return _;case mt:return v;case gt:return w;case wt:return O;case qt:return j}return e});var Ft=Nt(function(){return arguments}())?Nt:function(t){return Gt(t)&&Q.call(t,"callee")&&!it.call(t,"callee")},Ht=Array.isArray,Wt=ct||function(){return!1};function Vt(t){if(!$t(t))return!1;var e=Pt(t);return e==h||e==y||e==u||e==q}function Kt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}function $t(t){var e=r(t);return null!=t&&("object"==e||"function"==e)}function Gt(t){return null!=t&&"object"==r(t)}var Zt=U?function(t){return function(e){return t(e)}}(U):function(t){return Gt(t)&&Kt(t.length)&&!!N[Pt(t)]};function Xt(t){return null!=(e=t)&&Kt(e.length)&&!Vt(e)?function(t,e){var n=Ht(t),r=!n&&Ft(t),o=!n&&!r&&Wt(t),i=!n&&!r&&!o&&Zt(t),l=n||r||o||i,a=l?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],s=a.length;for(var c in t)!e&&!Q.call(t,c)||l&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Bt(c,s))||a.push(c);return a}(t):function(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||Z))return ut(t);var e,n,r=[];for(var o in Object(t))Q.call(t,o)&&"constructor"!=o&&r.push(o);return r}(t);var e}t.exports=function(t,e){return Tt(t,e)}},357:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(508),l=n(751);!function(t){t.compose=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"object"!==r(t)&&(t={}),"object"!==r(e)&&(e={});var o=i(e);for(var l in n||(o=Object.keys(o).reduce((function(t,e){return null!=o[e]&&(t[e]=o[e]),t}),{})),t)void 0!==t[l]&&void 0===e[l]&&(o[l]=t[l]);return Object.keys(o).length>0?o:void 0},t.diff=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"!==r(t)&&(t={}),"object"!==r(e)&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce((function(n,r){return l(t[r],e[r])||(n[r]=void 0===e[r]?null:e[r]),n}),{});return Object.keys(n).length>0?n:void 0},t.invert=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=t||{};var n=Object.keys(e).reduce((function(n,r){return e[r]!==t[r]&&void 0!==t[r]&&(n[r]=e[r]),n}),{});return Object.keys(t).reduce((function(n,r){return t[r]!==e[r]&&void 0===e[r]&&(n[r]=null),n}),n)},t.transform=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("object"!==r(t))return e;if("object"===r(e)){if(!n)return e;var o=Object.keys(e).reduce((function(n,r){return void 0===t[r]&&(n[r]=e[r]),n}),{});return Object.keys(o).length>0?o:void 0}}}(o||(o={})),e.default=o},13:(t,e,n)=>{"use strict";function r(t,e,n){return(e=a(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===s(e)?e:String(e)}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}t=n.nmd(t),Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;var c=n(691),u=n(508),f=n(751),d=n(357);e.AttributeMap=d.default;var p=n(776);e.Op=p.default;var h=n(938);e.OpIterator=h.default;var y=String.fromCharCode(0),v=function(t,e){if("object"!==s(t)||null===t)throw new Error("cannot retain a ".concat(s(t)));if("object"!==s(e)||null===e)throw new Error("cannot retain a ".concat(s(e)));var n=Object.keys(t)[0];if(!n||n!==Object.keys(e)[0])throw new Error("embed types not matched: ".concat(n," != ").concat(Object.keys(e)[0]));return[n,t[n],e[n]]},b=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}var e,n,i;return e=t,n=[{key:"insert",value:function(t,e){var n={};return"string"==typeof t&&0===t.length?this:(n.insert=t,null!=e&&"object"===s(e)&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))}},{key:"delete",value:function(t){return t<=0?this:this.push({delete:t})}},{key:"retain",value:function(t,e){if("number"==typeof t&&t<=0)return this;var n={retain:t};return null!=e&&"object"===s(e)&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)}},{key:"push",value:function(t){var e=this.ops.length,n=this.ops[e-1];if(t=u(t),"object"===s(n)){if("number"==typeof t.delete&&"number"==typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"==typeof n.delete&&null!=t.insert&&(e-=1,"object"!==s(n=this.ops[e-1])))return this.ops.unshift(t),this;if(f(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"===s(t.attributes)&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"===s(t.attributes)&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this}},{key:"chop",value:function(){var t=this.ops[this.ops.length-1];return t&&"number"==typeof t.retain&&!t.attributes&&this.ops.pop(),this}},{key:"filter",value:function(t){return this.ops.filter(t)}},{key:"forEach",value:function(t){this.ops.forEach(t)}},{key:"map",value:function(t){return this.ops.map(t)}},{key:"partition",value:function(t){var e=[],n=[];return this.forEach((function(r){(t(r)?e:n).push(r)})),[e,n]}},{key:"reduce",value:function(t,e){return this.ops.reduce(t,e)}},{key:"changeLength",value:function(){return this.reduce((function(t,e){return e.insert?t+p.default.length(e):e.delete?t-e.delete:t}),0)}},{key:"length",value:function(){return this.reduce((function(t,e){return t+p.default.length(e)}),0)}},{key:"slice",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,r=[],o=new h.default(this.ops),i=0;i<n&&o.hasNext();){var l=void 0;i<e?l=o.next(e-i):(l=o.next(n-i),r.push(l)),i+=p.default.length(l)}return new t(r)}},{key:"compose",value:function(e){var n=new h.default(this.ops),i=new h.default(e.ops),l=[],a=i.peek();if(null!=a&&"number"==typeof a.retain&&null==a.attributes){for(var c=a.retain;"insert"===n.peekType()&&n.peekLength()<=c;)c-=n.peekLength(),l.push(n.next());a.retain-c>0&&i.next(a.retain-c)}for(var u=new t(l);n.hasNext()||i.hasNext();)if("insert"===i.peekType())u.push(i.next());else if("delete"===n.peekType())u.push(n.next());else{var p=Math.min(n.peekLength(),i.peekLength()),y=n.next(p),b=i.next(p);if(b.retain){var m={};if("number"==typeof y.retain)m.retain="number"==typeof b.retain?p:b.retain;else if("number"==typeof b.retain)null==y.retain?m.insert=y.insert:m.retain=y.retain;else{var g=null==y.retain?"insert":"retain",w=o(v(y[g],b.retain),3),q=w[0],k=w[1],O=w[2],x=t.getHandler(q);m[g]=r({},q,x.compose(k,O,"retain"===g))}var S=d.default.compose(y.attributes,b.attributes,"number"==typeof y.retain);if(S&&(m.attributes=S),u.push(m),!i.hasNext()&&f(u.ops[u.ops.length-1],m)){var j=new t(n.rest());return u.concat(j).chop()}}else"number"==typeof b.delete&&("number"==typeof y.retain||"object"===s(y.retain)&&null!==y.retain)&&u.push(b)}return u.chop()}},{key:"concat",value:function(e){var n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n}},{key:"diff",value:function(e,n){if(this.ops===e.ops)return new t;var r=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:y;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),o=new t,i=c(r[0],r[1],n,!0),l=new h.default(this.ops),a=new h.default(e.ops);return i.forEach((function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case c.INSERT:n=Math.min(a.peekLength(),e),o.push(a.next(n));break;case c.DELETE:n=Math.min(e,l.peekLength()),l.next(n),o.delete(n);break;case c.EQUAL:n=Math.min(l.peekLength(),a.peekLength(),e);var r=l.next(n),i=a.next(n);f(r.insert,i.insert)?o.retain(n,d.default.diff(r.attributes,i.attributes)):o.push(i).delete(n)}e-=n}})),o.chop()}},{key:"eachLine",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\n",r=new h.default(this.ops),o=new t,i=0;r.hasNext();){if("insert"!==r.peekType())return;var l=r.peek(),a=p.default.length(l)-r.peekLength(),s="string"==typeof l.insert?l.insert.indexOf(n,a)-a:-1;if(s<0)o.push(r.next());else if(s>0)o.push(r.next(s));else{if(!1===e(o,r.next(1).attributes||{},i))return;i+=1,o=new t}}o.length()>0&&e(o,{},i)}},{key:"invert",value:function(e){var n=new t;return this.reduce((function(i,l){if(l.insert)n.delete(p.default.length(l));else{if("number"==typeof l.retain&&null==l.attributes)return n.retain(l.retain),i+l.retain;if(l.delete||"number"==typeof l.retain){var a=l.delete||l.retain;return e.slice(i,i+a).forEach((function(t){l.delete?n.push(t):l.retain&&l.attributes&&n.retain(p.default.length(t),d.default.invert(l.attributes,t.attributes))})),i+a}if("object"===s(l.retain)&&null!==l.retain){var c=e.slice(i,i+1),u=new h.default(c.ops).next(),f=o(v(l.retain,u.insert),3),y=f[0],b=f[1],m=f[2],g=t.getHandler(y);return n.retain(r({},y,g.invert(b,m)),d.default.invert(l.attributes,u.attributes)),i+1}}return i}),0),n.chop()}},{key:"transform",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n=!!n,"number"==typeof e)return this.transformPosition(e,n);for(var o=e,i=new h.default(this.ops),l=new h.default(o.ops),a=new t;i.hasNext()||l.hasNext();)if("insert"!==i.peekType()||!n&&"insert"===l.peekType())if("insert"===l.peekType())a.push(l.next());else{var c=Math.min(i.peekLength(),l.peekLength()),u=i.next(c),f=l.next(c);if(u.delete)continue;if(f.delete)a.push(f);else{var y=u.retain,v=f.retain,b="object"===s(v)&&null!==v?v:c;if("object"===s(y)&&null!==y&&"object"===s(v)&&null!==v){var m=Object.keys(y)[0];if(m===Object.keys(v)[0]){var g=t.getHandler(m);g&&(b=r({},m,g.transform(y[m],v[m],n)))}}a.retain(b,d.default.transform(u.attributes,f.attributes,n))}}else a.retain(p.default.length(i.next()));return a.chop()}},{key:"transformPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=!!e;for(var n=new h.default(this.ops),r=0;n.hasNext()&&r<=t;){var o=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(r<t||!e)&&(t+=o),r+=o):t-=Math.min(o,t-r)}return t}}],i=[{key:"registerEmbed",value:function(t,e){this.handlers[t]=e}},{key:"unregisterEmbed",value:function(t){delete this.handlers[t]}},{key:"getHandler",value:function(t){var e=this.handlers[t];if(!e)throw new Error('no handlers for embed type "'.concat(t,'"'));return e}}],n&&l(e.prototype,n),i&&l(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();b.Op=p.default,b.OpIterator=h.default,b.AttributeMap=d.default,b.handlers={},e.default=b,"object"===s(t)&&(t.exports=b,t.exports.default=b)},776:(t,e)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.length=function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"object"===n(t.retain)&&null!==t.retain?1:"string"==typeof t.insert?t.insert.length:1}}(r||(r={})),e.default=r},938:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===r(i)?i:String(i)),o)}var i}Object.defineProperty(e,"__esModule",{value:!0});var i=n(776),l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ops=e,this.index=0,this.offset=0}var e,n;return e=t,(n=[{key:"hasNext",value:function(){return this.peekLength()<1/0}},{key:"next",value:function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,o=i.default.length(e);if(t>=o-n?(t=o-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var l={};return e.attributes&&(l.attributes=e.attributes),"number"==typeof e.retain?l.retain=t:"object"===r(e.retain)&&null!==e.retain?l.retain=e.retain:"string"==typeof e.insert?l.insert=e.insert.substr(n,t):l.insert=e.insert,l}return{retain:1/0}}},{key:"peek",value:function(){return this.ops[this.index]}},{key:"peekLength",value:function(){return this.ops[this.index]?i.default.length(this.ops[this.index])-this.offset:1/0}},{key:"peekType",value:function(){var t=this.ops[this.index];return t?"number"==typeof t.delete?"delete":"number"==typeof t.retain||"object"===r(t.retain)&&null!==t.retain?"retain":"insert":"retain"}},{key:"rest",value:function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(r)}return[]}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.default=l},878:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(248),o=n.n(r),i=n(89),l=n.n(i)()(o());l.push([t.id,"/*!\n * Quill Editor v2.0.0-rc.3\n * https://quilljs.com\n * Copyright (c) 2017-2024, Slab\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */\n.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container:not(.ql-disabled) li[data-list=checked] > .ql-ui,.ql-container:not(.ql-disabled) li[data-list=unchecked] > .ql-ui{cursor:pointer}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;counter-reset:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor > *{cursor:text}.ql-editor p,.ql-editor ol,.ql-editor pre,.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{margin:0;padding:0}@supports (counter-set:none){.ql-editor p,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{counter-set:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor p,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{counter-reset:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor table{border-collapse:collapse}.ql-editor td{border:1px solid #000;padding:2px 5px}.ql-editor ol{padding-left:1.5em}.ql-editor li{list-style-type:none;padding-left:1.5em;position:relative}.ql-editor li > .ql-ui:before{display:inline-block;margin-left:-1.5em;margin-right:.3em;text-align:right;white-space:nowrap;width:1.2em}.ql-editor li[data-list=checked] > .ql-ui,.ql-editor li[data-list=unchecked] > .ql-ui{color:#777}.ql-editor li[data-list=bullet] > .ql-ui:before{content:'\\2022'}.ql-editor li[data-list=checked] > .ql-ui:before{content:'\\2611'}.ql-editor li[data-list=unchecked] > .ql-ui:before{content:'\\2610'}@supports (counter-set:none){.ql-editor li[data-list]{counter-set:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list]{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered]{counter-increment:list-0}.ql-editor li[data-list=ordered] > .ql-ui:before{content:counter(list-0, decimal) '. '}.ql-editor li[data-list=ordered].ql-indent-1{counter-increment:list-1}.ql-editor li[data-list=ordered].ql-indent-1 > .ql-ui:before{content:counter(list-1, lower-alpha) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-1{counter-set:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-2{counter-increment:list-2}.ql-editor li[data-list=ordered].ql-indent-2 > .ql-ui:before{content:counter(list-2, lower-roman) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-2{counter-set:list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-3{counter-increment:list-3}.ql-editor li[data-list=ordered].ql-indent-3 > .ql-ui:before{content:counter(list-3, decimal) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-3{counter-set:list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-4{counter-increment:list-4}.ql-editor li[data-list=ordered].ql-indent-4 > .ql-ui:before{content:counter(list-4, lower-alpha) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-4{counter-set:list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-5{counter-increment:list-5}.ql-editor li[data-list=ordered].ql-indent-5 > .ql-ui:before{content:counter(list-5, lower-roman) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-5{counter-set:list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-6{counter-increment:list-6}.ql-editor li[data-list=ordered].ql-indent-6 > .ql-ui:before{content:counter(list-6, decimal) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-6{counter-set:list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-6{counter-reset:list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-7{counter-increment:list-7}.ql-editor li[data-list=ordered].ql-indent-7 > .ql-ui:before{content:counter(list-7, lower-alpha) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-7{counter-set:list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-7{counter-reset:list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-8{counter-increment:list-8}.ql-editor li[data-list=ordered].ql-indent-8 > .ql-ui:before{content:counter(list-8, lower-roman) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-8{counter-set:list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-8{counter-reset:list-9}}.ql-editor li[data-list=ordered].ql-indent-9{counter-increment:list-9}.ql-editor li[data-list=ordered].ql-indent-9 > .ql-ui:before{content:counter(list-9, decimal) '. '}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor li.ql-direction-rtl{padding-right:1.5em}.ql-editor li.ql-direction-rtl > .ql-ui:before{margin-left:.3em;margin-right:-1.5em;text-align:left}.ql-editor table{table-layout:fixed;width:100%}.ql-editor table td{outline:none}.ql-editor .ql-code-block-container{font-family:monospace}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor .ql-ui{position:absolute}.ql-editor.ql-blank::before{color:rgba(0,0,0,0.6);content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.ql-snow.ql-toolbar:after,.ql-snow .ql-toolbar:after{clear:both;content:'';display:table}.ql-snow.ql-toolbar button,.ql-snow .ql-toolbar button{background:none;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-snow.ql-toolbar button svg,.ql-snow .ql-toolbar button svg{float:left;height:100%}.ql-snow.ql-toolbar button:active:hover,.ql-snow .ql-toolbar button:active:hover{outline:none}.ql-snow.ql-toolbar input.ql-image[type=file],.ql-snow .ql-toolbar input.ql-image[type=file]{display:none}.ql-snow.ql-toolbar button:hover,.ql-snow .ql-toolbar button:hover,.ql-snow.ql-toolbar button:focus,.ql-snow .ql-toolbar button:focus,.ql-snow.ql-toolbar button.ql-active,.ql-snow .ql-toolbar button.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item.ql-selected{color:#06c}.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:focus .ql-fill,.ql-snow .ql-toolbar button:focus .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill{fill:#06c}.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:focus .ql-stroke,.ql-snow .ql-toolbar button:focus .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke-miter,.ql-snow.ql-toolbar button:focus .ql-stroke-miter,.ql-snow .ql-toolbar button:focus .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter{stroke:#06c}@media (pointer:coarse){.ql-snow.ql-toolbar button:hover:not(.ql-active),.ql-snow .ql-toolbar button:hover:not(.ql-active){color:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#444}}.ql-snow{box-sizing:border-box}.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-snow .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:'';display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-thin,.ql-snow .ql-stroke.ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor .ql-code-block-container{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor .ql-code-block-container{margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding:2px 4px}.ql-snow .ql-editor .ql-code-block-container{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%}.ql-snow .ql-picker-label::before{display:inline-block;line-height:22px}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{right:4px}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-label::before,.ql-snow .ql-picker.ql-header .ql-picker-item::before{content:'Normal'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before{content:'Heading 1'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before{content:'Heading 2'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before{content:'Heading 3'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before{content:'Heading 4'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before{content:'Heading 5'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before{content:'Heading 6'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-label::before,.ql-snow .ql-picker.ql-font .ql-picker-item::before{content:'Sans Serif'}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before{content:'Serif'}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before{content:'Monospace'}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-label::before,.ql-snow .ql-picker.ql-size .ql-picker-item::before{content:'Normal'}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before{content:'Small'}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before{content:'Large'}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before{content:'Huge'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-code-block-container{position:relative}.ql-code-block-container .ql-ui{right:5px;top:5px}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:'Helvetica Neue','Helvetica','Arial',sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-right:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:rgba(0,0,0,0.2) 0 2px 8px}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label{border-color:#ccc}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow + .ql-container.ql-snow{border-top:0}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip::before{content:\"Visit URL:\";line-height:26px;margin-right:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action::after{border-right:1px solid #ccc;content:'Edit';margin-left:16px;padding-right:8px}.ql-snow .ql-tooltip a.ql-remove::before{content:'Remove';margin-left:8px}.ql-snow .ql-tooltip a{line-height:26px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action::after{border-right:0;content:'Save';padding-right:0}.ql-snow .ql-tooltip[data-mode=link]::before{content:\"Enter link:\"}.ql-snow .ql-tooltip[data-mode=formula]::before{content:\"Enter formula:\"}.ql-snow .ql-tooltip[data-mode=video]::before{content:\"Enter video:\"}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #ccc}",""]);const a=l},507:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(248),o=n.n(r),i=n(89),l=n.n(i)()(o());l.push([t.id,"header {\n    position: sticky;\n    background-color: white;\n    color: rgb(0 62 107);\n    top:0;\n    z-index: 10;\n    margin: auto;\n    border-bottom: 1px solid rgb(0 62 107);\n}\nheader .title{\n    font-size: 2em;\n    display: flex;\n    text-align: center;\n    margin: auto;\n}\nheader .title span{\n    margin: auto;\n    flex-grow: 5;\n}\nheader .title img {\n    width: min-content;\n    flex-grow: unset;\n}\nheader .toolbar {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n    gap: 5px;\n    background-color: #ddd;\n    margin-bottom: 5px;\n}\nheader .toolbar button{\n    font-size: large;\n    height: 1.7em;\n    cursor: pointer;\n}",""]);const a=l},835:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(248),o=n.n(r),i=n(89),l=n.n(i)()(o());l.push([t.id,"/* kap-tabe */\n.kap-table {\n    table-layout: fixed;\n    width: 100%;\n    margin: 1em auto;\n    border-collapse: collapse;\n    text-align: left;\n    font-size: 14px;\n    border: 1px solid #ccc;\n    counter-reset: rowNumber;\n    page-break-after: always;\n}\n\n.kap-table th, \n.kap-table td {\n    padding: 0.5em;\n    border: 1px solid #ccc; \n    vertical-align: text-top;\n}\n.kap-table th:first-child,\n.kap-table td:first-child {\n    width: 25%;\n}\n\n.kap-table tr {\n    page-break-inside: avoid;\n}\n.kap-table th {\n    font-weight: lighter;\n    line-height: 1em;\n    font-size: small;\n}\n.kap-table thead tr:first-child th {\n    background-color: #f0f0f0;\n    font-weight: bold;\n}\n\n.kap-table tbody tr.subhead {\n    font-size: smaller;\n    color: #333;\n    background-color: #f0f0f0;\n    text-transform: uppercase;\n    page-break-after: avoid;\n}\n.kap-table tbody tr.subhead td {\n    border-right: none;\n}\n.kap-table tbody tr:not(.subhead) {\n    counter-increment: rowNumber;\n    height: 6em;\n    outline: 2px solid #333;\n}\n.kap-table tbody>tr:not(.subhead) td:first-child {\n    padding-left: 2em;\n    position: relative;\n    line-height: 1.5em;\n}\n.kap-table tbody>tr:not(.subhead) td:first-child::before {\n    content: counter(rowNumber);\n    font-size: 0.8em;\n    min-width: 1em;\n    display: block;\n    position: absolute;\n    left: 0.5em;\n    top: 25%;\n}\n.kap-table tbody td.target {\n    background-color: #b9cab0;\n}\n.kap-table tbody td .cpigrid {\n    display: grid;\n    width: 100%;\n    justify-items: center;\n}\n\n.kap-table tbody td label {\n    display: inline-grid;\n    grid-template-columns: 50% auto;\n    text-align: center;\n    align-items:center;\n    width: 100%;\n}\n\n.kap-table tbody td input {\n    height: 2em;\n}\n\n.kap-table tbody td .comments {\n    border: 1px solid #ccc;\n    padding: 0.25em;\n    margin: 0;\n}",""]);const a=l},567:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(248),o=n.n(r),i=n(89),l=n.n(i)()(o());l.push([t.id,"/* textarea */\n.textarea-container {\n    display: flex;\n    flex-direction: column;\n    padding: 0em;\n    margin-block-end: 1em;\n    page-break-inside: avoid;\n    break-inside: avoid;\n}\n\np.instructions {\n    padding: 0 1em;\n}   \n.textarea .editor.ql-container{ \n    background-color: white;\n}\n\n",""]);const a=l},135:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(248),o=n.n(r),i=n(89),l=n.n(i)()(o());l.push([t.id,'.form p {\n    display: flex;\n    text-align: left;\n    padding: 0.5em;\n}\n.form p label{\n    display: flex;\n    justify-content: flex-end;\n    flex-grow: 1;\n    width: 49%;\n    margin: 0.25em;\n}\n\n.form .input {\n    display: inline-block;\n    max-width: 70%;\n    flex-grow: 1;\n    cursor: text;\n    background-color: field;\n    margin: 0 1em;\n    padding: 0.35em;\n    border-width: 2px;\n    border-style: inset;\n    border-color: light-dark(rgb(118, 118, 118), rgb(133, 133, 133));\n}\n\n.form p label.date{\n    max-width: max-content;\n}\n.form p input[type="date"] {\n    margin: 0 1em;\n    padding: 0.35em;\n}\n\n.form p.boxed{\n    text-align: left;\n    background-color: #eee;\n    border: 1px solid #ccc;\n    justify-content: flex-start;\n}\n.form p.boxed label{\n    width: fit-content;\n    margin: auto 1em auto 0;\n}\n.form p.boxed select {\n    width: auto;\n    height: 3em;\n}\n.form p.boxed input[type="radio"] {    \n    width: 2em;\n    height: 2em;\n    vertical-align: middle;\n}\n\n.form .signature {\n    display: flex;\n    justify-content: center;\n    width: 100%;\n}\n\n.form .signature canvas {\n    background-color: white;\n    border: 1px solid #ccc;\n}\n.form .signature button {\n    flex-grow: 1;\n    max-width: 60px;\n}\n.form .break {\n    flex-basis: 100%;\n    width: 100%;\n    height: 0;\n}',""]);const a=l},365:(t,e,n)=>{"use strict";n.d(e,{A:()=>d});var r=n(248),o=n.n(r),i=n(89),l=n.n(i),a=n(507),s=n(835),c=n(567),u=n(135),f=l()(o());f.push([t.id,"@import url(https://fonts.googleapis.com/css?family=Open+Sans:400,600,700&display=swap);"]),f.i(a.A),f.i(s.A),f.i(c.A),f.i(u.A),f.push([t.id,"* {\n    box-sizing: border-box;\n}\n\nhtml,\nbody {\n    font-size: 16px;\n    font-family: 'OpenSans', Helvetica, Arial, sans-serif;\n    margin: 0 auto;\n    padding: 0;\n    max-width: 1080px;\n    min-width: 600px;\n}\n\nsection {\n    margin: 0 auto;\n    padding: 0.5em 0;\n    border-bottom: 1px dashed #aaa;\n    overflow: hidden;\n    box-sizing: content-box;\n    page-break-after: always;\n    &.open{\n        height: fit-content !important;\n    }\n}\n\nsection>h1 {\n    padding: 1em 0.5em;\n    font-size: 1em;\n    text-transform: capitalize;\n    background-color: #dbe5f1;\n    cursor: pointer;\n    page-break-after: avoid;\n}\n\nsection>h1::after {\n    content: '\\25BC';\n    float: right;\n}\n\nsection.open>h1::after {\n    content: '\\25B2';\n    float: right;\n}\n\n.learner {\n    background-color: rgb(233, 250, 255);\n    outline: 2px solid rgb(0, 142, 185);\n}\n\n.ci {\n    background-color: rgb(233, 248, 235);\n    outline: 2px solid rgb(132, 189, 94);\n}\n\n.faculty {\n    background-color: rgb(242 219 219);\n    outline: 2px solid rgb(250 137 137);\n}\n\n.tooltip {\n    position: relative;\n}\n\n.tooltip .tooltiptext {\n    visibility: hidden;\n    width: 120px;\n    background-color: black;\n    color: #fff;\n    text-align: center;\n    border-radius: 6px;\n    padding: 5px 0;\n\n    /* Position the tooltip */\n    position: absolute;\n    width: 120px;\n    top: -5px;\n    right: 105%;\n    z-index: 1;\n}\n\n.tooltip:hover .tooltiptext {\n    visibility: visible;\n}\n\n@media print {\n    body {\n        max-width: 1400px;\n        font-size: 11px;\n    }\n\n    header {\n        position: relative;\n    }\n    /* TODO: does not work on mobile browsers... need mobile handling?*/\n    header .toolbar,\n    .tooltip .tooltiptext,\n    div.ql-toolbar,\n    .noprint {\n        display: none;\n    }\n\n    section.open>h1::after,\n    section>h1::after {\n        content: '';\n    }\n\n    .kap-table tbody>tr>td {\n        font-size: 10px;\n    }\n\n    .ql-toolbar.ql-snow+.ql-container.ql-snow {\n        border-top: 0;\n        border-bottom: 0;\n    }\n\n    section {\n        height: fit-content !important;\n    }\n\n    .kap-table tbody td input {\n        height: 1em;\n    }\n\n}",""]);const d=f},197:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r='<header> <div class="toolbar"> <button id="save_btn" title="Download HTML file">Save File &#128190;</button> <button id="pdf_btn" title="Save as read-only PDF">PDF &#128438;</button> </div> <div class="title"> <img height="70" width="70" src="https://learn.bcit.ca/shared/scripts/interactive/UnityModelViewerTemplateData/bcit_cmyk.png" alt="BCIT Logo"/> <span>Nursing Clinical Evaluation</span> </div> </header> '},155:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r='<div class="cpigrid"> <label class="learner midterm tooltip"> <span>M</span> <input type="checkbox" name="m-{{table-row}}" value="{{val}}"/> <span class="tooltiptext">Midterm Learner </span> </label> <label class="ci midterm tooltip"> <span>MI</span> <input type="checkbox" name="mi-{{table-row}}" value="{{val}}"/> <span class="tooltiptext">Midterm CI </span> </label> <br/> <label class="learner final tooltip"> <span>F</span> <input type="checkbox" name="f-{{table-row}}" value="{{val}}"/> <span class="tooltiptext">Final Learner </span> </label> <label class="ci final tooltip"> <span>FI</span> <input type="checkbox" name="fi-{{table-row}}" value="{{val}}"/> <span class="tooltiptext">Final CI </span> </label> </div> '},15:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r='<p class="instructions"> Provide 2-3 examples to support your self-assessment for this key area of practice. (Learner to fill in) </p> <div class="textarea-container learner"> <div class="_richtext textarea"> <p class="instructions">Midterm</p> <div class="editor midterm"></div> </div> </div> <div class="textarea-container learner"> <div class="_richtext textarea"> <p class="instructions">Final</p> <div class="editor final"></div> </div> </div> '},539:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r='<section class="form"> <h1>General Information</h1> <div class="learner"> <p> <label>Clinical Course Name and Number: <span contenteditable="true" class="input text" id="coursename"></span> </label> </p> <p> <label>Student Name: <span contenteditable="true" class="input text" id="sname"></span> </label> <label>Student #: <span contenteditable="true" class="input text" id="sid"></span></label> </p> <p> <label>CI/Preceptor: <span contenteditable="true" class="input text" id="pname"></span></label> <label>Faculty Support: <span contenteditable="true" class="input text" id="fname"></span></label> </p> <p> <label>Clincal Dates: <span contenteditable="true" class="input text" id="cdates"></span></label> <label>Site: <span contenteditable="true" class="input text" id="site"></span></label> </p> <p> <label>Clincal Hours: <span contenteditable="true" class="input text" id="chours"></span></label> <label>Absent Hours: <span contenteditable="true" class="input text" id="ahours"></span></label> </p> </div> </section> '},874:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r="<section> <h1>Instructions</h1> <p> This form is to be used for the Clinical Evaluation Tool (CET) for students in the BCIT Critical Care Nursing Specialty Program. The CET is a formative assessment tool that is used to assess the students clinical performance in the critical care environment. </p> <p> The CET is divided into two sections: the KAP and the comments section. The KAP section contains a list of clinical practice indicators that are used to assess the students performance. The comments section is used to provide additional feedback on the students performance. </p> <p> The KAP section is divided into six levels of performance: Not Assessed, Unable to demonstrate competence, Marginal, Able to do with assistance, Able to do with supervision, and Able to do independently. The students performance is assessed based on the clinical practice indicators listed in the KAP section. </p> <p> The comments section is used to provide additional feedback on the students performance. This feedback should be specific and constructive, and should focus on the students strengths and areas for improvement. </p> <p> The CET is to be completed by the students preceptor or clinical instructor. The preceptor or clinical instructor should review the students performance in the clinical setting and provide feedback based on the clinical practice indicators listed in the KAP section. The preceptor or clinical instructor should also provide feedback in the comments section. </p> </section>"},787:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r='<section class="comments"> <h1>Midterm Comments</h1> <div class="textarea-container learner"> <p class="instructions"> Midterm Learning Goals (Learner to fill in) </p> <div class="_richtext textarea"> <div class="editor midterm"></div> </div> </div> <div class="textarea-container ci"> <p class="instructions"> Midterm Comments and Feedback (Instructor/Preceptor to fill in) </p> <div class="_richtext textarea"> <div class="editor midterm"></div> </div> </div> <div class="textarea-container faculty"> <p class="instructions"> Midterm Faculty Support Comments </p> <div class="_richtext textarea"> <div class="editor midterm"></div> </div> </div> </section> <section class="comments"> <h1>Final Comments</h1> <div class="textarea-container learner"> <p class="instructions"> Final Learning Goals (Learner to fill in) </p> <div class="_richtext textarea"> <div class="editor final"></div> </div> </div> <div class="textarea-container ci"> <p class="instructions"> Final Evaluation Comments and Feedback (Instructor/Preceptor to fill in) </p> <div class="_richtext textarea"> <div class="editor final"></div> </div> </div> <div class="textarea-container ci"> <p class="instructions"> Suggestions for Continued Clinical Development in Practice Area </p> <div class="_richtext textarea"> <div class="editor final"></div> </div> </div> <div class="textarea-container faculty"> <p class="instructions"> Final Faculty Support Comments </p> <div class="_richtext textarea"> <div class="editor final"></div> </div> </div> </section> '},904:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r='<section class="form"> <h1>Sign Off</h1> <h2>Midterm</h2> <p class="ci"> <label>CI/Preceptor: <span contenteditable="true" class="input text" id="m-ciname"></span></label> <label class="date">Date: <input type="date" id="m-cidate"/></label> </p> <p class="learner"> <label>Learner: <span contenteditable="true" class="input text" id="m-learnername"></span></label> <label class="date">Date: <input type="date" id="m-learnerdate"/></label> </p> <h2>Final</h2> <p class="boxed"> <label>Final Evaluation: </label> <select id="satisfactory" name="satisfactory"> <option value="">--Please choose an option--</option> <option value="y">Satisfactory</option> <option value="n">Unsatisfactory</option> </select> </p> <p class="ci"> <label>CI/Preceptor: <span contenteditable="true" class="input text" id="c-ciname"></span></label> <label class="date">Date: <input type="date" id="f-cidate"/></label> </p> <p class="learner"> <label>Learner: <span contenteditable="true" class="input text" id="f-learnername"></span> </label> <label class="date">Date: <input type="date" id="f-learndate"/> </label> </p> <div class="faculty"> <p> <label>Faculty Support: <span contenteditable="true" class="input text" id="f-facname"></span></label> <label class="date">Date: <input type="date" id="f-facdate"/></label> </p> <span class="signature"> <label>Signature </label> <canvas id="f-fac-signature" width="500" height="100"></canvas> <button id="f-fac-clear" class="noprint">Clear</button> </span> </div> </section> '},72:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},l=[],a=0;a<t.length;a++){var s=t[a],c=r.base?s[0]+r.base:s[0],u=i[c]||0,f="".concat(c," ").concat(u);i[c]=u+1;var d=n(f),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var h=o(p,r);r.byIndex=a,e.splice(a,0,{identifier:f,updater:h,references:1})}l.push(f)}return l}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var l=0;l<i.length;l++){var a=n(i[l]);e[a].references--}for(var s=r(t,o),c=0;c<i.length;c++){var u=n(i[c]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}i=s}}},659:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r](i,i.exports,n),i.loaded=!0,i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n.nc=void 0,(()=>{"use strict";var t={};n.r(t),n.d(t,{Attributor:()=>dn,AttributorStore:()=>wn,BlockBlot:()=>Tn,ClassAttributor:()=>bn,ContainerBlot:()=>Ln,EmbedBlot:()=>Cn,InlineBlot:()=>Pn,LeafBlot:()=>xn,ParentBlot:()=>_n,Registry:()=>yn,Scope:()=>fn,ScrollBlot:()=>Dn,StyleAttributor:()=>gn,TextBlot:()=>Un});var e=n(72),r=n.n(e),o=n(825),i=n.n(o),l=n(659),a=n.n(l),s=n(56),c=n.n(s),u=n(540),f=n.n(u),d=n(113),p=n.n(d),h=n(365),y={};function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===g(o)?o:String(o)),r)}var o}function k(t,e,n){return e&&q(t.prototype,e),n&&q(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}y.styleTagTransform=p(),y.setAttributes=c(),y.insert=a().bind(null,"head"),y.domAPI=i(),y.insertStyleElement=f(),r()(h.A,y),h.A&&h.A.locals&&h.A.locals;var O=function(){function t(e,n,r,o){if(w(this,t),isNaN(e)||isNaN(n))throw new Error("Point is invalid: (".concat(e,", ").concat(n,")"));this.x=+e,this.y=+n,this.pressure=r||0,this.time=o||Date.now()}return k(t,[{key:"distanceTo",value:function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}},{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y&&this.pressure===t.pressure&&this.time===t.time}},{key:"velocityFrom",value:function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0}}]),t}(),x=function(){function t(e,n,r,o,i,l){w(this,t),this.startPoint=e,this.control2=n,this.control1=r,this.endPoint=o,this.startWidth=i,this.endWidth=l}return k(t,[{key:"length",value:function(){for(var t,e,n=0,r=0;r<=10;r+=1){var o=r/10,i=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){var a=i-t,s=l-e;n+=Math.sqrt(a*a+s*s)}t=i,e=l}return n}},{key:"point",value:function(t,e,n,r,o){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+o*t*t*t}}],[{key:"fromPoints",value:function(e,n){var r=this.calculateControlPoints(e[0],e[1],e[2]).c2,o=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new t(e[1],r,o,e[2],n.start,n.end)}},{key:"calculateControlPoints",value:function(t,e,n){var r=t.x-e.x,o=t.y-e.y,i=e.x-n.x,l=e.y-n.y,a=(t.x+e.x)/2,s=(t.y+e.y)/2,c=(e.x+n.x)/2,u=(e.y+n.y)/2,f=Math.sqrt(r*r+o*o),d=Math.sqrt(i*i+l*l),p=f+d==0?0:d/(f+d),h=c+(a-c)*p,y=u+(s-u)*p,v=e.x-h,b=e.y-y;return{c1:new O(a+v,s+b),c2:new O(c+v,u+b)}}}]),t}(),S=function(){function t(){w(this,t);try{this._et=new EventTarget}catch(t){this._et=document}}return k(t,[{key:"addEventListener",value:function(t,e,n){this._et.addEventListener(t,e,n)}},{key:"dispatchEvent",value:function(t){return this._et.dispatchEvent(t)}},{key:"removeEventListener",value:function(t,e,n){this._et.removeEventListener(t,e,n)}}]),t}(),j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=m(e);if(n){var o=m(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function o(t){var e,n,i,l,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w(this,o),(e=r.call(this)).canvas=t,e._drawingStroke=!1,e._isEmpty=!0,e._lastPoints=[],e._data=[],e._lastVelocity=0,e._lastWidth=0,e._handleMouseDown=function(t){e._isLeftButtonPressed(t,!0)&&!e._drawingStroke&&e._strokeBegin(e._pointerEventToSignatureEvent(t))},e._handleMouseMove=function(t){e._isLeftButtonPressed(t,!0)&&e._drawingStroke?e._strokeMoveUpdate(e._pointerEventToSignatureEvent(t)):e._strokeEnd(e._pointerEventToSignatureEvent(t),!1)},e._handleMouseUp=function(t){e._isLeftButtonPressed(t)||e._strokeEnd(e._pointerEventToSignatureEvent(t))},e._handleTouchStart=function(t){1!==t.targetTouches.length||e._drawingStroke||(t.cancelable&&t.preventDefault(),e._strokeBegin(e._touchEventToSignatureEvent(t)))},e._handleTouchMove=function(t){1===t.targetTouches.length&&(t.cancelable&&t.preventDefault(),e._drawingStroke?e._strokeMoveUpdate(e._touchEventToSignatureEvent(t)):e._strokeEnd(e._touchEventToSignatureEvent(t),!1))},e._handleTouchEnd=function(t){0===t.targetTouches.length&&(t.cancelable&&t.preventDefault(),e.canvas.removeEventListener("touchmove",e._handleTouchMove),e._strokeEnd(e._touchEventToSignatureEvent(t)))},e._handlePointerDown=function(t){e._isLeftButtonPressed(t)&&!e._drawingStroke&&(t.preventDefault(),e._strokeBegin(e._pointerEventToSignatureEvent(t)))},e._handlePointerMove=function(t){e._isLeftButtonPressed(t,!0)&&e._drawingStroke?(t.preventDefault(),e._strokeMoveUpdate(e._pointerEventToSignatureEvent(t))):e._strokeEnd(e._pointerEventToSignatureEvent(t),!1)},e._handlePointerUp=function(t){e._isLeftButtonPressed(t)||(t.preventDefault(),e._strokeEnd(e._pointerEventToSignatureEvent(t)))},e.velocityFilterWeight=a.velocityFilterWeight||.7,e.minWidth=a.minWidth||.5,e.maxWidth=a.maxWidth||2.5,e.throttle=null!==(n=a.throttle)&&void 0!==n?n:16,e.minDistance=null!==(i=a.minDistance)&&void 0!==i?i:5,e.dotSize=a.dotSize||0,e.penColor=a.penColor||"black",e.backgroundColor=a.backgroundColor||"rgba(0,0,0,0)",e.compositeOperation=a.compositeOperation||"source-over",e.canvasContextOptions=null!==(l=a.canvasContextOptions)&&void 0!==l?l:{},e._strokeMoveUpdate=e.throttle?function(t){var e,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,i=0,l=null,a=function(){i=Date.now(),l=null,e=t.apply(n,r),l||(n=null,r=[])};return function(){var s=Date.now(),c=o-(s-i);n=this;for(var u=arguments.length,f=new Array(u),d=0;d<u;d++)f[d]=arguments[d];return r=f,c<=0||c>o?(l&&(clearTimeout(l),l=null),i=s,e=t.apply(n,r),l||(n=null,r=[])):l||(l=window.setTimeout(a,c)),e}}(o.prototype._strokeUpdate,e.throttle):o.prototype._strokeUpdate,e._ctx=t.getContext("2d",e.canvasContextOptions),e.clear(),e.on(),e}return k(o,[{key:"clear",value:function(){var t=this._ctx,e=this.canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}},{key:"fromDataURL",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,o){var i=new Image,l=n.ratio||window.devicePixelRatio||1,a=n.width||e.canvas.width/l,s=n.height||e.canvas.height/l,c=n.xOffset||0,u=n.yOffset||0;e._reset(e._getPointGroupOptions()),i.onload=function(){e._ctx.drawImage(i,c,u,a,s),r()},i.onerror=function(t){o(t)},i.crossOrigin="anonymous",i.src=t,e._isEmpty=!1}))}},{key:"toDataURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",e=arguments.length>1?arguments[1]:void 0;return"image/svg+xml"===t?("object"!==g(e)&&(e=void 0),"data:image/svg+xml;base64,".concat(btoa(this.toSVG(e)))):("number"!=typeof e&&(e=void 0),this.canvas.toDataURL(t,e))}},{key:"on",value:function(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";var t=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!t?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}},{key:"off",value:function(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerDown),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this._removeMoveUpEventListeners()}},{key:"_getListenerFunctions",value:function(){var t,e=window.document===this.canvas.ownerDocument?window:null!==(t=this.canvas.ownerDocument.defaultView)&&void 0!==t?t:this.canvas.ownerDocument;return{addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}},{key:"_removeMoveUpEventListeners",value:function(){var t=this._getListenerFunctions().removeEventListener;t("pointermove",this._handlePointerMove),t("pointerup",this._handlePointerUp),t("mousemove",this._handleMouseMove),t("mouseup",this._handleMouseUp),t("touchmove",this._handleTouchMove),t("touchend",this._handleTouchEnd)}},{key:"isEmpty",value:function(){return this._isEmpty}},{key:"fromData",value:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).clear;(void 0===e||e)&&this.clear(),this._fromData(t,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(t)}},{key:"toData",value:function(){return this._data}},{key:"_isLeftButtonPressed",value:function(t,e){return e?1===t.buttons:1==(1&t.buttons)}},{key:"_pointerEventToSignatureEvent",value:function(t){return{event:t,type:t.type,x:t.clientX,y:t.clientY,pressure:"pressure"in t?t.pressure:0}}},{key:"_touchEventToSignatureEvent",value:function(t){var e=t.changedTouches[0];return{event:t,type:t.type,x:e.clientX,y:e.clientY,pressure:e.force}}},{key:"_getPointGroupOptions",value:function(t){return{penColor:t&&"penColor"in t?t.penColor:this.penColor,dotSize:t&&"dotSize"in t?t.dotSize:this.dotSize,minWidth:t&&"minWidth"in t?t.minWidth:this.minWidth,maxWidth:t&&"maxWidth"in t?t.maxWidth:this.maxWidth,velocityFilterWeight:t&&"velocityFilterWeight"in t?t.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:t&&"compositeOperation"in t?t.compositeOperation:this.compositeOperation}}},{key:"_strokeBegin",value:function(t){if(this.dispatchEvent(new CustomEvent("beginStroke",{detail:t,cancelable:!0}))){var e=this._getListenerFunctions().addEventListener;switch(t.event.type){case"mousedown":e("mousemove",this._handleMouseMove),e("mouseup",this._handleMouseUp);break;case"touchstart":e("touchmove",this._handleTouchMove),e("touchend",this._handleTouchEnd);break;case"pointerdown":e("pointermove",this._handlePointerMove),e("pointerup",this._handlePointerUp)}this._drawingStroke=!0;var n=this._getPointGroupOptions(),r=Object.assign(Object.assign({},n),{points:[]});this._data.push(r),this._reset(n),this._strokeUpdate(t)}}},{key:"_strokeUpdate",value:function(t){if(this._drawingStroke)if(0!==this._data.length){this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:t}));var e=this._createPoint(t.x,t.y,t.pressure),n=this._data[this._data.length-1],r=n.points,o=r.length>0&&r[r.length-1],i=!!o&&e.distanceTo(o)<=this.minDistance,l=this._getPointGroupOptions(n);if(!o||!o||!i){var a=this._addPoint(e,l);o?a&&this._drawCurve(a,l):this._drawDot(e,l),r.push({time:e.time,x:e.x,y:e.y,pressure:e.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:t}))}else this._strokeBegin(t)}},{key:"_strokeEnd",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._removeMoveUpEventListeners(),this._drawingStroke&&(e&&this._strokeUpdate(t),this._drawingStroke=!1,this.dispatchEvent(new CustomEvent("endStroke",{detail:t})))}},{key:"_handlePointerEvents",value:function(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerDown)}},{key:"_handleMouseEvents",value:function(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown)}},{key:"_handleTouchEvents",value:function(){this.canvas.addEventListener("touchstart",this._handleTouchStart)}},{key:"_reset",value:function(t){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(t.minWidth+t.maxWidth)/2,this._ctx.fillStyle=t.penColor,this._ctx.globalCompositeOperation=t.compositeOperation}},{key:"_createPoint",value:function(t,e,n){var r=this.canvas.getBoundingClientRect();return new O(t-r.left,e-r.top,n,(new Date).getTime())}},{key:"_addPoint",value:function(t,e){var n=this._lastPoints;if(n.push(t),n.length>2){3===n.length&&n.unshift(n[0]);var r=this._calculateCurveWidths(n[1],n[2],e),o=x.fromPoints(n,r);return n.shift(),o}return null}},{key:"_calculateCurveWidths",value:function(t,e,n){var r=n.velocityFilterWeight*e.velocityFrom(t)+(1-n.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(r,n),i={end:o,start:this._lastWidth};return this._lastVelocity=r,this._lastWidth=o,i}},{key:"_strokeWidth",value:function(t,e){return Math.max(e.maxWidth/(t+1),e.minWidth)}},{key:"_drawCurveSegment",value:function(t,e,n){var r=this._ctx;r.moveTo(t,e),r.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1}},{key:"_drawCurve",value:function(t,e){var n=this._ctx,r=t.endWidth-t.startWidth,o=2*Math.ceil(t.length());n.beginPath(),n.fillStyle=e.penColor;for(var i=0;i<o;i+=1){var l=i/o,a=l*l,s=a*l,c=1-l,u=c*c,f=u*c,d=f*t.startPoint.x;d+=3*u*l*t.control1.x,d+=3*c*a*t.control2.x,d+=s*t.endPoint.x;var p=f*t.startPoint.y;p+=3*u*l*t.control1.y,p+=3*c*a*t.control2.y,p+=s*t.endPoint.y;var h=Math.min(t.startWidth+s*r,e.maxWidth);this._drawCurveSegment(d,p,h)}n.closePath(),n.fill()}},{key:"_drawDot",value:function(t,e){var n=this._ctx,r=e.dotSize>0?e.dotSize:(e.minWidth+e.maxWidth)/2;n.beginPath(),this._drawCurveSegment(t.x,t.y,r),n.closePath(),n.fillStyle=e.penColor,n.fill()}},{key:"_fromData",value:function(t,e,n){var r,o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){a=!0,i=t},f:function(){try{l||null==n.return||n.return()}finally{if(a)throw i}}}}(t);try{for(o.s();!(r=o.n()).done;){var i=r.value,l=i.points,a=this._getPointGroupOptions(i);if(l.length>1)for(var s=0;s<l.length;s+=1){var c=l[s],u=new O(c.x,c.y,c.pressure,c.time);0===s&&this._reset(a);var f=this._addPoint(u,a);f&&e(f,a)}else this._reset(a),n(l[0],a)}}catch(t){o.e(t)}finally{o.f()}}},{key:"toSVG",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeBackgroundColor,e=void 0!==t&&t,n=this._data,r=Math.max(window.devicePixelRatio||1,1),o=this.canvas.width/r,i=this.canvas.height/r,l=document.createElementNS("http://www.w3.org/2000/svg","svg");if(l.setAttribute("xmlns","http://www.w3.org/2000/svg"),l.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),l.setAttribute("viewBox","".concat(0," ").concat(0," ").concat(o," ").concat(i)),l.setAttribute("width",o.toString()),l.setAttribute("height",i.toString()),e&&this.backgroundColor){var a=document.createElement("rect");a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("fill",this.backgroundColor),l.appendChild(a)}return this._fromData(n,(function(t,e){var n=e.penColor,r=document.createElement("path");if(!(isNaN(t.control1.x)||isNaN(t.control1.y)||isNaN(t.control2.x)||isNaN(t.control2.y))){var o="M ".concat(t.startPoint.x.toFixed(3),",").concat(t.startPoint.y.toFixed(3)," ")+"C ".concat(t.control1.x.toFixed(3),",").concat(t.control1.y.toFixed(3)," ")+"".concat(t.control2.x.toFixed(3),",").concat(t.control2.y.toFixed(3)," ")+"".concat(t.endPoint.x.toFixed(3),",").concat(t.endPoint.y.toFixed(3));r.setAttribute("d",o),r.setAttribute("stroke-width",(2.25*t.endWidth).toFixed(3)),r.setAttribute("stroke",n),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),l.appendChild(r)}}),(function(t,e){var n=e.penColor,r=e.dotSize,o=e.minWidth,i=e.maxWidth,a=document.createElement("circle"),s=r>0?r:(o+i)/2;a.setAttribute("r",s.toString()),a.setAttribute("cx",t.x.toString()),a.setAttribute("cy",t.y.toString()),a.setAttribute("fill",n),l.appendChild(a)})),l.outerHTML}}]),o}(S),E=n(878),_={};_.styleTagTransform=p(),_.setAttributes=c(),_.insert=a().bind(null,"head"),_.domAPI=i(),_.insertStyleElement=f(),r()(E.A,_),E.A&&E.A.locals&&E.A.locals;const A=function(t,e){return t===e||t!=t&&e!=e},P=function(t,e){for(var n=t.length;n--;)if(A(t[n][0],e))return n;return-1};var N=Array.prototype.splice;function T(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}T.prototype.clear=function(){this.__data__=[],this.size=0},T.prototype.delete=function(t){var e=this.__data__,n=P(e,t);return!(n<0||(n==e.length-1?e.pop():N.call(e,n,1),--this.size,0))},T.prototype.get=function(t){var e=this.__data__,n=P(e,t);return n<0?void 0:e[n][1]},T.prototype.has=function(t){return P(this.__data__,t)>-1},T.prototype.set=function(t,e){var n=this.__data__,r=P(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};const R=T;function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}const C="object"==("undefined"==typeof global?"undefined":L(global))&&global&&global.Object===Object&&global;function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}var M="object"==("undefined"==typeof self?"undefined":I(self))&&self&&self.Object===Object&&self;const D=C||M||Function("return this")(),B=D.Symbol;var U=Object.prototype,z=U.hasOwnProperty,F=U.toString,H=B?B.toStringTag:void 0;var W=Object.prototype.toString;var V=B?B.toStringTag:void 0;const K=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":V&&V in Object(t)?function(t){var e=z.call(t,H),n=t[H];try{t[H]=void 0;var r=!0}catch(t){}var o=F.call(t);return r&&(e?t[H]=n:delete t[H]),o}(t):function(t){return W.call(t)}(t)};function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}const G=function(t){var e=$(t);return null!=t&&("object"==e||"function"==e)},Z=function(t){if(!G(t))return!1;var e=K(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},X=D["__core-js_shared__"];var Y,Q=(Y=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+Y:"";var J=Function.prototype.toString;const tt=function(t){if(null!=t){try{return J.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var et=/^\[object .+?Constructor\]$/,nt=Function.prototype,rt=Object.prototype,ot=nt.toString,it=rt.hasOwnProperty,lt=RegExp("^"+ot.call(it).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const at=function(t){return!(!G(t)||(e=t,Q&&Q in e))&&(Z(t)?lt:et).test(tt(t));var e},st=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return at(n)?n:void 0},ct=st(D,"Map"),ut=st(Object,"create");var ft=Object.prototype.hasOwnProperty;var dt=Object.prototype.hasOwnProperty;function pt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pt.prototype.clear=function(){this.__data__=ut?ut(null):{},this.size=0},pt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},pt.prototype.get=function(t){var e=this.__data__;if(ut){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return ft.call(e,t)?e[t]:void 0},pt.prototype.has=function(t){var e=this.__data__;return ut?void 0!==e[t]:dt.call(e,t)},pt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ut&&void 0===e?"__lodash_hash_undefined__":e,this};const ht=pt;function yt(t){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(t)}const vt=function(t,e){var n=t.__data__;return function(t){var e=yt(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map};function bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bt.prototype.clear=function(){this.size=0,this.__data__={hash:new ht,map:new(ct||R),string:new ht}},bt.prototype.delete=function(t){var e=vt(this,t).delete(t);return this.size-=e?1:0,e},bt.prototype.get=function(t){return vt(this,t).get(t)},bt.prototype.has=function(t){return vt(this,t).has(t)},bt.prototype.set=function(t,e){var n=vt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};const mt=bt;function gt(t){var e=this.__data__=new R(t);this.size=e.size}gt.prototype.clear=function(){this.__data__=new R,this.size=0},gt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},gt.prototype.get=function(t){return this.__data__.get(t)},gt.prototype.has=function(t){return this.__data__.has(t)},gt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof R){var r=n.__data__;if(!ct||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new mt(r)}return n.set(t,e),this.size=n.size,this};const wt=gt,qt=function(){try{var t=st(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),kt=function(t,e,n){"__proto__"==e&&qt?qt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Ot=function(t,e,n){(void 0!==n&&!A(t[e],n)||void 0===n&&!(e in t))&&kt(t,e,n)},xt=function(t,e,n){for(var r=-1,o=Object(t),i=n(t),l=i.length;l--;){var a=i[St?l:++r];if(!1===e(o[a],a,o))break}return t};var St;function jt(t){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(t)}var Et="object"==("undefined"==typeof exports?"undefined":jt(exports))&&exports&&!exports.nodeType&&exports,_t=Et&&"object"==("undefined"==typeof module?"undefined":jt(module))&&module&&!module.nodeType&&module,At=_t&&_t.exports===Et?D.Buffer:void 0,Pt=At?At.allocUnsafe:void 0;const Nt=function(t,e){if(e)return t.slice();var n=t.length,r=Pt?Pt(n):new t.constructor(n);return t.copy(r),r},Tt=D.Uint8Array,Rt=function(t){var e=new t.constructor(t.byteLength);return new Tt(e).set(new Tt(t)),e},Lt=function(t,e){var n=e?Rt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Ct=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e};var It=Object.create;const Mt=function(){function t(){}return function(e){if(!G(e))return{};if(It)return It(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Dt=function(t,e){return function(n){return t(e(n))}},Bt=Dt(Object.getPrototypeOf,Object);var Ut=Object.prototype;const zt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ut)},Ft=function(t){return"function"!=typeof t.constructor||zt(t)?{}:Mt(Bt(t))};function Ht(t){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ht(t)}const Wt=function(t){return null!=t&&"object"==Ht(t)},Vt=function(t){return Wt(t)&&"[object Arguments]"==K(t)};var Kt=Object.prototype,$t=Kt.hasOwnProperty,Gt=Kt.propertyIsEnumerable,Zt=Vt(function(){return arguments}())?Vt:function(t){return Wt(t)&&$t.call(t,"callee")&&!Gt.call(t,"callee")};const Xt=Zt,Yt=Array.isArray,Qt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Jt=function(t){return null!=t&&Qt(t.length)&&!Z(t)};function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}var ee="object"==("undefined"==typeof exports?"undefined":te(exports))&&exports&&!exports.nodeType&&exports,ne=ee&&"object"==("undefined"==typeof module?"undefined":te(module))&&module&&!module.nodeType&&module,re=ne&&ne.exports===ee?D.Buffer:void 0;const oe=(re?re.isBuffer:void 0)||function(){return!1};var ie=Function.prototype,le=Object.prototype,ae=ie.toString,se=le.hasOwnProperty,ce=ae.call(Object);var ue={};ue["[object Float32Array]"]=ue["[object Float64Array]"]=ue["[object Int8Array]"]=ue["[object Int16Array]"]=ue["[object Int32Array]"]=ue["[object Uint8Array]"]=ue["[object Uint8ClampedArray]"]=ue["[object Uint16Array]"]=ue["[object Uint32Array]"]=!0,ue["[object Arguments]"]=ue["[object Array]"]=ue["[object ArrayBuffer]"]=ue["[object Boolean]"]=ue["[object DataView]"]=ue["[object Date]"]=ue["[object Error]"]=ue["[object Function]"]=ue["[object Map]"]=ue["[object Number]"]=ue["[object Object]"]=ue["[object RegExp]"]=ue["[object Set]"]=ue["[object String]"]=ue["[object WeakMap]"]=!1;const fe=function(t){return function(e){return t(e)}};function de(t){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(t)}var pe="object"==("undefined"==typeof exports?"undefined":de(exports))&&exports&&!exports.nodeType&&exports,he=pe&&"object"==("undefined"==typeof module?"undefined":de(module))&&module&&!module.nodeType&&module,ye=he&&he.exports===pe&&C.process;const ve=function(){try{return he&&he.require&&he.require("util").types||ye&&ye.binding&&ye.binding("util")}catch(t){}}();var be=ve&&ve.isTypedArray;const me=be?fe(be):function(t){return Wt(t)&&Qt(t.length)&&!!ue[K(t)]},ge=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var we=Object.prototype.hasOwnProperty;const qe=function(t,e,n){var r=t[e];we.call(t,e)&&A(r,n)&&(void 0!==n||e in t)||kt(t,e,n)},ke=function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,l=e.length;++i<l;){var a=e[i],s=r?r(n[a],t[a],a,n,t):void 0;void 0===s&&(s=t[a]),o?kt(n,a,s):qe(n,a,s)}return n};function Oe(t){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(t)}var xe=/^(?:0|[1-9]\d*)$/;const Se=function(t,e){var n=Oe(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&xe.test(t))&&t>-1&&t%1==0&&t<e};var je=Object.prototype.hasOwnProperty;const Ee=function(t,e){var n=Yt(t),r=!n&&Xt(t),o=!n&&!r&&oe(t),i=!n&&!r&&!o&&me(t),l=n||r||o||i,a=l?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],s=a.length;for(var c in t)!e&&!je.call(t,c)||l&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Se(c,s))||a.push(c);return a};var _e=Object.prototype.hasOwnProperty;const Ae=function(t){if(!G(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=zt(t),n=[];for(var r in t)("constructor"!=r||!e&&_e.call(t,r))&&n.push(r);return n},Pe=function(t){return Jt(t)?Ee(t,!0):Ae(t)},Ne=function(t,e,n,r,o,i,l){var a=ge(t,n),s=ge(e,n),c=l.get(s);if(c)Ot(t,n,c);else{var u=i?i(a,s,n+"",t,e,l):void 0,f=void 0===u;if(f){var d=Yt(s),p=!d&&oe(s),h=!d&&!p&&me(s);u=s,d||p||h?Yt(a)?u=a:function(t){return Wt(t)&&Jt(t)}(a)?u=Ct(a):p?(f=!1,u=Nt(s,!0)):h?(f=!1,u=Lt(s,!0)):u=[]:function(t){if(!Wt(t)||"[object Object]"!=K(t))return!1;var e=Bt(t);if(null===e)return!0;var n=se.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ae.call(n)==ce}(s)||Xt(s)?(u=a,Xt(a)?u=function(t){return ke(t,Pe(t))}(a):G(a)&&!Z(a)||(u=Ft(s))):f=!1}f&&(l.set(s,u),o(u,s,r,i,l),l.delete(s)),Ot(t,n,u)}},Te=function t(e,n,r,o,i){e!==n&&xt(n,(function(l,a){if(i||(i=new wt),G(l))Ne(e,n,a,r,t,o,i);else{var s=o?o(ge(e,a),l,a+"",e,n,i):void 0;void 0===s&&(s=l),Ot(e,a,s)}}),Pe)},Re=function(t){return t};var Le=Math.max;const Ce=function(t){return function(){return t}},Ie=qt?function(t,e){return qt(t,"toString",{configurable:!0,enumerable:!1,value:Ce(e),writable:!0})}:Re;var Me=Date.now;const De=(Be=Ie,Ue=0,ze=0,function(){var t=Me(),e=16-(t-ze);if(ze=t,e>0){if(++Ue>=800)return arguments[0]}else Ue=0;return Be.apply(void 0,arguments)});var Be,Ue,ze;const Fe=function(t,e){return De(function(t,e,n){return e=Le(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=Le(r.length-e,0),l=Array(i);++o<i;)l[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=n(l),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,a)}}(t,e,Re),t+"")};function He(t){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(t)}const We=(Ve=function(t,e,n){Te(t,e,n)},Fe((function(t,e){var n=-1,r=e.length,o=r>1?e[r-1]:void 0,i=r>2?e[2]:void 0;for(o=Ve.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(t,e,n){if(!G(n))return!1;var r=He(e);return!!("number"==r?Jt(n)&&Se(e,n.length):"string"==r&&e in n)&&A(n[e],t)}(e[0],e[1],i)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var l=e[n];l&&Ve(t,l,n)}return t})));var Ve;function Ke(){return Ke="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=on(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Ke.apply(this,arguments)}function $e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,e)||Ze(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(t){return function(t){if(Array.isArray(t))return Xe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ze(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(t,e){if(t){if("string"==typeof t)return Xe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xe(t,e):void 0}}function Xe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ye(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rn(t,e)}function Qe(t){var e=nn();return function(){var n,r=on(t);if(e){var o=on(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===ln(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Je(t)}(this,n)}}function Je(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tn(t){var e="function"==typeof Map?new Map:void 0;return tn=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return en(t,arguments,on(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),rn(n,t)},tn(t)}function en(t,e,n){return en=nn()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&rn(o,n.prototype),o},en.apply(null,arguments)}function nn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function rn(t,e){return rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rn(t,e)}function on(t){return on=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},on(t)}function ln(t){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ln(t)}function an(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,un(r.key),r)}}function cn(t,e,n){return e&&sn(t.prototype,e),n&&sn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function un(t){var e=function(t,e){if("object"!==ln(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ln(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ln(e)?e:String(e)}var fn=function(t){return t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t}(fn||{}),dn=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};an(this,t),this.attrName=e,this.keyName=n;var o=fn.TYPE&fn.ATTRIBUTE;this.scope=null!=r.scope?r.scope&fn.LEVEL|o:fn.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}return cn(t,[{key:"add",value:function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)}},{key:"canAdd",value:function(t,e){return null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1)}},{key:"remove",value:function(t){t.removeAttribute(this.keyName)}},{key:"value",value:function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}],[{key:"keys",value:function(t){return Array.from(t.attributes).map((function(t){return t.name}))}}]),t}(),pn=function(t){Ye(n,t);var e=Qe(n);function n(t){var r;return an(this,n),t="[Parchment] "+t,(r=e.call(this,t)).message=t,r.name=r.constructor.name,r}return cn(n)}(tn(Error)),hn=function(){function t(){an(this,t),this.attributes={},this.classes={},this.tags={},this.types={}}return cn(t,[{key:"create",value:function(e,n,r){var o=this.query(n);if(null==o)throw new pn("Unable to create ".concat(n," blot"));var i=o,l=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:i.create(r),a=new i(e,l,r);return t.blots.set(a.domNode,a),a}},{key:"find",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.find(e,n)}},{key:"query",value:function(t){var e,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fn.ANY;return"string"==typeof t?e=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?e=this.types.text:"number"==typeof t?t&fn.LEVEL&fn.BLOCK?e=this.types.block:t&fn.LEVEL&fn.INLINE&&(e=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some((function(t){return!!(e=n.classes[t])})),e=e||this.tags[t.tagName]),null==e?null:"scope"in e&&r&fn.LEVEL&e.scope&&r&fn.TYPE&e.scope?e:null}},{key:"register",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map((function(e){var n="blotName"in e,r="attrName"in e;if(!n&&!r)throw new pn("Invalid definition");if(n&&"abstract"===e.blotName)throw new pn("Cannot register abstract class");var o=n?e.blotName:r?e.attrName:void 0;return t.types[o]=e,r?"string"==typeof e.keyName&&(t.attributes[e.keyName]=e):n&&(e.className&&(t.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map((function(t){return t.toUpperCase()})):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach((function(n){(null==t.tags[n]||null==e.className)&&(t.tags[n]=e)})))),e}))}}],[{key:"find",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==t)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){var n=null;try{n=t.parentNode}catch(t){return null}return this.find(n,e)}return null}}]),t}();hn.blots=new WeakMap;var yn=hn;function vn(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter((function(t){return 0===t.indexOf("".concat(e,"-"))}))}var bn=function(t){Ye(n,t);var e=Qe(n);function n(){return an(this,n),e.apply(this,arguments)}return cn(n,[{key:"add",value:function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add("".concat(this.keyName,"-").concat(e)),!0)}},{key:"remove",value:function(t){vn(t,this.keyName).forEach((function(e){t.classList.remove(e)})),0===t.classList.length&&t.removeAttribute("class")}},{key:"value",value:function(t){var e=(vn(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}],[{key:"keys",value:function(t){return(t.getAttribute("class")||"").split(/\s+/).map((function(t){return t.split("-").slice(0,-1).join("-")}))}}]),n}(dn);function mn(t){var e=t.split("-"),n=e.slice(1).map((function(t){return t[0].toUpperCase()+t.slice(1)})).join("");return e[0]+n}var gn=function(t){Ye(n,t);var e=Qe(n);function n(){return an(this,n),e.apply(this,arguments)}return cn(n,[{key:"add",value:function(t,e){return!!this.canAdd(t,e)&&(t.style[mn(this.keyName)]=e,!0)}},{key:"remove",value:function(t){t.style[mn(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}},{key:"value",value:function(t){var e=t.style[mn(this.keyName)];return this.canAdd(t,e)?e:""}}],[{key:"keys",value:function(t){return(t.getAttribute("style")||"").split(";").map((function(t){return t.split(":")[0].trim()}))}}]),n}(dn),wn=function(){function t(e){an(this,t),this.attributes={},this.domNode=e,this.build()}return cn(t,[{key:"attribute",value:function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}},{key:"build",value:function(){var t=this;this.attributes={};var e=yn.find(this.domNode);if(null!=e){var n=dn.keys(this.domNode),r=bn.keys(this.domNode),o=gn.keys(this.domNode);n.concat(r).concat(o).forEach((function(n){var r=e.scroll.query(n,fn.ATTRIBUTE);r instanceof dn&&(t.attributes[r.attrName]=r)}))}}},{key:"copy",value:function(t){var e=this;Object.keys(this.attributes).forEach((function(n){var r=e.attributes[n].value(e.domNode);t.format(n,r)}))}},{key:"move",value:function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach((function(t){e.attributes[t].remove(e.domNode)})),this.attributes={}}},{key:"values",value:function(){var t=this;return Object.keys(this.attributes).reduce((function(e,n){return e[n]=t.attributes[n].value(t.domNode),e}),{})}}]),t}(),qn=function(){function t(e,n){an(this,t),this.scroll=e,this.domNode=n,yn.blots.set(n,this),this.prev=null,this.next=null}return cn(t,[{key:"statics",get:function(){return this.constructor}},{key:"attach",value:function(){}},{key:"clone",value:function(){var t=this.domNode.cloneNode(!1);return this.scroll.create(t)}},{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this),yn.blots.delete(this.domNode)}},{key:"deleteAt",value:function(t,e){this.isolate(t,e).remove()}},{key:"formatAt",value:function(t,e,n,r){var o=this.isolate(t,e);if(null!=this.scroll.query(n,fn.BLOT)&&r)o.wrap(n,r);else if(null!=this.scroll.query(n,fn.ATTRIBUTE)){var i=this.scroll.create(this.statics.scope);o.wrap(i),i.format(n,r)}}},{key:"insertAt",value:function(t,e,n){var r=null==n?this.scroll.create("text",e):this.scroll.create(e,n),o=this.split(t);this.parent.insertBefore(r,o||void 0)}},{key:"isolate",value:function(t,e){var n=this.split(t);if(null==n)throw new Error("Attempt to isolate at end");return n.split(e),n}},{key:"length",value:function(){return 1}},{key:"offset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;return null==this.parent||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}},{key:"optimize",value:function(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}},{key:"remove",value:function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}},{key:"replaceWith",value:function(t,e){var n="string"==typeof t?this.scroll.create(t,e):t;return null!=this.parent&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}},{key:"split",value:function(t,e){return 0===t?this:this.next}},{key:"update",value:function(t,e){}},{key:"wrap",value:function(t,e){var n="string"==typeof t?this.scroll.create(t,e):t;if(null!=this.parent&&this.parent.insertBefore(n,this.next||void 0),"function"!=typeof n.appendChild)throw new pn("Cannot wrap ".concat(t));return n.appendChild(this),n}}],[{key:"create",value:function(t){if(null==this.tagName)throw new pn("Blot definition missing tagName");var e,n;return Array.isArray(this.tagName)?("string"==typeof t?(n=t.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):"number"==typeof t&&(n=t),e="number"==typeof n?document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?document.createElement(n):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}}]),t}();qn.blotName="abstract";var kn=qn,On=function(t){Ye(n,t);var e=Qe(n);function n(){return an(this,n),e.apply(this,arguments)}return cn(n,[{key:"index",value:function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}},{key:"position",value:function(t,e){var n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]}},{key:"value",value:function(){return function(t,e,n){return(e=un(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},this.statics.blotName,this.statics.value(this.domNode)||!0)}}],[{key:"value",value:function(t){return!0}}]),n}(kn);On.scope=fn.INLINE_BLOT;var xn=On,Sn=function(){function t(){an(this,t),this.head=null,this.tail=null,this.length=0}return cn(t,[{key:"append",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this.insertBefore(e[0],null),e.length>1){var r=e.slice(1);this.append.apply(this,Ge(r))}}},{key:"at",value:function(t){for(var e=this.iterator(),n=e();n&&t>0;)t-=1,n=e();return n}},{key:"contains",value:function(t){for(var e=this.iterator(),n=e();n;){if(n===t)return!0;n=e()}return!1}},{key:"indexOf",value:function(t){for(var e=this.iterator(),n=e(),r=0;n;){if(n===t)return r;r+=1,n=e()}return-1}},{key:"insertBefore",value:function(t,e){null!=t&&(this.remove(t),t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}},{key:"offset",value:function(t){for(var e=0,n=this.head;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1}},{key:"remove",value:function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}},{key:"iterator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.head;return function(){var e=t;return null!=t&&(t=t.next),e}}},{key:"find",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.iterator(),r=n();r;){var o=r.length();if(t<o||e&&t===o&&(null==r.next||0!==r.next.length()))return[r,t];t-=o,r=n()}return[null,0]}},{key:"forEach",value:function(t){for(var e=this.iterator(),n=e();n;)t(n),n=e()}},{key:"forEachAt",value:function(t,e,n){if(!(e<=0))for(var r=$e(this.find(t),2),o=r[0],i=t-r[1],l=this.iterator(o),a=l();a&&i<t+e;){var s=a.length();t>i?n(a,t-i,Math.min(e,i+s-t)):n(a,0,Math.min(s,t+e-i)),i+=s,a=l()}}},{key:"map",value:function(t){return this.reduce((function(e,n){return e.push(t(n)),e}),[])}},{key:"reduce",value:function(t,e){for(var n=this.iterator(),r=n();r;)e=t(e,r),r=n();return e}}]),t}();function jn(t,e){var n=e.find(t);if(n)return n;try{return e.create(t)}catch(n){var r=e.create(fn.INLINE);return Array.from(t.childNodes).forEach((function(t){r.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(r.domNode,t),r.attach(),r}}var En=function(t){Ye(n,t);var e=Qe(n);function n(t,r){var o;return an(this,n),(o=e.call(this,t,r)).uiNode=null,o.build(),o}return cn(n,[{key:"appendChild",value:function(t){this.insertBefore(t)}},{key:"attach",value:function(){Ke(on(n.prototype),"attach",this).call(this),this.children.forEach((function(t){t.attach()}))}},{key:"attachUI",value:function(t){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=t,n.uiClass&&this.uiNode.classList.add(n.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}},{key:"build",value:function(){var t=this;this.children=new Sn,Array.from(this.domNode.childNodes).filter((function(e){return e!==t.uiNode})).reverse().forEach((function(e){try{var n=jn(e,t.scroll);t.insertBefore(n,t.children.head||void 0)}catch(n){if(n instanceof pn)return;throw n}}))}},{key:"deleteAt",value:function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,(function(t,e,n){t.deleteAt(e,n)}))}},{key:"descendant",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=$e(this.children.find(e),2),o=r[0],i=r[1];return null==t.blotName&&t(o)||null!=t.blotName&&o instanceof t?[o,i]:o instanceof n?o.descendant(t,i):[null,-1]}},{key:"descendants",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_VALUE,o=[],i=r;return this.children.forEachAt(e,r,(function(e,r,l){(null==t.blotName&&t(e)||null!=t.blotName&&e instanceof t)&&o.push(e),e instanceof n&&(o=o.concat(e.descendants(t,r,i))),i-=l})),o}},{key:"detach",value:function(){this.children.forEach((function(t){t.detach()})),Ke(on(n.prototype),"detach",this).call(this)}},{key:"enforceAllowedChildren",value:function(){var t=this,e=!1;this.children.forEach((function(r){e||t.statics.allowedChildren.some((function(t){return r instanceof t}))||(r.statics.scope===fn.BLOCK_BLOT?(null!=r.next&&t.splitAfter(r),null!=r.prev&&t.splitAfter(r.prev),r.parent.unwrap(),e=!0):r instanceof n?r.unwrap():r.remove())}))}},{key:"formatAt",value:function(t,e,n,r){this.children.forEachAt(t,e,(function(t,e,o){t.formatAt(e,o,n,r)}))}},{key:"insertAt",value:function(t,e,n){var r=$e(this.children.find(t),2),o=r[0],i=r[1];if(o)o.insertAt(i,e,n);else{var l=null==n?this.scroll.create("text",e):this.scroll.create(e,n);this.appendChild(l)}}},{key:"insertBefore",value:function(t,e){null!=t.parent&&t.parent.children.remove(t);var n=null;this.children.insertBefore(t,e||null),t.parent=this,null!=e&&(n=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(t.domNode,n),t.attach()}},{key:"length",value:function(){return this.children.reduce((function(t,e){return t+e.length()}),0)}},{key:"moveChildren",value:function(t,e){this.children.forEach((function(n){t.insertBefore(n,e)}))}},{key:"optimize",value:function(t){if(Ke(on(n.prototype),"optimize",this).call(this,t),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){var e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}},{key:"path",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=$e(this.children.find(t,e),2),o=r[0],i=r[1],l=[[this,t]];return o instanceof n?l.concat(o.path(i,e)):(null!=o&&l.push([o,i]),l)}},{key:"removeChild",value:function(t){this.children.remove(t)}},{key:"replaceWith",value:function(t,e){var r="string"==typeof t?this.scroll.create(t,e):t;return r instanceof n&&this.moveChildren(r),Ke(on(n.prototype),"replaceWith",this).call(this,r)}},{key:"split",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),(function(t,r,o){var i=t.split(r,e);null!=i&&n.appendChild(i)})),n}},{key:"splitAfter",value:function(t){for(var e=this.clone();null!=t.next;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}},{key:"unwrap",value:function(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}},{key:"update",value:function(t,e){var n=this,r=[],o=[];t.forEach((function(t){t.target===n.domNode&&"childList"===t.type&&(r.push.apply(r,Ge(t.addedNodes)),o.push.apply(o,Ge(t.removedNodes)))})),o.forEach((function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=n.scroll.find(t);null!=e&&(null==e.domNode.parentNode||e.domNode.parentNode===n.domNode)&&e.detach()}})),r.filter((function(t){return t.parentNode===n.domNode&&t!==n.uiNode})).sort((function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(t){var e=null;null!=t.nextSibling&&(e=n.scroll.find(t.nextSibling));var r=jn(t,n.scroll);(r.next!==e||null==r.next)&&(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,e||void 0))})),this.enforceAllowedChildren()}}]),n}(kn);En.uiClass="";var _n=En,An=function(t){Ye(n,t);var e=Qe(n);function n(t,r){var o;return an(this,n),(o=e.call(this,t,r)).attributes=new wn(o.domNode),o}return cn(n,[{key:"format",value:function(t,e){var r=this;if(t!==this.statics.blotName||e){var o=this.scroll.query(t,fn.INLINE);if(null==o)return;o instanceof dn?this.attributes.attribute(o,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}else this.children.forEach((function(t){t instanceof n||(t=t.wrap(n.blotName,!0)),r.attributes.copy(t)})),this.unwrap()}},{key:"formats",value:function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return null!=e&&(t[this.statics.blotName]=e),t}},{key:"formatAt",value:function(t,e,r,o){null!=this.formats()[r]||this.scroll.query(r,fn.ATTRIBUTE)?this.isolate(t,e).format(r,o):Ke(on(n.prototype),"formatAt",this).call(this,t,e,r,o)}},{key:"optimize",value:function(t){Ke(on(n.prototype),"optimize",this).call(this,t);var e=this.formats();if(0===Object.keys(e).length)return this.unwrap();var r=this.next;r instanceof n&&r.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}(e,r.formats())&&(r.moveChildren(this),r.remove())}},{key:"replaceWith",value:function(t,e){var r=Ke(on(n.prototype),"replaceWith",this).call(this,t,e);return this.attributes.copy(r),r}},{key:"update",value:function(t,e){var r=this;Ke(on(n.prototype),"update",this).call(this,t,e),t.some((function(t){return t.target===r.domNode&&"attributes"===t.type}))&&this.attributes.build()}},{key:"wrap",value:function(t,e){var r=Ke(on(n.prototype),"wrap",this).call(this,t,e);return r instanceof n&&this.attributes.move(r),r}}],[{key:"create",value:function(t){return Ke(on(n),"create",this).call(this,t)}},{key:"formats",value:function(t,e){var r=e.query(n.blotName);if(null==r||t.tagName!==r.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}}]),n}(_n);An.allowedChildren=[An,xn],An.blotName="inline",An.scope=fn.INLINE_BLOT,An.tagName="SPAN";var Pn=An,Nn=function(t){Ye(n,t);var e=Qe(n);function n(t,r){var o;return an(this,n),(o=e.call(this,t,r)).attributes=new wn(o.domNode),o}return cn(n,[{key:"format",value:function(t,e){var r=this.scroll.query(t,fn.BLOCK);null!=r&&(r instanceof dn?this.attributes.attribute(r,e):t!==this.statics.blotName||e?e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e):this.replaceWith(n.blotName))}},{key:"formats",value:function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return null!=e&&(t[this.statics.blotName]=e),t}},{key:"formatAt",value:function(t,e,r,o){null!=this.scroll.query(r,fn.BLOCK)?this.format(r,o):Ke(on(n.prototype),"formatAt",this).call(this,t,e,r,o)}},{key:"insertAt",value:function(t,e,r){if(null==r||null!=this.scroll.query(e,fn.INLINE))Ke(on(n.prototype),"insertAt",this).call(this,t,e,r);else{var o=this.split(t);if(null==o)throw new Error("Attempt to insertAt after block boundaries");var i=this.scroll.create(e,r);o.parent.insertBefore(i,o)}}},{key:"replaceWith",value:function(t,e){var r=Ke(on(n.prototype),"replaceWith",this).call(this,t,e);return this.attributes.copy(r),r}},{key:"update",value:function(t,e){var r=this;Ke(on(n.prototype),"update",this).call(this,t,e),t.some((function(t){return t.target===r.domNode&&"attributes"===t.type}))&&this.attributes.build()}}],[{key:"create",value:function(t){return Ke(on(n),"create",this).call(this,t)}},{key:"formats",value:function(t,e){var r=e.query(n.blotName);if(null==r||t.tagName!==r.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}}]),n}(_n);Nn.blotName="block",Nn.scope=fn.BLOCK_BLOT,Nn.tagName="P",Nn.allowedChildren=[Pn,Nn,xn];var Tn=Nn,Rn=function(t){Ye(n,t);var e=Qe(n);function n(){return an(this,n),e.apply(this,arguments)}return cn(n,[{key:"checkMerge",value:function(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName}},{key:"deleteAt",value:function(t,e){Ke(on(n.prototype),"deleteAt",this).call(this,t,e),this.enforceAllowedChildren()}},{key:"formatAt",value:function(t,e,r,o){Ke(on(n.prototype),"formatAt",this).call(this,t,e,r,o),this.enforceAllowedChildren()}},{key:"insertAt",value:function(t,e,r){Ke(on(n.prototype),"insertAt",this).call(this,t,e,r),this.enforceAllowedChildren()}},{key:"optimize",value:function(t){Ke(on(n.prototype),"optimize",this).call(this,t),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}}]),n}(_n);Rn.blotName="container",Rn.scope=fn.BLOCK_BLOT;var Ln=Rn,Cn=function(t){Ye(n,t);var e=Qe(n);function n(){return an(this,n),e.apply(this,arguments)}return cn(n,[{key:"format",value:function(t,e){Ke(on(n.prototype),"formatAt",this).call(this,0,this.length(),t,e)}},{key:"formatAt",value:function(t,e,r,o){0===t&&e===this.length()?this.format(r,o):Ke(on(n.prototype),"formatAt",this).call(this,t,e,r,o)}},{key:"formats",value:function(){return this.statics.formats(this.domNode,this.scroll)}}],[{key:"formats",value:function(t,e){}}]),n}(xn),In={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Mn=function(t){Ye(n,t);var e=Qe(n);function n(t,r){var o;return an(this,n),(o=e.call(this,null,r)).registry=t,o.scroll=Je(o),o.build(),o.observer=new MutationObserver((function(t){o.update(t)})),o.observer.observe(o.domNode,In),o.attach(),o}return cn(n,[{key:"create",value:function(t,e){return this.registry.create(this,t,e)}},{key:"find",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.registry.find(t,e);return n?n.scroll===this?n:e?this.find(n.scroll.domNode.parentNode,!0):null:null}},{key:"query",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fn.ANY;return this.registry.query(t,e)}},{key:"register",value:function(){var t;return(t=this.registry).register.apply(t,arguments)}},{key:"build",value:function(){null!=this.scroll&&Ke(on(n.prototype),"build",this).call(this)}},{key:"detach",value:function(){Ke(on(n.prototype),"detach",this).call(this),this.observer.disconnect()}},{key:"deleteAt",value:function(t,e){this.update(),0===t&&e===this.length()?this.children.forEach((function(t){t.remove()})):Ke(on(n.prototype),"deleteAt",this).call(this,t,e)}},{key:"formatAt",value:function(t,e,r,o){this.update(),Ke(on(n.prototype),"formatAt",this).call(this,t,e,r,o)}},{key:"insertAt",value:function(t,e,r){this.update(),Ke(on(n.prototype),"insertAt",this).call(this,t,e,r)}},{key:"optimize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ke(on(n.prototype),"optimize",this).call(this,r);for(var o=r.mutationsMap||new WeakMap,i=Array.from(this.observer.takeRecords());i.length>0;)e.push(i.pop());for(var l=function e(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];null==n||n===t||null!=n.domNode.parentNode&&(o.has(n.domNode)||o.set(n.domNode,[]),r&&e(n.parent))},a=function t(e){o.has(e.domNode)&&(e instanceof _n&&e.children.forEach(t),o.delete(e.domNode),e.optimize(r))},s=e,c=0;s.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(s.forEach((function(e){var n=t.find(e.target,!0);null!=n&&(n.domNode===e.target&&("childList"===e.type?(l(t.find(e.previousSibling,!1)),Array.from(e.addedNodes).forEach((function(e){var n=t.find(e,!1);l(n,!1),n instanceof _n&&n.children.forEach((function(t){l(t,!1)}))}))):"attributes"===e.type&&l(n.prev)),l(n))})),this.children.forEach(a),i=(s=Array.from(this.observer.takeRecords())).slice();i.length>0;)e.push(i.pop())}}},{key:"update",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=t||this.observer.takeRecords();var o=new WeakMap;t.map((function(t){var n=e.find(t.target,!0);return null==n?null:o.has(n.domNode)?(o.get(n.domNode).push(t),null):(o.set(n.domNode,[t]),n)})).forEach((function(t){null!=t&&t!==e&&o.has(t.domNode)&&t.update(o.get(t.domNode)||[],r)})),r.mutationsMap=o,o.has(this.domNode)&&Ke(on(n.prototype),"update",this).call(this,o.get(this.domNode),r),this.optimize(t,r)}}]),n}(_n);Mn.blotName="scroll",Mn.defaultChild=Tn,Mn.allowedChildren=[Tn,Ln],Mn.scope=fn.BLOCK_BLOT,Mn.tagName="DIV";var Dn=Mn,Bn=function(t){Ye(n,t);var e=Qe(n);function n(t,r){var o;return an(this,n),(o=e.call(this,t,r)).text=o.statics.value(o.domNode),o}return cn(n,[{key:"deleteAt",value:function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}},{key:"index",value:function(t,e){return this.domNode===t?e:-1}},{key:"insertAt",value:function(t,e,r){null==r?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):Ke(on(n.prototype),"insertAt",this).call(this,t,e,r)}},{key:"length",value:function(){return this.text.length}},{key:"optimize",value:function(t){Ke(on(n.prototype),"optimize",this).call(this,t),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof n&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}},{key:"position",value:function(t){return[this.domNode,t]}},{key:"split",value:function(t){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])){if(0===t)return this;if(t===this.length())return this.next}var e=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(e,this.next||void 0),this.text=this.statics.value(this.domNode),e}},{key:"update",value:function(t,e){var n=this;t.some((function(t){return"characterData"===t.type&&t.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))}},{key:"value",value:function(){return this.text}}],[{key:"create",value:function(t){return document.createTextNode(t)}},{key:"value",value:function(t){return t.data}}]),n}(xn);Bn.blotName="text",Bn.scope=fn.INLINE_BLOT;var Un=Bn,zn=n(13);const Fn=Dt(Object.keys,Object);var Hn=Object.prototype.hasOwnProperty;const Wn=function(t){return Jt(t)?Ee(t):function(t){if(!zt(t))return Fn(t);var e=[];for(var n in Object(t))Hn.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)},Vn=function(){return[]};var Kn=Object.prototype.propertyIsEnumerable,$n=Object.getOwnPropertySymbols;const Gn=$n?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var l=t[n];e(l,n,t)&&(i[o++]=l)}return i}($n(t),(function(e){return Kn.call(t,e)})))}:Vn,Zn=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},Xn=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Zn(e,Gn(t)),t=Bt(t);return e}:Vn,Yn=function(t,e,n){var r=e(t);return Yt(t)?r:Zn(r,n(t))},Qn=function(t){return Yn(t,Wn,Gn)},Jn=function(t){return Yn(t,Pe,Xn)},tr=st(D,"DataView"),er=st(D,"Promise"),nr=st(D,"Set"),rr=st(D,"WeakMap");var or="[object Map]",ir="[object Promise]",lr="[object Set]",ar="[object WeakMap]",sr="[object DataView]",cr=tt(tr),ur=tt(ct),fr=tt(er),dr=tt(nr),pr=tt(rr),hr=K;(tr&&hr(new tr(new ArrayBuffer(1)))!=sr||ct&&hr(new ct)!=or||er&&hr(er.resolve())!=ir||nr&&hr(new nr)!=lr||rr&&hr(new rr)!=ar)&&(hr=function(t){var e=K(t),n="[object Object]"==e?t.constructor:void 0,r=n?tt(n):"";if(r)switch(r){case cr:return sr;case ur:return or;case fr:return ir;case dr:return lr;case pr:return ar}return e});const yr=hr;var vr=Object.prototype.hasOwnProperty;var br=/\w*$/;var mr=B?B.prototype:void 0,gr=mr?mr.valueOf:void 0;const wr=function(t,e,n){var r,o,i,l=t.constructor;switch(e){case"[object ArrayBuffer]":return Rt(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return function(t,e){var n=e?Rt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Lt(t,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return(i=new(o=t).constructor(o.source,br.exec(o))).lastIndex=o.lastIndex,i;case"[object Symbol]":return r=t,gr?Object(gr.call(r)):{}}};var qr=ve&&ve.isMap;const kr=qr?fe(qr):function(t){return Wt(t)&&"[object Map]"==yr(t)};var Or=ve&&ve.isSet;const xr=Or?fe(Or):function(t){return Wt(t)&&"[object Set]"==yr(t)};var Sr="[object Arguments]",jr="[object Function]",Er="[object Object]",_r={};_r[Sr]=_r["[object Array]"]=_r["[object ArrayBuffer]"]=_r["[object DataView]"]=_r["[object Boolean]"]=_r["[object Date]"]=_r["[object Float32Array]"]=_r["[object Float64Array]"]=_r["[object Int8Array]"]=_r["[object Int16Array]"]=_r["[object Int32Array]"]=_r["[object Map]"]=_r["[object Number]"]=_r[Er]=_r["[object RegExp]"]=_r["[object Set]"]=_r["[object String]"]=_r["[object Symbol]"]=_r["[object Uint8Array]"]=_r["[object Uint8ClampedArray]"]=_r["[object Uint16Array]"]=_r["[object Uint32Array]"]=!0,_r["[object Error]"]=_r[jr]=_r["[object WeakMap]"]=!1;const Ar=function t(e,n,r,o,i,l){var a,s=1&n,c=2&n,u=4&n;if(r&&(a=i?r(e,o,i,l):r(e)),void 0!==a)return a;if(!G(e))return e;var f=Yt(e);if(f){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&vr.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!s)return Ct(e,a)}else{var d=yr(e),p=d==jr||"[object GeneratorFunction]"==d;if(oe(e))return Nt(e,s);if(d==Er||d==Sr||p&&!i){if(a=c||p?{}:Ft(e),!s)return c?function(t,e){return ke(t,Xn(t),e)}(e,function(t,e){return t&&ke(e,Pe(e),t)}(a,e)):function(t,e){return ke(t,Gn(t),e)}(e,function(t,e){return t&&ke(e,Wn(e),t)}(a,e))}else{if(!_r[d])return i?e:{};a=wr(e,d,s)}}l||(l=new wt);var h=l.get(e);if(h)return h;l.set(e,a),xr(e)?e.forEach((function(o){a.add(t(o,n,r,o,e,l))})):kr(e)&&e.forEach((function(o,i){a.set(i,t(o,n,r,i,e,l))}));var y=f?void 0:(u?c?Jn:Qn:c?Pe:Wn)(e);return function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););}(y||e,(function(o,i){y&&(o=e[i=o]),qe(a,i,t(o,n,r,i,e,l))})),a},Pr=function(t){return Ar(t,5)};function Nr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new mt;++e<n;)this.add(t[e])}Nr.prototype.add=Nr.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Nr.prototype.has=function(t){return this.__data__.has(t)};const Tr=Nr,Rr=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Lr=function(t,e){return t.has(e)},Cr=function(t,e,n,r,o,i){var l=1&n,a=t.length,s=e.length;if(a!=s&&!(l&&s>a))return!1;var c=i.get(t),u=i.get(e);if(c&&u)return c==e&&u==t;var f=-1,d=!0,p=2&n?new Tr:void 0;for(i.set(t,e),i.set(e,t);++f<a;){var h=t[f],y=e[f];if(r)var v=l?r(y,h,f,e,t,i):r(h,y,f,t,e,i);if(void 0!==v){if(v)continue;d=!1;break}if(p){if(!Rr(e,(function(t,e){if(!Lr(p,e)&&(h===t||o(h,t,n,r,i)))return p.push(e)}))){d=!1;break}}else if(h!==y&&!o(h,y,n,r,i)){d=!1;break}}return i.delete(t),i.delete(e),d},Ir=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},Mr=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n};var Dr=B?B.prototype:void 0,Br=Dr?Dr.valueOf:void 0;var Ur=Object.prototype.hasOwnProperty;var zr="[object Arguments]",Fr="[object Array]",Hr="[object Object]",Wr=Object.prototype.hasOwnProperty;const Vr=function(t,e,n,r,o,i){var l=Yt(t),a=Yt(e),s=l?Fr:yr(t),c=a?Fr:yr(e),u=(s=s==zr?Hr:s)==Hr,f=(c=c==zr?Hr:c)==Hr,d=s==c;if(d&&oe(t)){if(!oe(e))return!1;l=!0,u=!1}if(d&&!u)return i||(i=new wt),l||me(t)?Cr(t,e,n,r,o,i):function(t,e,n,r,o,i,l){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Tt(t),new Tt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return A(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=Ir;case"[object Set]":var s=1&r;if(a||(a=Mr),t.size!=e.size&&!s)return!1;var c=l.get(t);if(c)return c==e;r|=2,l.set(t,e);var u=Cr(a(t),a(e),r,o,i,l);return l.delete(t),u;case"[object Symbol]":if(Br)return Br.call(t)==Br.call(e)}return!1}(t,e,s,n,r,o,i);if(!(1&n)){var p=u&&Wr.call(t,"__wrapped__"),h=f&&Wr.call(e,"__wrapped__");if(p||h){var y=p?t.value():t,v=h?e.value():e;return i||(i=new wt),o(y,v,n,r,i)}}return!!d&&(i||(i=new wt),function(t,e,n,r,o,i){var l=1&n,a=Qn(t),s=a.length;if(s!=Qn(e).length&&!l)return!1;for(var c=s;c--;){var u=a[c];if(!(l?u in e:Ur.call(e,u)))return!1}var f=i.get(t),d=i.get(e);if(f&&d)return f==e&&d==t;var p=!0;i.set(t,e),i.set(e,t);for(var h=l;++c<s;){var y=t[u=a[c]],v=e[u];if(r)var b=l?r(v,y,u,e,t,i):r(y,v,u,t,e,i);if(!(void 0===b?y===v||o(y,v,n,r,i):b)){p=!1;break}h||(h="constructor"==u)}if(p&&!h){var m=t.constructor,g=e.constructor;m==g||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof g&&g instanceof g||(p=!1)}return i.delete(t),i.delete(e),p}(t,e,n,r,o,i))},Kr=function t(e,n,r,o,i){return e===n||(null==e||null==n||!Wt(e)&&!Wt(n)?e!=e&&n!=n:Vr(e,n,r,o,t,i))},$r=function(t,e){return Kr(t,e)};function Gr(t){return Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gr(t)}function Zr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Gr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Gr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Gr(o)?o:String(o)),r)}var o}function Xr(t,e){return Xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xr(t,e)}function Yr(t){return Yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yr(t)}var Qr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xr(t,e)}(a,t);var e,n,r,o,i,l=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Yr(o);if(i){var n=Yr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Gr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),l.apply(this,arguments)}return e=a,r=[{key:"value",value:function(){}}],(n=[{key:"optimize",value:function(){(this.prev||this.next)&&this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}])&&Zr(e.prototype,n),r&&Zr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Cn);Qr.blotName="break",Qr.tagName="BR";const Jr=Qr;function to(t){return to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(t)}function eo(t,e){return eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},eo(t,e)}function no(t){return no=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},no(t)}var ro=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eo(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=no(n);if(r){var o=no(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===to(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Un);function oo(t){return t.replace(/[&<>"']/g,(function(t){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[t]}))}function io(t){return io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(t)}function lo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fo(r.key),r)}}function ao(){return ao="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=co(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ao.apply(this,arguments)}function so(t,e){return so=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},so(t,e)}function co(t){return co=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},co(t)}function uo(t,e,n){return(e=fo(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fo(t){var e=function(t,e){if("object"!==io(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==io(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===io(e)?e:String(e)}var po=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&so(t,e)}(a,t);var e,n,r,o,i,l=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=co(o);if(i){var n=co(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===io(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),l.apply(this,arguments)}return e=a,r=[{key:"compare",value:function(t,e){var n=a.order.indexOf(t),r=a.order.indexOf(e);return n>=0||r>=0?n-r:t===e?0:t<e?-1:1}}],(n=[{key:"formatAt",value:function(t,e,n,r){if(a.compare(this.statics.blotName,n)<0&&this.scroll.query(n,fn.BLOT)){var o=this.isolate(t,e);r&&o.wrap(n,r)}else ao(co(a.prototype),"formatAt",this).call(this,t,e,n,r)}},{key:"optimize",value:function(t){if(ao(co(a.prototype),"optimize",this).call(this,t),this.parent instanceof a&&a.compare(this.statics.blotName,this.parent.statics.blotName)>0){var e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}}])&&lo(e.prototype,n),r&&lo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Pn);uo(po,"allowedChildren",[po,Jr,Cn,ro]),uo(po,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);const ho=po;function yo(t){return yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(t)}function vo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vo(Object(n),!0).forEach((function(e){Eo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function go(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_o(r.key),r)}}function wo(t,e,n){return e&&go(t.prototype,e),n&&go(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qo(){return qo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jo(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},qo.apply(this,arguments)}function ko(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oo(t,e)}function Oo(t,e){return Oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Oo(t,e)}function xo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jo(t);if(e){var o=jo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===yo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return So(t)}(this,n)}}function So(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jo(t){return jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jo(t)}function Eo(t,e,n){return(e=_o(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _o(t){var e=function(t,e){if("object"!==yo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==yo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===yo(e)?e:String(e)}var Ao=function(t){ko(n,t);var e=xo(n);function n(){var t;mo(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Eo(So(t=e.call.apply(e,[this].concat(o))),"cache",{}),t}return wo(n,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.descendants(xn).reduce((function(t,n){return 0===n.length()?t:t.insert(n.value(),No(n,{},e))}),new zn).insert("\n",No(t))}(this)),this.cache.delta}},{key:"deleteAt",value:function(t,e){qo(jo(n.prototype),"deleteAt",this).call(this,t,e),this.cache={}}},{key:"formatAt",value:function(t,e,r,o){e<=0||(this.scroll.query(r,fn.BLOCK)?t+e===this.length()&&this.format(r,o):qo(jo(n.prototype),"formatAt",this).call(this,t,Math.min(e,this.length()-t-1),r,o),this.cache={})}},{key:"insertAt",value:function(t,e,r){if(null!=r)return qo(jo(n.prototype),"insertAt",this).call(this,t,e,r),void(this.cache={});if(0!==e.length){var o=e.split("\n"),i=o.shift();i.length>0&&(t<this.length()-1||null==this.children.tail?qo(jo(n.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),i):this.children.tail.insertAt(this.children.tail.length(),i),this.cache={});var l=this;o.reduce((function(t,e){return(l=l.split(t,!0)).insertAt(0,e),e.length}),t+i.length)}}},{key:"insertBefore",value:function(t,e){var r=this.children.head;qo(jo(n.prototype),"insertBefore",this).call(this,t,e),r instanceof Jr&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=qo(jo(n.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(t,e){qo(jo(n.prototype),"moveChildren",this).call(this,t,e),this.cache={}}},{key:"optimize",value:function(t){qo(jo(n.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return qo(jo(n.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){qo(jo(n.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&(0===t||t>=this.length()-1)){var r=this.clone();return 0===t?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var o=qo(jo(n.prototype),"split",this).call(this,t,e);return this.cache={},o}}]),n}(Tn);Ao.blotName="block",Ao.tagName="P",Ao.defaultChild=Jr,Ao.allowedChildren=[Jr,ho,Cn,ro];var Po=function(t){ko(n,t);var e=xo(n);function n(){return mo(this,n),e.apply(this,arguments)}return wo(n,[{key:"attach",value:function(){qo(jo(n.prototype),"attach",this).call(this),this.attributes=new wn(this.domNode)}},{key:"delta",value:function(){return(new zn).insert(this.value(),bo(bo({},this.formats()),this.attributes.values()))}},{key:"format",value:function(t,e){var n=this.scroll.query(t,fn.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,r){this.format(n,r)}},{key:"insertAt",value:function(t,e,r){var o=this;if(null==r){var i=e.split("\n"),l=i.pop(),a=i.map((function(t){var e=o.scroll.create(Ao.blotName);return e.insertAt(0,t),e})),s=this.split(t);a.forEach((function(t){o.parent.insertBefore(t,s)})),l&&this.parent.insertBefore(this.scroll.create("text",l),s)}else qo(jo(n.prototype),"insertAt",this).call(this,t,e,r)}}]),n}(Cn);function No(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==t?e:("formats"in t&&"function"==typeof t.formats&&(e=bo(bo({},e),t.formats()),n&&delete e["code-token"]),null==t.parent||"scroll"===t.parent.statics.blotName||t.parent.statics.scope!==t.statics.scope?e:No(t.parent,e,n))}function To(t){return To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},To(t)}function Ro(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Do(r.key),r)}}function Lo(){return Lo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Io(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Lo.apply(this,arguments)}function Co(t,e){return Co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Co(t,e)}function Io(t){return Io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Io(t)}function Mo(t,e,n){return(e=Do(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Do(t){var e=function(t,e){if("object"!==To(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==To(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===To(e)?e:String(e)}Po.scope=fn.BLOCK_BLOT;var Bo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Co(t,e)}(a,t);var e,n,r,o,i,l=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Io(o);if(i){var n=Io(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===To(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(r=l.call(this,t,e)).selection=n,r.textNode=document.createTextNode(a.CONTENTS),r.domNode.appendChild(r.textNode),r.savedLength=0,r}return e=a,r=[{key:"value",value:function(){}}],(n=[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,e){if(0===this.savedLength){for(var n=this,r=0;null!=n&&n.statics.scope!==fn.BLOCK_BLOT;)r+=n.offset(n.parent),n=n.parent;null!=n&&(this.savedLength=a.CONTENTS.length,n.optimize(),n.formatAt(r,a.CONTENTS.length,t,e),this.savedLength=0)}else Lo(Io(a.prototype),"format",this).call(this,t,e)}},{key:"index",value:function(t,e){return t===this.textNode?0:Lo(Io(a.prototype),"index",this).call(this,t,e)}},{key:"length",value:function(){return this.savedLength}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){Lo(Io(a.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(this.selection.composing||null==this.parent)return null;for(var t=this.selection.getNativeRange();null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);var e,n=this.prev instanceof ro?this.prev:null,r=n?n.length():0,o=this.next instanceof ro?this.next:null,i=o?o.text:"",l=this.textNode,s=l.data.split(a.CONTENTS).join("");if(l.data=a.CONTENTS,n)e=n,(s||o)&&(n.insertAt(n.length(),s+i),o&&o.remove());else if(o)e=o,o.insertAt(0,s);else{var c=document.createTextNode(s);e=this.scroll.create(c),this.parent.insertBefore(e,this)}if(this.remove(),t){var u=function(t,e){return n&&t===n.domNode?e:t===l?r+e-1:o&&t===o.domNode?r+s.length+e:null},f=u(t.start.node,t.start.offset),d=u(t.end.node,t.end.offset);if(null!==f&&null!==d)return{startNode:e.domNode,startOffset:f,endNode:e.domNode,endOffset:d}}return null}},{key:"update",value:function(t,e){var n=this;if(t.some((function(t){return"characterData"===t.type&&t.target===n.textNode}))){var r=this.restore();r&&(e.range=r)}}},{key:"optimize",value:function(t){Lo(Io(a.prototype),"optimize",this).call(this,t);for(var e=this.parent;e;){if("A"===e.domNode.tagName){this.savedLength=a.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}},{key:"value",value:function(){return""}}])&&Ro(e.prototype,n),r&&Ro(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Cn);Mo(Bo,"blotName","cursor"),Mo(Bo,"className","ql-cursor"),Mo(Bo,"tagName","span"),Mo(Bo,"CONTENTS","\ufeff");const Uo=Bo;var zo=n(143);const Fo=new WeakMap;var Ho=["error","warn","log","info"],Wo="warn";function Vo(t){if(Wo&&Ho.indexOf(t)<=Ho.indexOf(Wo)){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=console)[t].apply(e,r)}}function Ko(t){return Ho.reduce((function(e,n){return e[n]=Vo.bind(console,n,t),e}),{})}Ko.level=function(t){Wo=t},Vo.level=Ko.level;const $o=Ko;function Go(t){return Go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Go(t)}function Zo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ti(r.key),r)}}function Xo(){return Xo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qo(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Xo.apply(this,arguments)}function Yo(t,e){return Yo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yo(t,e)}function Qo(t){return Qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qo(t)}function Jo(t,e,n){return(e=ti(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ti(t){var e=function(t,e){if("object"!==Go(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Go(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Go(e)?e:String(e)}var ei=$o("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(t){document.addEventListener(t,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach((function(t){var n,r=Fo.get(t);r&&r.emitter&&(n=r.emitter).handleDOM.apply(n,e)}))}))}));var ni=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yo(t,e)}(l,t);var e,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qo(r);if(o){var n=Qo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Go(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this)).domListeners={},t.on("error",ei.error),t}return e=l,n=[{key:"emit",value:function(){for(var t,e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=ei.log).call.apply(t,[ei].concat(r)),(e=Xo(Qo(l.prototype),"emit",this)).call.apply(e,[this].concat(r))}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(this.domListeners[t.type]||[]).forEach((function(e){var r=e.node,o=e.handler;(t.target===r||r.contains(t.target))&&o.apply(void 0,[t].concat(n))}))}},{key:"listenDOM",value:function(t,e,n){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:n})}}],n&&Zo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(zo);Jo(ni,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Jo(ni,"sources",{API:"api",SILENT:"silent",USER:"user"});const ri=ni;function oi(t){return oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oi(t)}function ii(t){return function(t){if(Array.isArray(t))return si(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ai(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function li(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,e)||ai(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ai(t,e){if(t){if("string"==typeof t)return si(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?si(t,e):void 0}}function si(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ci(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==oi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==oi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===oi(o)?o:String(o)),r)}var o}function ui(t,e,n){return e&&ci(t.prototype,e),n&&ci(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var di=$o("quill:selection"),pi=ui((function t(e){fi(this,t);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.index=e,this.length=n})),hi=function(){function t(e,n){var r=this;fi(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new pi(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){r.mouseDown||r.composing||setTimeout(r.update.bind(r,ri.sources.USER),1)})),this.emitter.on(ri.events.SCROLL_BEFORE_UPDATE,(function(){if(r.hasFocus()){var t=r.getNativeRange();null!=t&&t.start.node!==r.cursor.textNode&&r.emitter.once(ri.events.SCROLL_UPDATE,(function(e,n){try{r.root.contains(t.start.node)&&r.root.contains(t.end.node)&&r.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset);var o=n.some((function(t){return"characterData"===t.type||"childList"===t.type||"attributes"===t.type&&t.target===r.root}));r.update(o?ri.sources.SILENT:e)}catch(t){}}))}})),this.emitter.on(ri.events.SCROLL_OPTIMIZE,(function(t,e){if(e.range){var n=e.range,o=n.startNode,i=n.startOffset,l=n.endNode,a=n.endOffset;r.setNativeRange(o,i,l,a),r.update(ri.sources.SILENT)}})),this.update(ri.sources.SILENT)}return ui(t,[{key:"handleComposition",value:function(){var t=this;this.emitter.on(ri.events.COMPOSITION_BEFORE_START,(function(){t.composing=!0})),this.emitter.on(ri.events.COMPOSITION_END,(function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout((function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,(function(){t.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){t.mouseDown=!1,t.update(ri.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!this.scroll.query(t,fn.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=this.scroll.find(n.start.node,!1);if(null==r)return;if(r instanceof xn){var o=r.split(n.start.offset);r.parent.insertBefore(this.cursor,o)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}},{key:"getBounds",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();t=Math.min(t,r-1),n=Math.min(t+n,r-1)-t;var o=li(this.scroll.leaf(t),2),i=o[0],l=o[1];if(null==i)return null;if(n>0&&l===i.length()){var a=li(this.scroll.leaf(t+1),1)[0];a&&li(this.scroll.line(t),1)[0]===li(this.scroll.line(t+1),1)[0]&&(i=a,l=0)}var s=li(i.position(l,!0),2);e=s[0],l=s[1];var c=document.createRange();if(n>0){c.setStart(e,l);var u=li(this.scroll.leaf(t+n),2);if(i=u[0],l=u[1],null==i)return null;var f=li(i.position(l,!0),2);return e=f[0],l=f[1],c.setEnd(e,l),c.getBoundingClientRect()}var d,p="left";if(e instanceof Text){if(!e.data.length)return null;l<e.data.length?(c.setStart(e,l),c.setEnd(e,l+1)):(c.setStart(e,l-1),c.setEnd(e,l),p="right"),d=c.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;d=i.domNode.getBoundingClientRect(),l>0&&(p="right")}return{bottom:d.top+d.height,height:d.height,left:d[p],right:d[p],top:d.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var n=this.normalizeNative(e);return di.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root||null!=document.activeElement&&yi(this.root,document.activeElement)}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var r=n.map((function(t){var n=li(t,2),r=n[0],o=n[1],i=e.scroll.find(r,!0),l=i.offset(e.scroll);return 0===o?l:i instanceof xn?l+i.index(r,o):l+i.length()})),o=Math.min(Math.max.apply(Math,ii(r)),this.scroll.length()-1),i=Math.min.apply(Math,[o].concat(ii(r)));return new pi(i,o-i)}},{key:"normalizeNative",value:function(t){if(!yi(this.root,t.startContainer)||!t.collapsed&&!yi(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((function(t){for(var e=t.node,n=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;n=(e=e.lastChild)instanceof Text?e.data.length:e.childNodes.length>0?e.childNodes.length:e.childNodes.length+1}t.node=e,t.offset=n})),e}},{key:"rangeToNative",value:function(t){var e=this,n=this.scroll.length(),r=function(t,r){t=Math.min(n-1,t);var o=li(e.scroll.leaf(t),2),i=o[0],l=o[1];return i?i.position(l,r):[null,-1]};return[].concat(ii(r(t.index,!1)),ii(r(t.index+t.length,!0)))}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(di.info("setNativeRange",t,e,n,r),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var i=document.getSelection();if(null!=i)if(null!=t){this.hasFocus()||this.root.focus({preventScroll:!0});var l=(this.getNativeRange()||{}).native;if(null==l||o||t!==l.startContainer||e!==l.startOffset||n!==l.endContainer||r!==l.endOffset){t instanceof Element&&"BR"===t.tagName&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),n instanceof Element&&"BR"===n.tagName&&(r=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);var a=document.createRange();a.setStart(t,e),a.setEnd(n,r),i.removeAllRanges(),i.addRange(a)}}else i.removeAllRanges(),this.root.blur()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ri.sources.API;if("string"==typeof e&&(n=e,e=!1),di.info("setRange",t),null!=t){var r=this.rangeToNative(t);this.setNativeRange.apply(this,ii(r).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri.sources.USER,e=this.lastRange,n=li(this.getRange(),2),r=n[0],o=n[1];if(this.lastRange=r,this.lastNative=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!$r(e,this.lastRange)){var i;if(!this.composing&&null!=o&&o.native.collapsed&&o.start.node!==this.cursor.textNode){var l=this.cursor.restore();l&&this.setNativeRange(l.startNode,l.startOffset,l.endNode,l.endOffset)}var a,s=[ri.events.SELECTION_CHANGE,Pr(this.lastRange),Pr(e),t];(i=this.emitter).emit.apply(i,[ri.events.EDITOR_CHANGE].concat(s)),t!==ri.sources.SILENT&&(a=this.emitter).emit.apply(a,s)}}}]),t}();function yi(t,e){try{e.parentNode}catch(t){return!1}return t.contains(e)}function vi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vi(Object(n),!0).forEach((function(e){mi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mi(t,e,n){return(e=ji(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gi(t){return gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gi(t)}function wi(t,e){return xi(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,e)||ki(t,e)||qi()}function qi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ki(t,e){if(t){if("string"==typeof t)return Oi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oi(t,e):void 0}}function Oi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xi(t){if(Array.isArray(t))return t}function Si(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ji(r.key),r)}}function ji(t){var e=function(t,e){if("object"!==gi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==gi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===gi(e)?e:String(e)}var Ei=/^[ -~]*$/,_i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scroll=e,this.delta=this.getDelta()}var e,n;return e=t,n=[{key:"applyDelta",value:function(t){var e=this;this.scroll.update();var n=this.scroll.length();this.scroll.batchStart();var r,o,i=Ri(t),l=new zn;return(r=i.ops.slice(),o=[],r.forEach((function(t){"string"==typeof t.insert?t.insert.split("\n").forEach((function(e,n){n&&o.push({insert:"\n",attributes:t.attributes}),e&&o.push({insert:e,attributes:t.attributes})})):o.push(t)})),o).reduce((function(t,r){var o=zn.Op.length(r),i=r.attributes||{},a=!1,s=!1;if(null!=r.insert){if(l.retain(o),"string"==typeof r.insert){var c=r.insert;s=!c.endsWith("\n")&&(n<=t||!!e.scroll.descendant(Po,t)[0]),e.scroll.insertAt(t,c);var u=wi(e.scroll.line(t),2),f=u[0],d=u[1],p=We({},No(f));if(f instanceof Ao){var h=wi(f.descendant(xn,d),1)[0];h&&(p=We(p,No(h)))}i=zn.AttributeMap.diff(p,i)||{}}else if("object"===gi(r.insert)){var y=Object.keys(r.insert)[0];if(null==y)return t;var v=null!=e.scroll.query(y,fn.INLINE);if(v)(n<=t||e.scroll.descendant(Po,t)[0])&&(s=!0);else if(t>0){var b=wi(e.scroll.descendant(xn,t-1),2),m=b[0],g=b[1];m instanceof ro?"\n"!==m.value()[g]&&(a=!0):m instanceof Cn&&m.statics.scope===fn.INLINE_BLOT&&(a=!0)}if(e.scroll.insertAt(t,y,r.insert[y]),v){var w=wi(e.scroll.descendant(xn,t),1)[0];if(w){var q=We({},No(w));i=zn.AttributeMap.diff(q,i)||{}}}}n+=o}else if(l.push(r),null!==r.retain&&"object"===gi(r.retain)){var k=Object.keys(r.retain)[0];if(null==k)return t;e.scroll.updateEmbedAt(t,k,r.retain[k])}Object.keys(i).forEach((function(n){e.scroll.formatAt(t,o,n,i[n])}));var O=a?1:0,x=s?1:0;return n+=O+x,l.retain(O),l.delete(x),t+o+O+x}),0),l.reduce((function(t,n){return"number"==typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+zn.Op.length(n)}),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(i)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new zn).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach((function(o){n.scroll.lines(t,Math.max(e,1)).forEach((function(t){t.format(o,r[o])}))})),this.scroll.optimize();var o=(new zn).retain(t).retain(e,Pr(r));return this.update(o)}},{key:"formatText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(r).forEach((function(o){n.scroll.formatAt(t,e,o,r[o])}));var o=(new zn).retain(t).retain(e,Pr(r));return this.update(o)}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(t,e){return t.concat(e.delta())}),new zn)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===e?this.scroll.path(t).forEach((function(t){var e=wi(t,1)[0];e instanceof Ao?n.push(e):e instanceof xn&&r.push(e)})):(n=this.scroll.lines(t,e),r=this.scroll.descendants(xn,t,e));var o=wi([n,r].map((function(t){var e=t.shift();if(null==e)return{};for(var n=No(e);Object.keys(n).length>0;){var r=t.shift();if(null==r)return n;n=Ni(No(r),n)}return n})),2),i=o[0],l=o[1];return bi(bi({},i),l)}},{key:"getHTML",value:function(t,e){var n=wi(this.scroll.line(t),2),r=n[0],o=n[1];if(r){var i=r.length();return r.length()>=o+e&&(0!==o||e!==i)?Pi(r,o,e,!0):Pi(this.scroll,t,e,!0)}return""}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter((function(t){return"string"==typeof t.insert})).map((function(t){return t.insert})).join("")}},{key:"insertContents",value:function(t,e){var n=Ri(e),r=(new zn).retain(t).concat(n);return this.scroll.insertContents(t,n),this.update(r)}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new zn).retain(t).insert(mi({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(r).forEach((function(o){n.scroll.formatAt(t,e.length,o,r[o])})),this.update((new zn).retain(t).insert(e,Pr(r)))}},{key:"isBlank",value:function(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;if((null==t?void 0:t.statics.blotName)!==Ao.blotName)return!1;var e=t;return!(e.children.length>1)&&e.children.head instanceof Jr}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),r=wi(this.scroll.line(t+e),2),o=r[0],i=r[1],l=0,a=new zn;null!=o&&(l=o.length()-i,a=o.delta().slice(i,i+l-1).insert("\n"));var s=this.getContents(t,e+l).diff((new zn).insert(n).concat(a)),c=(new zn).retain(t).concat(s);return this.applyDelta(c)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(Ei)&&this.scroll.find(e[0].target)){var o=this.scroll.find(e[0].target),i=No(o),l=o.offset(this.scroll),a=e[0].oldValue.replace(Uo.CONTENTS,""),s=(new zn).insert(a),c=(new zn).insert(o.value()),u=n&&{oldRange:Li(n.oldRange,-l),newRange:Li(n.newRange,-l)};t=(new zn).retain(l).concat(s.diff(c,u)).reduce((function(t,e){return e.insert?t.insert(e.insert,i):t.push(e)}),new zn),this.delta=r.compose(t)}else this.delta=this.getDelta(),t&&$r(r.compose(t),this.delta)||(t=r.diff(this.delta,n));return t}}],n&&Si(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ai(t,e,n){if(0===t.length){var r=wi(Ti(n.pop()),1)[0];return e<=0?"</li></".concat(r,">"):"</li></".concat(r,">").concat(Ai([],e-1,n))}var o,i=xi(o=t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(o)||ki(o)||qi(),l=i[0],a=l.child,s=l.offset,c=l.length,u=l.indent,f=l.type,d=i.slice(1),p=wi(Ti(f),2),h=p[0],y=p[1];if(u>e)return n.push(f),u===e+1?"<".concat(h,"><li").concat(y,">").concat(Pi(a,s,c)).concat(Ai(d,u,n)):"<".concat(h,"><li>").concat(Ai(t,e+1,n));var v=n[n.length-1];if(u===e&&f===v)return"</li><li".concat(y,">").concat(Pi(a,s,c)).concat(Ai(d,u,n));var b=wi(Ti(n.pop()),1)[0];return"</li></".concat(b,">").concat(Ai(t,e-1,n))}function Pi(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("html"in t&&"function"==typeof t.html)return t.html(e,n);if(t instanceof ro)return oo(t.value().slice(e,e+n));if(t instanceof _n){if("list-container"===t.statics.blotName){var o=[];return t.children.forEachAt(e,n,(function(t,e,n){var r="formats"in t&&"function"==typeof t.formats?t.formats():{};o.push({child:t,offset:e,length:n,indent:r.indent||0,type:r.list})})),Ai(o,-1,[])}var i=[];if(t.children.forEachAt(e,n,(function(t,e,n){i.push(Pi(t,e,n))})),r||"list"===t.statics.blotName)return i.join("");var l=t.domNode,a=l.outerHTML,s=l.innerHTML,c=wi(a.split(">".concat(s,"<")),2),u=c[0],f=c[1];return"<table"===u?'<table style="border: 1px solid #000;">'.concat(i.join(""),"<").concat(f):"".concat(u,">").concat(i.join(""),"<").concat(f)}return t.domNode instanceof Element?t.domNode.outerHTML:""}function Ni(t,e){return Object.keys(e).reduce((function(n,r){if(null==t[r])return n;var o=e[r];return o===t[r]?n[r]=o:Array.isArray(o)?o.indexOf(t[r])<0?n[r]=o.concat([t[r]]):n[r]=o:n[r]=[o,t[r]],n}),{})}function Ti(t){var e="ordered"===t?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function Ri(t){return t.reduce((function(t,e){if("string"==typeof e.insert){var n=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(n,e.attributes)}return t.push(e)}),new zn)}function Li(t,e){var n=t.index,r=t.length;return new pi(n+e,r)}const Ci=_i;function Ii(t){return Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ii(t)}function Mi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bi(r.key),r)}}function Di(t,e,n){return e&&Mi(t.prototype,e),n&&Mi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bi(t){var e=function(t,e){if("object"!==Ii(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ii(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ii(e)?e:String(e)}var Ui,zi,Fi,Hi=Di((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.quill=e,this.options=n}));Ui=Hi,Fi={},(zi=Bi(zi="DEFAULTS"))in Ui?Object.defineProperty(Ui,zi,{value:Fi,enumerable:!0,configurable:!0,writable:!0}):Ui[zi]=Fi;const Wi=Hi;function Vi(t){return Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(t)}function Ki(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$i(r.key),r)}}function $i(t){var e=function(t,e){if("object"!==Vi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Vi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Vi(e)?e:String(e)}function Gi(){return Gi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xi(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Gi.apply(this,arguments)}function Zi(t,e){return Zi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zi(t,e)}function Xi(t){return Xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xi(t)}var Yi="\ufeff";const Qi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zi(t,e)}(l,t);var e,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xi(r);if(o){var n=Xi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Vi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(n=i.call(this,t,e)).contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable","false"),Array.from(n.domNode.childNodes).forEach((function(t){n.contentNode.appendChild(t)})),n.leftGuard=document.createTextNode(Yi),n.rightGuard=document.createTextNode(Yi),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return e=l,(n=[{key:"index",value:function(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:Gi(Xi(l.prototype),"index",this).call(this,t,e)}},{key:"restore",value:function(t){var e,n=null,r=t.data.split(Yi).join("");if(t===this.leftGuard)if(this.prev instanceof ro){var o=this.prev.length();this.prev.insertAt(o,r),n={startNode:this.prev.domNode,startOffset:o+r.length}}else e=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(e),this),n={startNode:e,startOffset:r.length};else t===this.rightGuard&&(this.next instanceof ro?(this.next.insertAt(0,r),n={startNode:this.next.domNode,startOffset:r.length}):(e=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(e),this.next),n={startNode:e,startOffset:r.length}));return t.data=Yi,n}},{key:"update",value:function(t,e){var n=this;t.forEach((function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var r=n.restore(t.target);r&&(e.range=r)}}))}}])&&Ki(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(Cn);function Ji(t){return Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(t)}function tl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,el(r.key),r)}}function el(t){var e=function(t,e){if("object"!==Ji(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ji(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ji(e)?e:String(e)}var nl=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,n){(e=el(e))in t?Object.defineProperty(t,e,{value:false,enumerable:!0,configurable:!0,writable:!0}):t[e]=false}(this,"isComposing"),this.scroll=e,this.emitter=n,this.setupListeners()}var e,n;return e=t,(n=[{key:"setupListeners",value:function(){var t=this;this.scroll.domNode.addEventListener("compositionstart",(function(e){t.isComposing||t.handleCompositionStart(e)})),this.scroll.domNode.addEventListener("compositionend",(function(e){t.isComposing&&queueMicrotask((function(){t.handleCompositionEnd(e)}))}))}},{key:"handleCompositionStart",value:function(t){var e=t.target instanceof Node?this.scroll.find(t.target,!0):null;!e||e instanceof Qi||(this.emitter.emit(ri.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(ri.events.COMPOSITION_START,t),this.isComposing=!0)}},{key:"handleCompositionEnd",value:function(t){this.emitter.emit(ri.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(ri.events.COMPOSITION_END,t),this.isComposing=!1}}])&&tl(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const rl=nl;var ol;function il(t){return il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(t)}function ll(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sl(r.key),r)}}function al(t,e,n){return(e=sl(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sl(t){var e=function(t,e){if("object"!==il(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==il(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===il(e)?e:String(e)}var cl=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),al(this,"modules",{}),this.quill=e,this.options=n}var e,n;return e=t,(n=[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach((function(e){null==t.modules[e]&&t.addModule(e)}))}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/".concat(t));return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}])&&ll(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();ol=cl,al(cl,"DEFAULTS",{modules:{}}),al(cl,"themes",{default:ol});const ul=cl;var fl=function(t){var e=t.getBoundingClientRect(),n="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,r="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*n,bottom:e.top+t.clientHeight*r,left:e.left}},dl=function(t){var e=parseInt(t,10);return Number.isNaN(e)?0:e},pl=function(t,e,n,r,o,i){return t<n&&e>r?0:t<n?-(n-t+o):e>r?e-t>r-n?t+o-n:e-r+i:0};var hl=["block","break","cursor","inline","scroll","text"];var yl=["modules"],vl=["modules"];function bl(t){return bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(t)}function ml(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function gl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gl(Object(n),!0).forEach((function(e){xl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ql(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return kl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kl(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ol(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sl(r.key),r)}}function xl(t,e,n){return(e=Sl(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sl(t){var e=function(t,e){if("object"!==bl(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==bl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===bl(e)?e:String(e)}var jl=$o("quill"),El=new yn;_n.uiClass="ql-ui";var _l=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options=Nl(e,r),this.container=this.options.container,null!=this.container){this.options.debug&&t.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Fo.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new ri;var i=Dn.blotName,l=this.options.registry.query(i);if(!l||!("blotName"in l))throw new Error('Cannot initialize Quill without "'.concat(i,'" blot'));if(this.scroll=new l(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new Ci(this.scroll),this.selection=new hi(this.scroll,this.emitter),this.composition=new rl(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(ri.events.EDITOR_CHANGE,(function(t){t===ri.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(ri.events.SCROLL_UPDATE,(function(t,e){var r=n.selection.lastRange,o=ql(n.selection.getRange(),1)[0],i=r&&o?{oldRange:r,newRange:o}:void 0;Tl.call(n,(function(){return n.editor.update(null,e,i)}),t)})),this.emitter.on(ri.events.SCROLL_EMBED_UPDATE,(function(e,r){var o=n.selection.lastRange,i=ql(n.selection.getRange(),1)[0],l=o&&i?{oldRange:o,newRange:i}:void 0;Tl.call(n,(function(){var t=(new zn).retain(e.offset(n)).retain(xl({},e.statics.blotName,r));return n.editor.update(t,[],l)}),t.sources.USER)})),o){var a=this.clipboard.convert({html:"".concat(o,"<p><br></p>"),text:"\n"});this.setContents(a)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}else jl.error("Invalid Quill container",e)}var e,n,r;return e=t,n=[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){var n=t;(t=document.createElement("div")).classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var r=this,o=ql(Rl(t,e,n),4);return t=o[0],e=o[1],n=o[3],Tl.call(this,(function(){return r.editor.deleteText(t,e)}),n,t,-1*e)}},{key:"disable",value:function(){this.enable(!1)}},{key:"editReadOnly",value:function(t){this.allowReadOnlyEdits=!0;var e=t();return this.allowReadOnlyEdits=!1,e}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}},{key:"format",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ri.sources.API;return Tl.call(this,(function(){var r=n.getSelection(!0),o=new zn;if(null==r)return o;if(n.scroll.query(t,fn.BLOCK))o=n.editor.formatLine(r.index,r.length,xl({},t,e));else{if(0===r.length)return n.selection.format(t,e),o;o=n.editor.formatText(r.index,r.length,xl({},t,e))}return n.setSelection(r,ri.sources.SILENT),o}),r)}},{key:"formatLine",value:function(t,e,n,r,o){var i,l=this,a=ql(Rl(t,e,n,r,o),4);return t=a[0],e=a[1],i=a[2],o=a[3],Tl.call(this,(function(){return l.editor.formatLine(t,e,i)}),o,t,0)}},{key:"formatText",value:function(t,e,n,r,o){var i,l=this,a=ql(Rl(t,e,n,r,o),4);return t=a[0],e=a[1],i=a[2],o=a[3],Tl.call(this,(function(){return l.editor.formatText(t,e,i)}),o,t,0)}},{key:"getBounds",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(e="number"==typeof t?this.selection.getBounds(t,n):this.selection.getBounds(t.index,t.length)))return null;var r=this.container.getBoundingClientRect();return{bottom:e.bottom-r.top,height:e.height,left:e.left-r.left,right:e.right-r.left,top:e.top-r.top,width:e.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=ql(Rl(t,e),2);return t=n[0],e=n[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getSemanticHTML",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;"number"==typeof e&&(n=null!==(t=n)&&void 0!==t?t:this.getLength()-e);var r=ql(Rl(e,n),2);return e=r[0],n=r[1],this.editor.getHTML(e,n)}},{key:"getText",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;"number"==typeof e&&(n=null!==(t=n)&&void 0!==t?t:this.getLength()-e);var r=ql(Rl(e,n),2);return e=r[0],n=r[1],this.editor.getText(e,n)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return Tl.call(this,(function(){return o.editor.insertEmbed(e,n,r)}),i,e)}},{key:"insertText",value:function(t,e,n,r,o){var i,l=this,a=ql(Rl(t,0,n,r,o),4);return t=a[0],i=a[2],o=a[3],Tl.call(this,(function(){return l.editor.insertText(t,e,i)}),o,t,e.length)}},{key:"isEnabled",value:function(){return this.scroll.isEnabled()}},{key:"off",value:function(){var t;return(t=this.emitter).off.apply(t,arguments)}},{key:"on",value:function(){var t;return(t=this.emitter).on.apply(t,arguments)}},{key:"once",value:function(){var t;return(t=this.emitter).once.apply(t,arguments)}},{key:"removeFormat",value:function(){var t=this,e=ql(Rl.apply(void 0,arguments),4),n=e[0],r=e[1],o=e[3];return Tl.call(this,(function(){return t.editor.removeFormat(n,r)}),o,n)}},{key:"scrollRectIntoView",value:function(t){!function(t,e){for(var n,r=t.ownerDocument,o=e,i=t;i;){var l,a,s,c,u=i===r.body,f=u?{top:0,right:null!==(l=null===(a=window.visualViewport)||void 0===a?void 0:a.width)&&void 0!==l?l:r.documentElement.clientWidth,bottom:null!==(s=null===(c=window.visualViewport)||void 0===c?void 0:c.height)&&void 0!==s?s:r.documentElement.clientHeight,left:0}:fl(i),d=getComputedStyle(i),p=pl(o.left,o.right,f.left,f.right,dl(d.scrollPaddingLeft),dl(d.scrollPaddingRight)),h=pl(o.top,o.bottom,f.top,f.bottom,dl(d.scrollPaddingTop),dl(d.scrollPaddingBottom));if(p||h)if(u){var y;null===(y=r.defaultView)||void 0===y||y.scrollBy(p,h)}else{var v=i,b=v.scrollLeft,m=v.scrollTop;h&&(i.scrollTop+=h),p&&(i.scrollLeft+=p);var g=i.scrollLeft-b,w=i.scrollTop-m;o={left:o.left-g,top:o.top-w,right:o.right-g,bottom:o.bottom-w}}i=u||"fixed"===d.position?null:(n=i).parentElement||n.getRootNode().host||null}}(this.root,t)}},{key:"scrollIntoView",value:function(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}},{key:"scrollSelectionIntoView",value:function(){var t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}},{key:"setContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ri.sources.API;return Tl.call(this,(function(){t=new zn(t);var n=e.getLength(),r=e.editor.deleteText(0,n),o=e.editor.insertContents(0,t),i=e.editor.deleteText(e.getLength()-1,1);return r.compose(o).compose(i)}),n)}},{key:"setSelection",value:function(e,n,r){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var o=ql(Rl(e,n,r),4);e=o[0],n=o[1],r=o[3],this.selection.setRange(new pi(Math.max(0,e),n),r),r!==ri.sources.SILENT&&this.scrollSelectionIntoView()}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ri.sources.API,n=(new zn).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ri.sources.API;return Tl.call(this,(function(){return t=new zn(t),e.editor.applyDelta(t)}),n,!0)}}],r=[{key:"debug",value:function(t){!0===t&&(t="log"),$o.level(t)}},{key:"find",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Fo.get(t)||El.find(t,e)}},{key:"import",value:function(t){return null==this.imports[t]&&jl.error("Cannot import ".concat(t,". Are you sure it was registered?")),this.imports[t]}},{key:"register",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t){var o="attrName"in t?t.attrName:t.blotName;"string"==typeof o?this.register("formats/".concat(o),t,e):Object.keys(t).forEach((function(r){n.register(r,t[r],e)}))}else null==this.imports[t]||r||jl.warn("Overwriting ".concat(t," with"),e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&"boolean"!=typeof e&&"abstract"!==e.blotName&&El.register(e),"function"==typeof e.register&&e.register(El)}}],n&&Ol(e.prototype,n),r&&Ol(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Al(t){return"string"==typeof t?document.querySelector(t):t}function Pl(t){return Object.entries(null!=t?t:{}).reduce((function(t,e){var n=ql(e,2),r=n[0],o=n[1];return wl(wl({},t),{},xl({},r,!0===o?{}:o))}),{})}function Nl(t,e){var n=Al(t);if(!n)throw new Error("Invalid Quill container");var r=e.theme&&e.theme!==_l.DEFAULTS.theme?_l.import("themes/".concat(e.theme)):ul;if(!r)throw new Error("Invalid theme ".concat(e.theme,". Did you register it?"));var o=_l.DEFAULTS,i=o.modules,l=ml(o,yl),a=r.DEFAULTS,s=a.modules,c=ml(a,vl),u=We({},Pl(i),Pl(s),Pl(e.modules));null!=u&&u.toolbar&&u.toolbar.constructor!==Object&&(u.toolbar={container:u.toolbar});var f=wl(wl(wl({},l),c),e),d=e.registry;return d?e.formats&&jl.warn('Ignoring "formats" option because "registry" is specified'):d=e.formats?function(t,e,n){var r=new yn;return hl.forEach((function(t){var n=e.query(t);n&&r.register(n)})),t.forEach((function(t){var o=e.query(t);o||n.error('Cannot register "'.concat(t,'" specified in "formats" config. Are you sure it was registered?'));for(var i=0;o;){var l;if(r.register(o),o="blotName"in o&&null!==(l=o.requiredContainer)&&void 0!==l?l:null,(i+=1)>100){n.error('Cycle detected in registering blot requiredContainer: "'.concat(t,'"'));break}}})),r}(e.formats,f.registry,jl):f.registry,wl(wl({},f),{},{registry:d,container:n,theme:r,modules:Object.entries(u).reduce((function(t,e){var n=ql(e,2),r=n[0],o=n[1];if(!o)return t;var i=_l.import("modules/".concat(r));return null==i?(jl.error("Cannot load ".concat(r," module. Are you sure you registered it?")),t):wl(wl({},t),{},xl({},r,We({},i.DEFAULTS||{},o)))}),{}),bounds:Al(f.bounds)})}function Tl(t,e,n,r){if(!this.isEnabled()&&e===ri.sources.USER&&!this.allowReadOnlyEdits)return new zn;var o=null==n?null:this.getSelection(),i=this.editor.delta,l=t();if(null!=o&&(!0===n&&(n=o.index),null==r?o=Ll(o,l,e):0!==r&&(o=Ll(o,n,r,e)),this.setSelection(o,ri.sources.SILENT)),l.length()>0){var a,s,c=[ri.events.TEXT_CHANGE,l,i,e];(a=this.emitter).emit.apply(a,[ri.events.EDITOR_CHANGE].concat(c)),e!==ri.sources.SILENT&&(s=this.emitter).emit.apply(s,c)}return l}function Rl(t,e,n,r,o){var i={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(o=r,r=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(o=r,r=n,n=e,e=0),"object"===bl(n)?(i=n,o=r):"string"==typeof n&&(null!=r?i[n]=r:o=n),[t,e,i,o=o||ri.sources.API]}function Ll(t,e,n,r){var o,i,l="number"==typeof n?n:0;if(null==t)return null;if(e&&"function"==typeof e.transformPosition){var a=ql([t.index,t.index+t.length].map((function(t){return e.transformPosition(t,r!==ri.sources.USER)})),2);o=a[0],i=a[1]}else{var s=ql([t.index,t.index+t.length].map((function(t){return t<e||t===e&&r===ri.sources.USER?t:l>=0?t+l:Math.max(e,t+l)})),2);o=s[0],i=s[1]}return new pi(o,i-o)}function Cl(t){return Cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(t)}function Il(t,e){return Il=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Il(t,e)}function Ml(t){return Ml=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ml(t)}xl(_l,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:El,theme:"default"}),xl(_l,"events",ri.events),xl(_l,"sources",ri.sources),xl(_l,"version","2.0.0-rc.3"),xl(_l,"imports",{delta:zn,parchment:t,"core/module":Wi,"core/theme":ul});const Dl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Il(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ml(n);if(r){var o=Ml(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Cl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ln);function Bl(t){return Bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(t)}function Ul(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return zl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zl(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$l(r.key),r)}}function Hl(){return Hl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vl(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Hl.apply(this,arguments)}function Wl(t,e){return Wl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wl(t,e)}function Vl(t){return Vl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vl(t)}function Kl(t,e,n){return(e=$l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $l(t){var e=function(t,e){if("object"!==Bl(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Bl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Bl(e)?e:String(e)}function Gl(t){return t instanceof Ao||t instanceof Po}function Zl(t){return"function"==typeof t.updateContent}var Xl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wl(t,e)}(l,t);var e,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vl(r);if(o){var n=Vl(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Bl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(t,e,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);var o=n.emitter;return(r=i.call(this,t,e)).emitter=o,r.batch=!1,r.optimize(),r.enable(),r.domNode.addEventListener("dragstart",(function(t){return r.handleDragStart(t)})),r}return e=l,n=[{key:"batchStart",value:function(){Array.isArray(this.batch)||(this.batch=[])}},{key:"batchEnd",value:function(){if(this.batch){var t=this.batch;this.batch=!1,this.update(t)}}},{key:"emitMount",value:function(t){this.emitter.emit(ri.events.SCROLL_BLOT_MOUNT,t)}},{key:"emitUnmount",value:function(t){this.emitter.emit(ri.events.SCROLL_BLOT_UNMOUNT,t)}},{key:"emitEmbedUpdate",value:function(t,e){this.emitter.emit(ri.events.SCROLL_EMBED_UPDATE,t,e)}},{key:"deleteAt",value:function(t,e){var n=Ul(this.line(t),2),r=n[0],o=n[1],i=Ul(this.line(t+e),1)[0];if(Hl(Vl(l.prototype),"deleteAt",this).call(this,t,e),null!=i&&r!==i&&o>0){if(r instanceof Po||i instanceof Po)return void this.optimize();var a=i.children.head instanceof Jr?null:i.children.head;r.moveChildren(i,a),r.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t?"true":"false")}},{key:"formatAt",value:function(t,e,n,r){Hl(Vl(l.prototype),"formatAt",this).call(this,t,e,n,r),this.optimize()}},{key:"insertAt",value:function(t,e,n){if(t>=this.length())if(null==n||null==this.scroll.query(e,fn.BLOCK)){var r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r),null==n&&e.endsWith("\n")?r.insertAt(0,e.slice(0,-1),n):r.insertAt(0,e,n)}else{var o=this.scroll.create(e,n);this.appendChild(o)}else Hl(Vl(l.prototype),"insertAt",this).call(this,t,e,n);this.optimize()}},{key:"insertBefore",value:function(t,e){if(t.statics.scope===fn.INLINE_BLOT){var n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(t),Hl(Vl(l.prototype),"insertBefore",this).call(this,n,e)}else Hl(Vl(l.prototype),"insertBefore",this).call(this,t,e)}},{key:"insertContents",value:function(t,e){var n=this,r=this.deltaToRenderBlocks(e.concat((new zn).insert("\n"))),o=r.pop();if(null!=o){this.batchStart();var i=r.shift();if(i){var l="block"===i.type&&(0===i.delta.length()||!this.descendant(Po,t)[0]&&t<this.length()),a="block"===i.type?i.delta:(new zn).insert(Kl({},i.key,i.value));Yl(this,t,a);var s="block"===i.type?1:0,c=t+a.length()+s;l&&this.insertAt(c-1,"\n");var u=No(this.line(t)[0]),f=zn.AttributeMap.diff(u,i.attributes)||{};Object.keys(f).forEach((function(t){n.formatAt(c-1,1,t,f[t])})),t=c}var d=Ul(this.children.find(t),2),p=d[0],h=d[1];r.length&&(p&&(p=p.split(h),h=0),r.forEach((function(t){if("block"===t.type)Yl(n.createBlock(t.attributes,p||void 0),0,t.delta);else{var e=n.create(t.key,t.value);n.insertBefore(e,p||void 0),Object.keys(t.attributes).forEach((function(n){e.format(n,t.attributes[n])}))}}))),"block"===o.type&&o.delta.length()&&Yl(this,p?p.offset(p.scroll)+h:this.length(),o.delta),this.batchEnd(),this.optimize()}}},{key:"isEnabled",value:function(){return"true"===this.domNode.getAttribute("contenteditable")}},{key:"leaf",value:function(t){var e=this.path(t).pop();if(!e)return[null,-1];var n=Ul(e,2),r=n[0],o=n[1];return r instanceof xn?[r,o]:[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(Gl,t)}},{key:"lines",value:function(){return function t(e,n,r){var o=[],i=r;return e.children.forEachAt(n,r,(function(e,n,r){Gl(e)?o.push(e):e instanceof Ln&&(o=o.concat(t(e,n,i))),i-=r})),o}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(Hl(Vl(l.prototype),"optimize",this).call(this,t,e),t.length>0&&this.emitter.emit(ri.events.SCROLL_OPTIMIZE,t,e))}},{key:"path",value:function(t){return Hl(Vl(l.prototype),"path",this).call(this,t).slice(1)}},{key:"remove",value:function(){}},{key:"update",value:function(t){var e=this;if(this.batch)Array.isArray(t)&&(this.batch=this.batch.concat(t));else{var n=ri.sources.USER;"string"==typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),(t=t.filter((function(t){var n=t.target,r=e.find(n,!0);return r&&!Zl(r)}))).length>0&&this.emitter.emit(ri.events.SCROLL_BEFORE_UPDATE,n,t),Hl(Vl(l.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(ri.events.SCROLL_UPDATE,n,t)}}},{key:"updateEmbedAt",value:function(t,e,n){var r=this.descendant((function(t){return t instanceof Po}),t),o=Ul(r,1)[0];o&&o.statics.blotName===e&&Zl(o)&&o.updateContent(n)}},{key:"handleDragStart",value:function(t){t.preventDefault()}},{key:"deltaToRenderBlocks",value:function(t){var e=this,n=[],r=new zn;return t.forEach((function(t){var o=null==t?void 0:t.insert;if(o)if("string"==typeof o){var i=o.split("\n");i.slice(0,-1).forEach((function(e){var o;r.insert(e,t.attributes),n.push({type:"block",delta:r,attributes:null!==(o=t.attributes)&&void 0!==o?o:{}}),r=new zn}));var l=i[i.length-1];l&&r.insert(l,t.attributes)}else{var a,s=Object.keys(o)[0];if(!s)return;e.query(s,fn.INLINE)?r.push(t):(r.length()&&n.push({type:"block",delta:r,attributes:{}}),r=new zn,n.push({type:"blockEmbed",key:s,value:o[s],attributes:null!==(a=t.attributes)&&void 0!==a?a:{}}))}})),r.length()&&n.push({type:"block",delta:r,attributes:{}}),n}},{key:"createBlock",value:function(t,e){var n,r=this,o={};Object.entries(t).forEach((function(t){var e=Ul(t,2),i=e[0],l=e[1];null!=r.query(i,fn.BLOCK&fn.BLOT)?n=i:o[i]=l}));var i=this.create(n||this.statics.defaultChild.blotName,n?t[n]:void 0);this.insertBefore(i,e||void 0);var l=i.length();return Object.entries(o).forEach((function(t){var e=Ul(t,2),n=e[0],r=e[1];i.formatAt(0,l,n,r)})),i}}],n&&Fl(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(Dn);function Yl(t,e,n){n.reduce((function(e,n){var r=zn.Op.length(n),o=n.attributes||{};if(null!=n.insert)if("string"==typeof n.insert){var i=n.insert;t.insertAt(e,i);var l=No(Ul(t.descendant(xn,e),1)[0]);o=zn.AttributeMap.diff(l,o)||{}}else if("object"===Bl(n.insert)){var a=Object.keys(n.insert)[0];if(null==a)return e;if(t.insertAt(e,a,n.insert[a]),null!=t.scroll.query(a,fn.INLINE)){var s=No(Ul(t.descendant(xn,e),1)[0]);o=zn.AttributeMap.diff(s,o)||{}}}return Object.keys(o).forEach((function(n){t.formatAt(e,r,n,o[n])})),e+r}),e)}Kl(Xl,"blotName","scroll"),Kl(Xl,"className","ql-editor"),Kl(Xl,"tagName","DIV"),Kl(Xl,"defaultChild",Ao),Kl(Xl,"allowedChildren",[Ao,Po,Dl]);const Ql=Xl;var Jl={scope:fn.BLOCK,whitelist:["right","center","justify"]},ta=new dn("align","align",Jl),ea=(new bn("align","ql-align",Jl),new gn("align","text-align",Jl));function na(t){return na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},na(t)}function ra(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oa(r.key),r)}}function oa(t){var e=function(t,e){if("object"!==na(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==na(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===na(e)?e:String(e)}function ia(){return ia="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=aa(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ia.apply(this,arguments)}function la(t,e){return la=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},la(t,e)}function aa(t){return aa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},aa(t)}var sa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&la(t,e)}(l,t);var e,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=aa(r);if(o){var n=aa(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===na(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),i.apply(this,arguments)}return e=l,n=[{key:"value",value:function(t){var e=ia(aa(l.prototype),"value",this).call(this,t);if(!e.startsWith("rgb("))return e;var n=(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map((function(t){return"00".concat(parseInt(t,10).toString(16)).slice(-2)})).join("");return"#".concat(n)}}],n&&ra(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(gn),ca=(new bn("color","ql-color",{scope:fn.INLINE}),new sa("color","color",{scope:fn.INLINE})),ua=(new bn("background","ql-bg",{scope:fn.INLINE}),new sa("background","background-color",{scope:fn.INLINE}));function fa(t){return fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fa(t)}function da(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ya(r.key),r)}}function ha(t,e,n){return e&&pa(t.prototype,e),n&&pa(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ya(t){var e=function(t,e){if("object"!==fa(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==fa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===fa(e)?e:String(e)}function va(){return va="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wa(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},va.apply(this,arguments)}function ba(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ma(t,e)}function ma(t,e){return ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ma(t,e)}function ga(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wa(t);if(e){var o=wa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===fa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function wa(t){return wa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wa(t)}var qa=function(t){ba(n,t);var e=ga(n);function n(){return da(this,n),e.apply(this,arguments)}return ha(n,[{key:"code",value:function(t,e){return this.children.map((function(t){return t.length()<=1?"":t.domNode.innerText})).join("\n").slice(t,t+e)}},{key:"html",value:function(t,e){return"<pre>\n".concat(oo(this.code(t,e)),"\n</pre>")}}],[{key:"create",value:function(t){var e=va(wa(n),"create",this).call(this,t);return e.setAttribute("spellcheck","false"),e}}]),n}(Dl),ka=function(t){ba(n,t);var e=ga(n);function n(){return da(this,n),e.apply(this,arguments)}return ha(n,null,[{key:"register",value:function(){_l.register(qa)}}]),n}(Ao);!function(t,e,n){(e=ya(e))in t?Object.defineProperty(t,e,{value:"  ",enumerable:!0,configurable:!0,writable:!0}):t[e]="  "}(ka,"TAB");var Oa=function(t){ba(n,t);var e=ga(n);function n(){return da(this,n),e.apply(this,arguments)}return ha(n)}(ho);Oa.blotName="code",Oa.tagName="CODE",ka.blotName="code-block",ka.className="ql-code-block",ka.tagName="DIV",qa.blotName="code-block-container",qa.className="ql-code-block-container",qa.tagName="DIV",qa.allowedChildren=[ka],ka.allowedChildren=[ro,Jr,Uo],ka.requiredContainer=qa;var xa={scope:fn.BLOCK,whitelist:["rtl"]},Sa=new dn("direction","dir",xa),ja=(new bn("direction","ql-direction",xa),new gn("direction","direction",xa));function Ea(t){return Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ea(t)}function _a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Aa(r.key),r)}}function Aa(t){var e=function(t,e){if("object"!==Ea(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ea(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ea(e)?e:String(e)}function Pa(){return Pa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ta(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Pa.apply(this,arguments)}function Na(t,e){return Na=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Na(t,e)}function Ta(t){return Ta=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ta(t)}var Ra={scope:fn.INLINE,whitelist:["serif","monospace"]},La=(new bn("font","ql-font",Ra),new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Na(t,e)}(l,t);var e,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ta(r);if(o){var n=Ta(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ea(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),i.apply(this,arguments)}return e=l,(n=[{key:"value",value:function(t){return Pa(Ta(l.prototype),"value",this).call(this,t).replace(/["']/g,"")}}])&&_a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(gn))("font","font-family",Ra)),Ca=(new bn("size","ql-size",{scope:fn.INLINE,whitelist:["small","large","huge"]}),new gn("size","font-size",{scope:fn.INLINE,whitelist:["10px","18px","32px"]}));function Ia(t){return Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ia(t)}function Ma(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Da(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Da(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Da(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ba(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ua(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ba(Object(n),!0).forEach((function(e){za(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ba(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function za(t,e,n){return(e=Ha(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ha(r.key),r)}}function Ha(t){var e=function(t,e){if("object"!==Ia(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ia(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ia(e)?e:String(e)}function Wa(t,e){return Wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wa(t,e)}function Va(t){return Va=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Va(t)}var Ka=$o("quill:keyboard"),$a=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Ga=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wa(t,e)}(a,t);var e,n,r,o,i,l=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Va(o);if(i){var n=Va(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ia(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=l.call(this,t,e)).bindings={},Object.keys(n.options.bindings).forEach((function(t){n.options.bindings[t]&&n.addBinding(n.options.bindings[t])})),n.addBinding({key:"Enter",shiftKey:null},n.handleEnter),n.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(n.addBinding({key:"Backspace"},{collapsed:!0},n.handleBackspace),n.addBinding({key:"Delete"},{collapsed:!0},n.handleDelete)):(n.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},n.handleBackspace),n.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},n.handleDelete)),n.addBinding({key:"Backspace"},{collapsed:!1},n.handleDeleteRange),n.addBinding({key:"Delete"},{collapsed:!1},n.handleDeleteRange),n.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},n.handleBackspace),n.listen(),n}return e=a,n=[{key:"addBinding",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=function(t){if("string"==typeof t||"number"==typeof t)t={key:t};else{if("object"!==Ia(t))return null;t=Pr(t)}return t.shortKey&&(t[$a]=t.shortKey,delete t.shortKey),t}(t);null!=o?("function"==typeof n&&(n={handler:n}),"function"==typeof r&&(r={handler:r}),(Array.isArray(o.key)?o.key:[o.key]).forEach((function(t){var i=Ua(Ua(Ua({},o),{},{key:t},n),r);e.bindings[i.key]=e.bindings[i.key]||[],e.bindings[i.key].push(i)}))):Ka.warn("Attempted to add invalid keyboard binding",o)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",(function(e){if(!e.defaultPrevented&&!e.isComposing){var n=(t.bindings[e.key]||[]).concat(t.bindings[e.which]||[]).filter((function(t){return a.match(e,t)}));if(0!==n.length){var r=_l.find(e.target,!0);if(!r||r.scroll===t.quill.scroll){var o=t.quill.getSelection();if(null!=o&&t.quill.hasFocus()){var i=Ma(t.quill.getLine(o.index),2),l=i[0],s=i[1],c=Ma(t.quill.getLeaf(o.index),2),u=c[0],f=c[1],d=Ma(0===o.length?[u,f]:t.quill.getLeaf(o.index+o.length),2),p=d[0],h=d[1],y=u instanceof Un?u.value().slice(0,f):"",v=p instanceof Un?p.value().slice(h):"",b={collapsed:0===o.length,empty:0===o.length&&l.length()<=1,format:t.quill.getFormat(o),line:l,offset:s,prefix:y,suffix:v,event:e};n.some((function(e){if(null!=e.collapsed&&e.collapsed!==b.collapsed)return!1;if(null!=e.empty&&e.empty!==b.empty)return!1;if(null!=e.offset&&e.offset!==b.offset)return!1;if(Array.isArray(e.format)){if(e.format.every((function(t){return null==b.format[t]})))return!1}else if("object"===Ia(e.format)&&!Object.keys(e.format).every((function(t){return!0===e.format[t]?null!=b.format[t]:!1===e.format[t]?null==b.format[t]:$r(e.format[t],b.format[t])})))return!1;return!(null!=e.prefix&&!e.prefix.test(b.prefix)||null!=e.suffix&&!e.suffix.test(b.suffix)||!0===e.handler.call(t,o,b,e))}))&&e.preventDefault()}}}}}))}},{key:"handleBackspace",value:function(t,e){var n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(!(0===t.index||this.quill.getLength()<=1)){var r={},o=Ma(this.quill.getLine(t.index),1)[0],i=(new zn).retain(t.index-n).delete(n);if(0===e.offset){var l=Ma(this.quill.getLine(t.index-1),1)[0];if(l&&!("block"===l.statics.blotName&&l.length()<=1)){var a=o.formats(),s=this.quill.getFormat(t.index-1,1);if(r=zn.AttributeMap.diff(a,s)||{},Object.keys(r).length>0){var c=(new zn).retain(t.index+o.length()-2).retain(1,r);i=i.compose(c)}}}this.quill.updateContents(i,_l.sources.USER),this.quill.focus()}}},{key:"handleDelete",value:function(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var r={},o=Ma(this.quill.getLine(t.index),1)[0],i=(new zn).retain(t.index).delete(n);if(e.offset>=o.length()-1){var l=Ma(this.quill.getLine(t.index+1),1)[0];if(l){var a=o.formats(),s=this.quill.getFormat(t.index,1);r=zn.AttributeMap.diff(a,s)||{},Object.keys(r).length>0&&(i=i.retain(l.length()-1).retain(1,r))}}this.quill.updateContents(i,_l.sources.USER),this.quill.focus()}}},{key:"handleDeleteRange",value:function(t){ts({range:t,quill:this.quill}),this.quill.focus()}},{key:"handleEnter",value:function(t,e){var n=this,r=Object.keys(e.format).reduce((function(t,r){return n.quill.scroll.query(r,fn.BLOCK)&&!Array.isArray(e.format[r])&&(t[r]=e.format[r]),t}),{}),o=(new zn).retain(t.index).delete(t.length).insert("\n",r);this.quill.updateContents(o,_l.sources.USER),this.quill.setSelection(t.index+1,_l.sources.SILENT),this.quill.focus()}}],r=[{key:"match",value:function(t,e){return!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!e[n]!==t[n]&&null!==e[n]}))&&(e.key===t.key||e.key===t.which)}}],n&&Fa(e.prototype,n),r&&Fa(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Wi),Za={bindings:{bold:Qa("bold"),italic:Qa("italic"),underline:Qa("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler:function(t,e){return!(!e.collapsed||0===e.offset)||(this.quill.format("indent","+1",_l.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){return!(!e.collapsed||0===e.offset)||(this.quill.format("indent","-1",_l.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",_l.sources.USER):null!=e.format.list&&this.quill.format("list",!1,_l.sources.USER)}},"indent code-block":Xa(!0),"outdent code-block":Xa(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,_l.sources.USER)}},tab:{key:"Tab",handler:function(t,e){if(e.format.table)return!0;this.quill.history.cutoff();var n=(new zn).retain(t.index).delete(t.length).insert("\t");return this.quill.updateContents(n,_l.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,_l.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler:function(){this.quill.format("blockquote",!1,_l.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler:function(t,e){var n={list:!1};e.format.indent&&(n.indent=!1),this.quill.formatLine(t.index,t.length,n,_l.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler:function(t){var e=Ma(this.quill.getLine(t.index),2),n=e[0],r=e[1],o=Ua(Ua({},n.formats()),{},{list:"checked"}),i=(new zn).retain(t.index).insert("\n",o).retain(n.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,_l.sources.USER),this.quill.setSelection(t.index+1,_l.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=Ma(this.quill.getLine(t.index),2),r=n[0],o=n[1],i=(new zn).retain(t.index).insert("\n",e.format).retain(r.length()-o-1).retain(1,{header:null});this.quill.updateContents(i,_l.sources.USER),this.quill.setSelection(t.index+1,_l.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler:function(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler:function(t){var e,n,r,o=this.quill.getModule("table");if(o){var i=Ma(o.getTable(t),4),l=i[0],a=(e=i[1],n=i[2],r=i[3],null==e.prev&&null==e.next?null==n.prev&&null==n.next?0===r?-1:1:null==n.prev?-1:1:null==e.prev?-1:null==e.next?1:null);if(null==a)return;var s=l.offset();if(a<0){var c=(new zn).retain(s).insert("\n");this.quill.updateContents(c,_l.sources.USER),this.quill.setSelection(t.index+1,t.length,_l.sources.SILENT)}else if(a>0){s+=l.length();var u=(new zn).retain(s).insert("\n");this.quill.updateContents(u,_l.sources.USER),this.quill.setSelection(s,_l.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler:function(t,e){var n=e.event,r=e.line,o=r.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(o-1,_l.sources.USER):this.quill.setSelection(o+r.length(),_l.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){if(null==this.quill.scroll.query("list"))return!0;var n,r=e.prefix.length,o=Ma(this.quill.getLine(t.index),2),i=o[0],l=o[1];if(l>r)return!0;switch(e.prefix.trim()){case"[]":case"[ ]":n="unchecked";break;case"[x]":n="checked";break;case"-":case"*":n="bullet";break;default:n="ordered"}this.quill.insertText(t.index," ",_l.sources.USER),this.quill.history.cutoff();var a=(new zn).retain(t.index-l).delete(r+1).retain(i.length()-2-l).retain(1,{list:n});return this.quill.updateContents(a,_l.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-r,_l.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler:function(t){for(var e=Ma(this.quill.getLine(t.index),2),n=e[0],r=e[1],o=2,i=n;null!=i&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,(o-=1)<=0){var l=(new zn).retain(t.index+n.length()-r-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(l,_l.sources.USER),this.quill.setSelection(t.index-1,_l.sources.SILENT),!1}return!0}},"embed left":Ya("ArrowLeft",!1),"embed left shift":Ya("ArrowLeft",!0),"embed right":Ya("ArrowRight",!1),"embed right shift":Ya("ArrowRight",!0),"table down":Ja(!1),"table up":Ja(!0)}};function Xa(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler:function(e,n){var r=n.event,o=this.quill.scroll.query("code-block").TAB;if(0===e.length&&!r.shiftKey)return this.quill.insertText(e.index,o,_l.sources.USER),void this.quill.setSelection(e.index+o.length,_l.sources.SILENT);var i=0===e.length?this.quill.getLines(e.index,1):this.quill.getLines(e),l=e.index,a=e.length;i.forEach((function(e,n){t?(e.insertAt(0,o),0===n?l+=o.length:a+=o.length):e.domNode.textContent.startsWith(o)&&(e.deleteAt(0,o.length),0===n?l-=o.length:a-=o.length)})),this.quill.update(_l.sources.USER),this.quill.setSelection(l,a,_l.sources.SILENT)}}}function Ya(t,e){return za(za({key:t,shiftKey:e,altKey:null},"ArrowLeft"===t?"prefix":"suffix",/^$/),"handler",(function(n){var r=n.index;return"ArrowRight"===t&&(r+=n.length+1),!(Ma(this.quill.getLeaf(r),1)[0]instanceof Cn&&("ArrowLeft"===t?e?this.quill.setSelection(n.index-1,n.length+1,_l.sources.USER):this.quill.setSelection(n.index-1,_l.sources.USER):e?this.quill.setSelection(n.index,n.length+1,_l.sources.USER):this.quill.setSelection(n.index+n.length+1,_l.sources.USER),1))}))}function Qa(t){return{key:t[0],shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],_l.sources.USER)}}}function Ja(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler:function(e,n){var r=t?"prev":"next",o=n.line,i=o.parent[r];if(null!=i){if("table-row"===i.statics.blotName){for(var l=i.children.head,a=o;null!=a.prev;)a=a.prev,l=l.next;var s=l.offset(this.quill.scroll)+Math.min(n.offset,l.length()-1);this.quill.setSelection(s,0,_l.sources.USER)}}else{var c=o.table()[r];null!=c&&(t?this.quill.setSelection(c.offset(this.quill.scroll)+c.length()-1,0,_l.sources.USER):this.quill.setSelection(c.offset(this.quill.scroll),0,_l.sources.USER))}return!1}}}function ts(t){var e=t.quill,n=t.range,r=e.getLines(n),o={};if(r.length>1){var i=r[0].formats(),l=r[r.length-1].formats();o=zn.AttributeMap.diff(l,i)||{}}e.deleteText(n,_l.sources.USER),Object.keys(o).length>0&&e.formatLine(n.index,1,o,_l.sources.USER),e.setSelection(n.index,_l.sources.SILENT)}function es(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Ga.DEFAULTS=Za;var ns=/font-weight:\s*normal/,rs=["P","OL","UL"],os=function(t){return t&&rs.includes(t.tagName)},is=/\bmso-list:[^;]*ignore/i,ls=/\bmso-list:[^;]*\bl(\d+)/i,as=/\bmso-list:[^;]*\blevel(\d+)/i,ss=[function(t){"urn:schemas-microsoft-com:office:word"===t.documentElement.getAttribute("xmlns:w")&&function(t){var e=Array.from(t.querySelectorAll("[style*=mso-list]")),n=[],r=[];e.forEach((function(t){(t.getAttribute("style")||"").match(is)?n.push(t):r.push(t)})),n.forEach((function(t){var e;return null===(e=t.parentNode)||void 0===e?void 0:e.removeChild(t)}));for(var o=t.documentElement.innerHTML,i=r.map((function(t){return function(t,e){var n=t.getAttribute("style"),r=null==n?void 0:n.match(ls);if(!r)return null;var o=Number(r[1]),i=null==n?void 0:n.match(as),l=i?Number(i[1]):1,a=new RegExp("@list l".concat(o,":level").concat(l,"\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)"),"i"),s=e.match(a);return{id:o,indent:l,type:s&&"bullet"===s[1]?"bullet":"ordered",element:t}}(t,o)})).filter((function(t){return t})),l=function(){for(var t,e=[],n=i.shift();n;){var r;e.push(n),n=i.length&&(null===(r=i[0])||void 0===r?void 0:r.element)===n.element.nextElementSibling&&i[0].id===n.id?i.shift():null}var o=document.createElement("ul");e.forEach((function(t){var e=document.createElement("li");e.setAttribute("data-list",t.type),t.indent>1&&e.setAttribute("class","ql-indent-".concat(t.indent-1)),e.innerHTML=t.element.innerHTML,o.appendChild(e)}));var l=null===(t=e[0])||void 0===t?void 0:t.element,a=(null!=l?l:{}).parentNode;l&&(null==a||a.replaceChild(o,l)),e.slice(1).forEach((function(t){var e=t.element;null==a||a.removeChild(e)}))};i.length;)l()}(t)},function(t){t.querySelector('[id^="docs-internal-guid-"]')&&(function(t){Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter((function(t){var e;return null===(e=t.getAttribute("style"))||void 0===e?void 0:e.match(ns)})).forEach((function(e){var n,r,o=t.createDocumentFragment();o.append.apply(o,function(t){if(Array.isArray(t))return es(t)}(r=e.childNodes)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,e){if(t){if("string"==typeof t)return es(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?es(t,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),null===(n=e.parentNode)||void 0===n||n.replaceChild(o,e)}))}(t),function(t){Array.from(t.querySelectorAll("br")).filter((function(t){return os(t.previousElementSibling)&&os(t.nextElementSibling)})).forEach((function(t){var e;null===(e=t.parentNode)||void 0===e||e.removeChild(t)}))}(t))}];function cs(t){return cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(t)}function us(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?us(Object(n),!0).forEach((function(e){ds(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):us(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ds(t,e,n){return(e=vs(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ps(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return hs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hs(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ys(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vs(r.key),r)}}function vs(t){var e=function(t,e){if("object"!==cs(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==cs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===cs(e)?e:String(e)}function bs(t,e){return bs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bs(t,e)}function ms(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gs(t){return gs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gs(t)}var ws=$o("quill:clipboard"),qs=[[Node.TEXT_NODE,function(t,e,n){var r,o=t.data;if("O:P"===(null===(r=t.parentElement)||void 0===r?void 0:r.tagName))return e.insert(o.trim());if(!As(t)){if(0===o.trim().length&&o.includes("\n")&&!function(t,e){return t.previousElementSibling&&t.nextElementSibling&&!Es(t.previousElementSibling,e)&&!Es(t.nextElementSibling,e)}(t,n))return e;var i=function(t,e){var n=e.replace(/[^\u00a0]/g,"");return n.length<1&&t?" ":n};o=(o=o.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,i.bind(i,!0)),(null==t.previousSibling&&null!=t.parentElement&&Es(t.parentElement,n)||t.previousSibling instanceof Element&&Es(t.previousSibling,n))&&(o=o.replace(/^\s+/,i.bind(i,!1))),(null==t.nextSibling&&null!=t.parentElement&&Es(t.parentElement,n)||t.nextSibling instanceof Element&&Es(t.nextSibling,n))&&(o=o.replace(/\s+$/,i.bind(i,!1)))}return e.insert(o)}],[Node.TEXT_NODE,Ts],["br",function(t,e){return js(e,"\n")||e.insert("\n"),e}],[Node.ELEMENT_NODE,Ts],[Node.ELEMENT_NODE,function(t,e,n){var r=n.query(t);if(null==r)return e;if(r.prototype instanceof Cn){var o={},i=r.value(t);if(null!=i)return o[r.blotName]=i,(new zn).insert(o,r.formats(t,n))}else if(r.prototype instanceof Tn&&!js(e,"\n")&&e.insert("\n"),"blotName"in r&&"formats"in r&&"function"==typeof r.formats)return Ss(e,r.blotName,r.formats(t,n),n);return e}],[Node.ELEMENT_NODE,function(t,e,n){var r=dn.keys(t),o=bn.keys(t),i=gn.keys(t),l={};return r.concat(o).concat(i).forEach((function(e){var r=n.query(e,fn.ATTRIBUTE);null!=r&&(l[r.attrName]=r.value(t),l[r.attrName])||(null==(r=ks[e])||r.attrName!==e&&r.keyName!==e||(l[r.attrName]=r.value(t)||void 0),null==(r=Os[e])||r.attrName!==e&&r.keyName!==e||(r=Os[e],l[r.attrName]=r.value(t)||void 0))})),Object.entries(l).reduce((function(t,e){var r=ps(e,2);return Ss(t,r[0],r[1],n)}),e)}],[Node.ELEMENT_NODE,function(t,e,n){var r,o={},i=t.style||{};return"italic"===i.fontStyle&&(o.italic=!0),"underline"===i.textDecoration&&(o.underline=!0),"line-through"===i.textDecoration&&(o.strike=!0),(null!==(r=i.fontWeight)&&void 0!==r&&r.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(o.bold=!0),e=Object.entries(o).reduce((function(t,e){var r=ps(e,2);return Ss(t,r[0],r[1],n)}),e),parseFloat(i.textIndent||0)>0?(new zn).insert("\t").concat(e):e}],["li",function(t,e,n){var r=n.query(t);if(null==r||"list"!==r.blotName||!js(e,"\n"))return e;for(var o=-1,i=t.parentNode;null!=i;)["OL","UL"].includes(i.tagName)&&(o+=1),i=i.parentNode;return o<=0?e:e.reduce((function(t,e){return e.attributes&&"number"==typeof e.attributes.indent?t.push(e):t.insert(e.insert,fs({indent:o},e.attributes||{}))}),new zn)}],["ol, ul",function(t,e,n){return Ss(e,"list","OL"===t.tagName?"ordered":"bullet",n)}],["pre",function(t,e,n){var r=n.query("code-block");return Ss(e,"code-block",!r||!("formats"in r)||"function"!=typeof r.formats||r.formats(t,n),n)}],["tr",function(t,e,n){var r,o,i="TABLE"===(null===(r=t.parentElement)||void 0===r?void 0:r.tagName)?t.parentElement:null===(o=t.parentElement)||void 0===o?void 0:o.parentElement;return null!=i?Ss(e,"table",Array.from(i.querySelectorAll("tr")).indexOf(t)+1,n):e}],["b",Ns("bold")],["i",Ns("italic")],["strike",Ns("strike")],["style",function(){return new zn}]],ks=[ta,Sa].reduce((function(t,e){return t[e.keyName]=e,t}),{}),Os=[ea,ua,ca,ja,La,Ca].reduce((function(t,e){return t[e.keyName]=e,t}),{}),xs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bs(t,e)}(l,t);var e,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=gs(r);if(o){var n=gs(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===cs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ms(t)}(this,t)});function l(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(n=i.call(this,t,e)).quill.root.addEventListener("copy",(function(t){return n.onCaptureCopy(t,!1)})),n.quill.root.addEventListener("cut",(function(t){return n.onCaptureCopy(t,!0)})),n.quill.root.addEventListener("paste",n.onCapturePaste.bind(ms(n))),n.matchers=[],qs.concat(n.options.matchers).forEach((function(t){var e=ps(t,2),r=e[0],o=e[1];n.addMatcher(r,o)})),n}return e=l,n=[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){var e=t.html,n=t.text,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r[ka.blotName])return(new zn).insert(n||"",ds({},ka.blotName,r[ka.blotName]));if(!e)return(new zn).insert(n||"",r);var o=this.convertHTML(e);return js(o,"\n")&&(null==o.ops[o.ops.length-1].attributes||r.table)?o.compose((new zn).retain(o.length()-1).delete(1)):o}},{key:"normalizeHTML",value:function(t){!function(t){t.documentElement&&ss.forEach((function(e){e(t)}))}(t)}},{key:"convertHTML",value:function(t){var e=(new DOMParser).parseFromString(t,"text/html");this.normalizeHTML(e);var n=e.body,r=new WeakMap,o=ps(this.prepareMatching(n,r),2),i=o[0],l=o[1];return Ps(this.quill.scroll,n,i,l,r)}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_l.sources.API;if("string"==typeof t){var r=this.convert({html:t,text:""});this.quill.setContents(r,e),this.quill.setSelection(0,_l.sources.SILENT)}else{var o=this.convert({html:e,text:""});this.quill.updateContents((new zn).retain(t).concat(o),n),this.quill.setSelection(t+o.length(),_l.sources.SILENT)}}},{key:"onCaptureCopy",value:function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t.defaultPrevented){t.preventDefault();var o=ps(this.quill.selection.getRange(),1)[0];if(null!=o){var i=this.onCopy(o,r),l=i.html,a=i.text;null===(e=t.clipboardData)||void 0===e||e.setData("text/plain",a),null===(n=t.clipboardData)||void 0===n||n.setData("text/html",l),r&&ts({range:o,quill:this.quill})}}}},{key:"onCapturePaste",value:function(t){var e,n,r;if(!t.defaultPrevented&&this.quill.isEnabled()){t.preventDefault();var o=this.quill.getSelection(!0);if(null!=o){var i=null===(e=t.clipboardData)||void 0===e?void 0:e.getData("text/html"),l=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/plain"),a=Array.from((null===(r=t.clipboardData)||void 0===r?void 0:r.files)||[]);if(!i&&a.length>0)this.quill.uploader.upload(o,a);else{if(i&&a.length>0){var s,c=(new DOMParser).parseFromString(i,"text/html");if(1===c.body.childElementCount&&"IMG"===(null===(s=c.body.firstElementChild)||void 0===s?void 0:s.tagName))return void this.quill.uploader.upload(o,a)}this.onPaste(o,{html:i,text:l})}}}}},{key:"onCopy",value:function(t){var e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}},{key:"onPaste",value:function(t,e){var n=e.text,r=e.html,o=this.quill.getFormat(t.index),i=this.convert({text:n,html:r},o);ws.log("onPaste",i,{text:n,html:r});var l=(new zn).retain(t.index).delete(t.length).concat(i);this.quill.updateContents(l,_l.sources.USER),this.quill.setSelection(l.length()-t.length,_l.sources.SILENT),this.quill.scrollSelectionIntoView()}},{key:"prepareMatching",value:function(t,e){var n=[],r=[];return this.matchers.forEach((function(o){var i=ps(o,2),l=i[0],a=i[1];switch(l){case Node.TEXT_NODE:r.push(a);break;case Node.ELEMENT_NODE:n.push(a);break;default:Array.from(t.querySelectorAll(l)).forEach((function(t){if(e.has(t)){var n=e.get(t);null==n||n.push(a)}else e.set(t,[a])}))}})),[n,r]}}],n&&ys(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(Wi);function Ss(t,e,n,r){return r.query(e)?t.reduce((function(t,r){if(r.attributes&&r.attributes[e])return t.push(r);var o=n?ds({},e,n):{};return t.insert(r.insert,fs(fs({},o),r.attributes))}),new zn):t}function js(t,e){for(var n="",r=t.ops.length-1;r>=0&&n.length<e.length;--r){var o=t.ops[r];if("string"!=typeof o.insert)break;n=o.insert+n}return n.slice(-1*e.length)===e}function Es(t,e){if(!(t instanceof Element))return!1;var n=e.query(t);return!(n&&n.prototype instanceof Cn)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}xs.DEFAULTS={matchers:[]};var _s=new WeakMap;function As(t){return null!=t&&(_s.has(t)||("PRE"===t.tagName?_s.set(t,!0):_s.set(t,As(t.parentNode))),_s.get(t))}function Ps(t,e,n,r,o){return e.nodeType===e.TEXT_NODE?r.reduce((function(n,r){return r(e,n,t)}),new zn):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((function(i,l){var a=Ps(t,l,n,r,o);return l.nodeType===e.ELEMENT_NODE&&(a=n.reduce((function(e,n){return n(l,e,t)}),a),a=(o.get(l)||[]).reduce((function(e,n){return n(l,e,t)}),a)),i.concat(a)}),new zn):new zn}function Ns(t){return function(e,n,r){return Ss(n,t,!0,r)}}function Ts(t,e,n){if(!js(e,"\n")){if(Es(t,n)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert("\n");if(e.length()>0&&t.nextSibling)for(var r=t.nextSibling;null!=r;){if(Es(r,n))return e.insert("\n");var o=n.query(r);if(o&&o.prototype instanceof Po)return e.insert("\n");r=r.firstChild}}return e}function Rs(t){return Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(t)}function Ls(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bs(r.key),r)}}function Cs(t,e){return Cs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Cs(t,e)}function Is(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ms(t){return Ms=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ms(t)}function Ds(t,e,n){return(e=Bs(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bs(t){var e=function(t,e){if("object"!==Rs(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Rs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Rs(e)?e:String(e)}var Us=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cs(t,e)}(l,t);var e,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ms(r);if(o){var n=Ms(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Rs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Is(t)}(this,t)});function l(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),Ds(Is(n=i.call(this,t,e)),"lastRecorded",0),Ds(Is(n),"ignoreChange",!1),Ds(Is(n),"stack",{undo:[],redo:[]}),Ds(Is(n),"currentRange",null),n.quill.on(_l.events.EDITOR_CHANGE,(function(t,e,r,o){t===_l.events.SELECTION_CHANGE?e&&o!==_l.sources.SILENT&&(n.currentRange=e):t===_l.events.TEXT_CHANGE&&(n.ignoreChange||(n.options.userOnly&&o!==_l.sources.USER?n.transform(e):n.record(e,r)),n.currentRange=Fs(n.currentRange,e))})),n.quill.keyboard.addBinding({key:"z",shortKey:!0},n.undo.bind(Is(n))),n.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},n.redo.bind(Is(n))),/Win/i.test(navigator.platform)&&n.quill.keyboard.addBinding({key:"y",shortKey:!0},n.redo.bind(Is(n))),n.quill.root.addEventListener("beforeinput",(function(t){"historyUndo"===t.inputType?(n.undo(),t.preventDefault()):"historyRedo"===t.inputType&&(n.redo(),t.preventDefault())})),n}return e=l,(n=[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();if(n){var r=this.quill.getContents(),o=n.delta.invert(r);this.stack[e].push({delta:o,range:Fs(n.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n.delta,_l.sources.USER),this.ignoreChange=!1,this.restoreSelection(n)}}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=t.invert(e),r=this.currentRange,o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){var i=this.stack.undo.pop();i&&(n=n.compose(i.delta),r=i.range)}else this.lastRecorded=o;0!==n.length()&&(this.stack.undo.push({delta:n,range:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){zs(this.stack.undo,t),zs(this.stack.redo,t)}},{key:"undo",value:function(){this.change("undo","redo")}},{key:"restoreSelection",value:function(t){if(t.range)this.quill.setSelection(t.range,_l.sources.USER);else{var e=(n=this.quill.scroll,o=(r=t.delta).reduce((function(t,e){return t+(e.delete||0)}),0),i=r.length()-o,function(t,e){var n=e.ops[e.ops.length-1];return null!=n&&(null!=n.insert?"string"==typeof n.insert&&n.insert.endsWith("\n"):null!=n.attributes&&Object.keys(n.attributes).some((function(e){return null!=t.query(e,fn.BLOCK)})))}(n,r)&&(i-=1),i);this.quill.setSelection(e,_l.sources.USER)}var n,r,o,i}}])&&Ls(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(Wi);function zs(t,e){for(var n=e,r=t.length-1;r>=0;r-=1){var o=t[r];t[r]={delta:n.transform(o.delta,!0),range:o.range&&Fs(o.range,n)},n=o.delta.transform(n),0===t[r].delta.length()&&t.splice(r,1)}}function Fs(t,e){if(!t)return t;var n=e.transformPosition(t.index);return{index:n,length:e.transformPosition(t.index+t.length)-n}}function Hs(t){return Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(t)}function Ws(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vs(r.key),r)}}function Vs(t){var e=function(t,e){if("object"!==Hs(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Hs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Hs(e)?e:String(e)}function Ks(t,e){return Ks=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ks(t,e)}function $s(t){return $s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$s(t)}Us.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};var Gs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ks(t,e)}(l,t);var e,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$s(r);if(o){var n=$s(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Hs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),n=i.call(this,t,e),t.root.addEventListener("drop",(function(e){e.preventDefault();var r=null;if(document.caretRangeFromPoint)r=document.caretRangeFromPoint(e.clientX,e.clientY);else if(document.caretPositionFromPoint){var o=document.caretPositionFromPoint(e.clientX,e.clientY);(r=document.createRange()).setStart(o.offsetNode,o.offset),r.setEnd(o.offsetNode,o.offset)}var i=r&&t.selection.normalizeNative(r);if(i){var l,a=t.selection.normalizedToRange(i);null!==(l=e.dataTransfer)&&void 0!==l&&l.files&&n.upload(a,e.dataTransfer.files)}})),n}return e=l,(n=[{key:"upload",value:function(t,e){var n=this,r=[];Array.from(e).forEach((function(t){var e;t&&null!==(e=n.options.mimetypes)&&void 0!==e&&e.includes(t.type)&&r.push(t)})),r.length>0&&this.options.handler.call(this,t,r)}}])&&Ws(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(Wi);Gs.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler:function(t,e){var n=this,r=e.map((function(t){return new Promise((function(e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsDataURL(t)}))}));Promise.all(r).then((function(e){var r=e.reduce((function(t,e){return t.insert({image:e})}),(new zn).retain(t.index).delete(t.length));n.quill.updateContents(r,ri.sources.USER),n.quill.setSelection(t.index+e.length,ri.sources.SILENT)}))}};const Zs=Gs;function Xs(t){return Xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(t)}function Ys(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qs(r.key),r)}}function Qs(t){var e=function(t,e){if("object"!==Xs(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Xs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Xs(e)?e:String(e)}function Js(t,e){return Js=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Js(t,e)}function tc(t){return tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tc(t)}var ec=["insertText","insertReplacementText"],nc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Js(t,e)}(l,t);var e,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=tc(r);if(o){var n=tc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Xs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),n=i.call(this,t,e),t.root.addEventListener("beforeinput",(function(t){n.handleBeforeInput(t)})),/Android/i.test(navigator.userAgent)||t.on(_l.events.COMPOSITION_BEFORE_START,(function(){n.handleCompositionStart()})),n}return e=l,n=[{key:"deleteRange",value:function(t){ts({range:t,quill:this.quill})}},{key:"replaceText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===t.length)return!1;if(e){var n=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents((new zn).retain(t.index).insert(e,n),_l.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,_l.sources.SILENT),!0}},{key:"handleBeforeInput",value:function(t){if(!this.quill.composition.isComposing&&!t.defaultPrevented&&ec.includes(t.inputType)){var e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(e&&!0!==e.collapsed){var n=function(t){var e;return"string"==typeof t.data?t.data:null!==(e=t.dataTransfer)&&void 0!==e&&e.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}(t);if(null!=n){var r=this.quill.selection.normalizeNative(e),o=r?this.quill.selection.normalizedToRange(r):null;o&&this.replaceText(o,n)&&t.preventDefault()}}}}},{key:"handleCompositionStart",value:function(){var t=this.quill.getSelection();t&&this.replaceText(t)}}],n&&Ys(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(Wi);const rc=nc;function oc(t){return oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(t)}function ic(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uc(r.key),r)}}function lc(t,e){return lc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lc(t,e)}function ac(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sc(t){return sc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sc(t)}function cc(t,e,n){return(e=uc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uc(t){var e=function(t,e){if("object"!==oc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==oc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===oc(e)?e:String(e)}var fc=/Mac/i.test(navigator.platform),dc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lc(t,e)}(l,t);var e,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=sc(r);if(o){var n=sc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===oc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ac(t)}(this,t)});function l(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),cc(ac(n=i.call(this,t,e)),"isListening",!1),cc(ac(n),"selectionChangeDeadline",0),n.handleArrowKeys(),n.handleNavigationShortcuts(),n}return e=l,(n=[{key:"handleArrowKeys",value:function(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler:function(t,e){var n=e.line,r=e.event;if(!(n instanceof _n&&n.uiNode))return!0;var o="rtl"===getComputedStyle(n.domNode).direction;return!!(o&&"ArrowRight"!==r.key||!o&&"ArrowLeft"!==r.key)||(this.quill.setSelection(t.index-1,t.length+(r.shiftKey?1:0),_l.sources.USER),!1)}})}},{key:"handleNavigationShortcuts",value:function(){var t=this;this.quill.root.addEventListener("keydown",(function(e){!e.defaultPrevented&&function(t){return"ArrowLeft"===t.key||"ArrowRight"===t.key||"ArrowUp"===t.key||"ArrowDown"===t.key||"Home"===t.key||!(!fc||"a"!==t.key||!0!==t.ctrlKey)}(e)&&t.ensureListeningToSelectionChange()}))}},{key:"ensureListeningToSelectionChange",value:function(){var t=this;this.selectionChangeDeadline=Date.now()+100,this.isListening||(this.isListening=!0,document.addEventListener("selectionchange",(function(){t.isListening=!1,Date.now()<=t.selectionChangeDeadline&&t.handleSelectionChange()}),{once:!0}))}},{key:"handleSelectionChange",value:function(){var t=document.getSelection();if(t){var e=t.getRangeAt(0);if(!0===e.collapsed&&0===e.startOffset){var n=this.quill.scroll.find(e.startContainer);if(n instanceof _n&&n.uiNode){var r=document.createRange();r.setStartAfter(n.uiNode),r.setEndAfter(n.uiNode),t.removeAllRanges(),t.addRange(r)}}}}}])&&ic(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(Wi);const pc=dc;_l.register({"blots/block":Ao,"blots/block/embed":Po,"blots/break":Jr,"blots/container":Dl,"blots/cursor":Uo,"blots/embed":Qi,"blots/inline":ho,"blots/scroll":Ql,"blots/text":ro,"modules/clipboard":xs,"modules/history":Us,"modules/keyboard":Ga,"modules/uploader":Zs,"modules/input":rc,"modules/uiNode":pc});const hc=_l;function yc(t){return yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(t)}function vc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return bc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bc(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gc(r.key),r)}}function gc(t){var e=function(t,e){if("object"!==yc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==yc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===yc(e)?e:String(e)}function wc(t,e){return wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wc(t,e)}function qc(t,e){if(e&&("object"===yc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function kc(t){return kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kc(t)}var Oc=$o("quill:toolbar"),xc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wc(t,e)}(l,t);var e,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=kc(r);if(o){var n=kc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return qc(this,t)});function l(t,e){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),n=i.call(this,t,e),Array.isArray(n.options.container)){var r,o=document.createElement("div");o.setAttribute("role","toolbar"),function(t,e){Array.isArray(e[0])||(e=[e]),e.forEach((function(e){var n=document.createElement("span");n.classList.add("ql-formats"),e.forEach((function(t){if("string"==typeof t)Sc(n,t);else{var e=Object.keys(t)[0],r=t[e];Array.isArray(r)?function(t,e,n){var r=document.createElement("select");r.classList.add("ql-".concat(e)),n.forEach((function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",String(t)):e.setAttribute("selected","selected"),r.appendChild(e)})),t.appendChild(r)}(n,e,r):Sc(n,e,r)}})),t.appendChild(n)}))}(o,n.options.container),null===(r=t.container)||void 0===r||null===(r=r.parentNode)||void 0===r||r.insertBefore(o,t.container),n.container=o}else"string"==typeof n.options.container?n.container=document.querySelector(n.options.container):n.container=n.options.container;return n.container instanceof HTMLElement?(n.container.classList.add("ql-toolbar"),n.controls=[],n.handlers={},n.options.handlers&&Object.keys(n.options.handlers).forEach((function(t){var e,r=null===(e=n.options.handlers)||void 0===e?void 0:e[t];r&&n.addHandler(t,r)})),Array.from(n.container.querySelectorAll("button, select")).forEach((function(t){n.attach(t)})),n.quill.on(_l.events.EDITOR_CHANGE,(function(){var t=vc(n.quill.selection.getRange(),1)[0];n.update(t)})),n):(Oc.error("Container required for toolbar",n.options),qc(n))}return e=l,n=[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,n=Array.from(t.classList).find((function(t){return 0===t.indexOf("ql-")}));if(n)if(n=n.slice(3),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null!=this.handlers[n]||null!=this.quill.scroll.query(n)){var r="SELECT"===t.tagName?"change":"click";t.addEventListener(r,(function(r){var o;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var i=t.options[t.selectedIndex];o=!i.hasAttribute("selected")&&(i.value||!1)}else o=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),r.preventDefault();e.quill.focus();var l=vc(e.quill.selection.getRange(),1)[0];if(null!=e.handlers[n])e.handlers[n].call(e,o);else if(e.quill.scroll.query(n).prototype instanceof Cn){if(!(o=prompt("Enter ".concat(n))))return;e.quill.updateContents((new zn).retain(l.index).delete(l.length).insert(function(t,e,n){return(e=gc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,o)),_l.sources.USER)}else e.quill.format(n,o,_l.sources.USER);e.update(l)})),this.controls.push([n,t])}else Oc.warn("ignoring attaching to nonexistent format",n,t)}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach((function(n){var r=vc(n,2),o=r[0],i=r[1];if("SELECT"===i.tagName){var l=null;if(null==t)l=null;else if(null==e[o])l=i.querySelector("option[selected]");else if(!Array.isArray(e[o])){var a=e[o];"string"==typeof a&&(a=a.replace(/"/g,'\\"')),l=i.querySelector('option[value="'.concat(a,'"]'))}null==l?(i.value="",i.selectedIndex=-1):l.selected=!0}else if(null==t)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){var s=e[o],c=s===i.getAttribute("value")||null!=s&&s.toString()===i.getAttribute("value")||null==s&&!i.getAttribute("value");i.classList.toggle("ql-active",c),i.setAttribute("aria-pressed",c.toString())}else{var u=null!=e[o];i.classList.toggle("ql-active",u),i.setAttribute("aria-pressed",u.toString())}}))}}],n&&mc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(Wi);function Sc(t,e,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-".concat(e)),r.setAttribute("aria-pressed","false"),null!=n?(r.value=n,r.setAttribute("aria-label","".concat(e,": ").concat(n))):r.setAttribute("aria-label",e),t.appendChild(r)}function jc(t){return jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(t)}function Ec(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_c(r.key),r)}}function _c(t){var e=function(t,e){if("object"!==jc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==jc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===jc(e)?e:String(e)}xc.DEFAULTS={},xc.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0===e.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(e){null!=t.quill.scroll.query(e,fn.INLINE)&&t.quill.format(e,!1,_l.sources.USER)}))}else this.quill.removeFormat(e,_l.sources.USER)},direction:function(t){var e=this.quill.getFormat().align;"rtl"===t&&null==e?this.quill.format("align","right",_l.sources.USER):t||"right"!==e||this.quill.format("align",!1,_l.sources.USER),this.quill.format("direction",t,_l.sources.USER)},indent:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),r=parseInt(n.indent||0,10);if("+1"===t||"-1"===t){var o="+1"===t?1:-1;"rtl"===n.direction&&(o*=-1),this.quill.format("indent",r+o,_l.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,_l.sources.USER)},list:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e);"check"===t?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,_l.sources.USER):this.quill.format("list","unchecked",_l.sources.USER):this.quill.format("list",t,_l.sources.USER)}}};var Ac=0;function Pc(t,e){t.setAttribute(e,"".concat(!("true"===t.getAttribute(e))))}var Nc=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(t){switch(t.key){case"Enter":n.togglePicker();break;case"Escape":n.escape(),t.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}var e,n;return e=t,n=[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),Pc(this.label,"aria-expanded"),Pc(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var e=this,n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");var r=t.getAttribute("value");return r&&n.setAttribute("data-value",r),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",(function(){e.selectItem(n,!0)})),n.addEventListener("keydown",(function(t){switch(t.key){case"Enter":e.selectItem(n,!0),t.preventDefault();break;case"Escape":e.escape(),t.preventDefault()}})),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id="ql-picker-options-".concat(Ac),Ac+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach((function(n){var r=t.buildItem(n);e.appendChild(r),!0===n.selected&&t.selectItem(r)})),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;Array.from(this.select.attributes).forEach((function(e){t.container.setAttribute(e.name,e.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout((function(){return t.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}},{key:"update",value:function(){var t;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}],n&&Ec(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const Tc=Nc;function Rc(t){return Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(t)}function Lc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cc(r.key),r)}}function Cc(t){var e=function(t,e){if("object"!==Rc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Rc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Rc(e)?e:String(e)}function Ic(){return Ic="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Dc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Ic.apply(this,arguments)}function Mc(t,e){return Mc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mc(t,e)}function Dc(t){return Dc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dc(t)}var Bc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mc(t,e)}(l,t);var e,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Dc(r);if(o){var n=Dc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Rc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(n=i.call(this,t)).label.innerHTML=e,n.container.classList.add("ql-color-picker"),Array.from(n.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach((function(t){t.classList.add("ql-primary")})),n}return e=l,n=[{key:"buildItem",value:function(t){var e=Ic(Dc(l.prototype),"buildItem",this).call(this,t);return e.style.backgroundColor=t.getAttribute("value")||"",e}},{key:"selectItem",value:function(t,e){Ic(Dc(l.prototype),"selectItem",this).call(this,t,e);var n=this.label.querySelector(".ql-color-label"),r=t&&t.getAttribute("data-value")||"";n&&("line"===n.tagName?n.style.stroke=r:n.style.fill=r)}}],n&&Lc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(Tc);const Uc=Bc;function zc(t){return zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(t)}function Fc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hc(r.key),r)}}function Hc(t){var e=function(t,e){if("object"!==zc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==zc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===zc(e)?e:String(e)}function Wc(){return Wc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Kc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Wc.apply(this,arguments)}function Vc(t,e){return Vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vc(t,e)}function Kc(t){return Kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kc(t)}var $c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vc(t,e)}(l,t);var e,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Kc(r);if(o){var n=Kc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===zc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(n=i.call(this,t)).container.classList.add("ql-icon-picker"),Array.from(n.container.querySelectorAll(".ql-picker-item")).forEach((function(t){t.innerHTML=e[t.getAttribute("data-value")||""]})),n.defaultItem=n.container.querySelector(".ql-selected"),n.selectItem(n.defaultItem),n}return e=l,(n=[{key:"selectItem",value:function(t,e){Wc(Kc(l.prototype),"selectItem",this).call(this,t,e);var n=t||this.defaultItem;if(null!=n){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}])&&Fc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(Tc);const Gc=$c;function Zc(t){return Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(t)}function Xc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yc(r.key),r)}}function Yc(t){var e=function(t,e){if("object"!==Zc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Zc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Zc(e)?e:String(e)}const Qc=function(){function t(e,n){var r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,r=this.quill.root,"visible"!==(o=getComputedStyle(r,null).overflowY)&&"clip"!==o&&this.quill.root.addEventListener("scroll",(function(){i.root.style.marginTop="".concat(-1*i.quill.root.scrollTop,"px")})),this.hide()}var e,n;return e=t,(n=[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left="".concat(e,"px"),this.root.style.top="".concat(n,"px"),this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),i=0;if(o.right>r.right&&(i=r.right-o.right,this.root.style.left="".concat(e+i,"px")),o.left<r.left&&(i=r.left-o.left,this.root.style.left="".concat(e+i,"px")),o.bottom>r.bottom){var l=o.bottom-o.top,a=t.bottom-t.top+l;this.root.style.top="".concat(n-a,"px"),this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}])&&Xc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Jc(t){return Jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(t)}function tu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ru(r.key),r)}}function nu(t,e,n){return e&&eu(t.prototype,e),n&&eu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ru(t){var e=function(t,e){if("object"!==Jc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Jc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Jc(e)?e:String(e)}function ou(){return ou="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=su(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ou.apply(this,arguments)}function iu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lu(t,e)}function lu(t,e){return lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lu(t,e)}function au(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=su(t);if(e){var o=su(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Jc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function su(t){return su=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},su(t)}var cu=[!1,"center","right","justify"],uu=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],fu=[!1,"serif","monospace"],du=["1","2","3",!1],pu=["small",!1,"large","huge"],hu=function(t){iu(n,t);var e=au(n);function n(t,r){var o;return tu(this,n),o=e.call(this,t,r),t.emitter.listenDOM("click",document.body,(function e(n){document.body.contains(t.root)?(null==o.tooltip||o.tooltip.root.contains(n.target)||document.activeElement===o.tooltip.textbox||o.quill.hasFocus()||o.tooltip.hide(),null!=o.pickers&&o.pickers.forEach((function(t){t.container.contains(n.target)||t.close()}))):document.body.removeEventListener("click",e)})),o}return nu(n,[{key:"addModule",value:function(t){var e=ou(su(n.prototype),"addModule",this).call(this,t);return"toolbar"===t&&this.extendToolbar(e),e}},{key:"buildButtons",value:function(t,e){Array.from(t).forEach((function(t){(t.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice(3),null!=e[n]))if("direction"===n)t.innerHTML=e[n][""]+e[n].rtl;else if("string"==typeof e[n])t.innerHTML=e[n];else{var r=t.value||"";null!=r&&e[n][r]&&(t.innerHTML=e[n][r])}}))}))}},{key:"buildPickers",value:function(t,e){var n=this;this.pickers=Array.from(t).map((function(t){if(t.classList.contains("ql-align")&&(null==t.querySelector("option")&&vu(t,cu),"object"===Jc(e.align)))return new Gc(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var n=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&vu(t,uu,"background"===n?"#ffffff":"#000000"),new Uc(t,e[n])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?vu(t,fu):t.classList.contains("ql-header")?vu(t,du):t.classList.contains("ql-size")&&vu(t,pu)),new Tc(t)})),this.quill.on(ri.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(t){t.update()}))}))}}]),n}(ul);hu.DEFAULTS=We({},ul.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&((e=document.createElement("input")).setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",(function(){var n=t.quill.getSelection(!0);t.quill.uploader.upload(n,e.files),e.value=""})),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var yu=function(t){iu(n,t);var e=au(n);function n(t,r){var o;return tu(this,n),(o=e.call(this,t,r)).textbox=o.root.querySelector('input[type="text"]'),o.listen(),o}return nu(n,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",(function(e){"Enter"===e.key?(t.save(),e.preventDefault()):"Escape"===e.key&&(t.cancel(),e.preventDefault())}))}},{key:"cancel",value:function(){this.hide(),this.restoreFocus()}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=this.textbox){null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");var n=this.quill.getBounds(this.quill.selection.savedRange);null!=n&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-".concat(t))||""),this.root.setAttribute("data-mode",t)}}},{key:"restoreFocus",value:function(){this.quill.focus({preventScroll:!0})}},{key:"save",value:function(){var t,e,n=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var r=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,ri.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,ri.sources.USER)),this.quill.root.scrollTop=r;break;case"video":n=(e=(t=n).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?"".concat(e[1]||"https","://www.youtube.com/embed/").concat(e[2],"?showinfo=0"):(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?"".concat(e[1]||"https","://player.vimeo.com/video/").concat(e[2],"/"):t;case"formula":if(!n)break;var o=this.quill.getSelection(!0);if(null!=o){var i=o.index+o.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),n,ri.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",ri.sources.USER),this.quill.setSelection(i+2,ri.sources.USER)}}this.textbox.value="",this.hide()}}]),n}(Qc);function vu(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){var r=document.createElement("option");e===n?r.setAttribute("selected","selected"):r.setAttribute("value",String(e)),t.appendChild(r)}))}function bu(t){return bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(t)}function mu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ou(r.key),r)}}function gu(){return gu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},gu.apply(this,arguments)}function wu(t,e){return wu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wu(t,e)}function qu(t){return qu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qu(t)}function ku(t,e,n){return(e=Ou(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ou(t){var e=function(t,e){if("object"!==bu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==bu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===bu(e)?e:String(e)}var xu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wu(t,e)}(a,t);var e,n,r,o,i,l=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qu(o);if(i){var n=qu(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===bu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),l.apply(this,arguments)}return e=a,n=[{key:"format",value:function(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("href",this.constructor.sanitize(e)):gu(qu(a.prototype),"format",this).call(this,t,e)}}],r=[{key:"create",value:function(t){var e=gu(qu(a),"create",this).call(this,t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return function(t,e){var n=document.createElement("a");n.href=t;var r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}],n&&mu(e.prototype,n),r&&mu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ho);ku(xu,"blotName","link"),ku(xu,"tagName","A"),ku(xu,"SANITIZED_URL","about:blank"),ku(xu,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);var Su='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>';const ju={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:Su,"code-block":Su,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};function Eu(t){return Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(t)}function _u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Au(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bu(r.key),r)}}function Nu(t,e,n){return e&&Pu(t.prototype,e),n&&Pu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tu(){return Tu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Tu.apply(this,arguments)}function Ru(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lu(t,e)}function Lu(t,e){return Lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lu(t,e)}function Cu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Mu(t);if(e){var o=Mu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Eu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Iu(t)}(this,n)}}function Iu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mu(t){return Mu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mu(t)}function Du(t,e,n){return(e=Bu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bu(t){var e=function(t,e){if("object"!==Eu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Eu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Eu(e)?e:String(e)}var Uu=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],zu=function(t){Ru(n,t);var e=Cu(n);function n(){var t;Au(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Du(Iu(t=e.call.apply(e,[this].concat(o))),"preview",t.root.querySelector("a.ql-preview")),t}return Nu(n,[{key:"listen",value:function(){var t=this;Tu(Mu(n.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(e){if(null!=t.linkRange){var n=t.linkRange;t.restoreFocus(),t.quill.formatText(n,"link",!1,ri.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()})),this.quill.on(ri.events.SELECTION_CHANGE,(function(e,n,r){if(null!=e){if(0===e.length&&r===ri.sources.USER){var o=(c=t.quill.scroll.descendant(xu,e.index),u=2,function(t){if(Array.isArray(t))return t}(c)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(c,u)||function(t,e){if(t){if("string"==typeof t)return _u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_u(t,e):void 0}}(c,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],l=o[1];if(null!=i){t.linkRange=new pi(e.index-l,i.length());var a=xu.formats(i.domNode);t.preview.textContent=a,t.preview.setAttribute("href",a),t.show();var s=t.quill.getBounds(t.linkRange);return void(null!=s&&t.position(s))}}else delete t.linkRange;t.hide()}var c,u}))}},{key:"show",value:function(){Tu(Mu(n.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),n}(yu);Du(zu,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));var Fu=function(t){Ru(n,t);var e=Cu(n);function n(t,r){var o;return Au(this,n),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=Uu),(o=e.call(this,t,r)).quill.container.classList.add("ql-snow"),o}return Nu(n,[{key:"extendToolbar",value:function(t){null!=t.container&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),ju),this.buildPickers(t.container.querySelectorAll("select"),ju),this.tooltip=new zu(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(function(e,n){t.handlers.link.call(t,!n.format.link)})))}}]),n}(hu);Fu.DEFAULTS=We({},hu.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0===e.length)return;var n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:".concat(n)),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});const Hu=Fu;function Wu(t){return Wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(t)}function Vu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xu(r.key),r)}}function Ku(){return Ku="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Ku.apply(this,arguments)}function $u(t,e){return $u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$u(t,e)}function Gu(t){return Gu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gu(t)}function Zu(t,e,n){return(e=Xu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xu(t){var e=function(t,e){if("object"!==Wu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Wu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Wu(e)?e:String(e)}var Yu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$u(t,e)}(a,t);var e,n,r,o,i,l=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gu(o);if(i){var n=Gu(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Wu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),l.apply(this,arguments)}return e=a,r=[{key:"create",value:function(){return Ku(Gu(a),"create",this).call(this)}},{key:"formats",value:function(){return!0}}],(n=[{key:"optimize",value:function(t){Ku(Gu(a.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}])&&Vu(e.prototype,n),r&&Vu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ho);Zu(Yu,"blotName","bold"),Zu(Yu,"tagName",["STRONG","B"]);const Qu=Yu;function Ju(t){return Ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(t)}function tf(t,e){return tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tf(t,e)}function ef(t){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ef(t)}function nf(t,e,n){return(e=rf(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rf(t){var e=function(t,e){if("object"!==Ju(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ju(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ju(e)?e:String(e)}var of=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tf(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ef(n);if(r){var o=ef(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ju(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Qu);nf(of,"blotName","italic"),nf(of,"tagName",["EM","I"]);const lf=of;function af(t){return af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(t)}function sf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,df(r.key),r)}}function cf(t,e){return cf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cf(t,e)}function uf(t){return uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uf(t)}function ff(t,e,n){return(e=df(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function df(t){var e=function(t,e){if("object"!==af(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==af(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===af(e)?e:String(e)}var pf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cf(t,e)}(l,t);var e,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=uf(r);if(o){var n=uf(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===af(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),i.apply(this,arguments)}return e=l,n=[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}],null&&sf(e.prototype,null),n&&sf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(Ao);ff(pf,"blotName","header"),ff(pf,"tagName",["H1","H2","H3","H4","H5","H6"]);const hf=pf;function yf(t){return yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(t)}function vf(){return vf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xf(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},vf.apply(this,arguments)}function bf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gf(r.key),r)}}function mf(t,e,n){return e&&bf(t.prototype,e),n&&bf(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gf(t){var e=function(t,e){if("object"!==yf(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==yf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===yf(e)?e:String(e)}function wf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qf(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kf(t,e)}function kf(t,e){return kf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kf(t,e)}function Of(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xf(t);if(e){var o=xf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===yf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function xf(t){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xf(t)}var Sf=function(t){qf(n,t);var e=Of(n);function n(){return wf(this,n),e.apply(this,arguments)}return mf(n)}(Dl);Sf.blotName="list-container",Sf.tagName="OL";var jf=function(t){qf(n,t);var e=Of(n);function n(t,r){var o;wf(this,n),o=e.call(this,t,r);var i=r.ownerDocument.createElement("span"),l=function(e){if(t.isEnabled()){var n=o.statics.formats(r,t);"checked"===n?(o.format("list","unchecked"),e.preventDefault()):"unchecked"===n&&(o.format("list","checked"),e.preventDefault())}};return i.addEventListener("mousedown",l),i.addEventListener("touchstart",l),o.attachUI(i),o}return mf(n,[{key:"format",value:function(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):vf(xf(n.prototype),"format",this).call(this,t,e)}}],[{key:"create",value:function(t){var e=vf(xf(n),"create",this).call(this);return e.setAttribute("data-list",t),e}},{key:"formats",value:function(t){return t.getAttribute("data-list")||void 0}},{key:"register",value:function(){_l.register(Sf)}}]),n}(Ao);jf.blotName="list",jf.tagName="LI",Sf.allowedChildren=[jf],jf.requiredContainer=Sf,hc.register({"modules/toolbar":xc,"themes/snow":Hu,"formats/bold":Qu,"formats/italic":lf,"formats/header":hf,"formats/list":jf});var Ef,_f,Af,Pf,Nf,Tf,Rf,Lf,Cf,If,Mf;Ef=n(197).A,document.body.insertAdjacentHTML("afterbegin",Ef),document.querySelector("#pdf_btn").addEventListener("click",(function(){window.print()})),document.querySelector("#save_btn").addEventListener("click",(function(){document.querySelectorAll("section").forEach((function(t){t.classList.add("open")})),document.querySelectorAll("input[type='checkbox']").forEach((function(t){t.checked&&t.setAttribute("checked","true")}));var t=document.documentElement.innerHTML,e=new Blob([t],{type:"text/html"}),n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download="page.html",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)})),_f=n(539).A,document.querySelector("header").insertAdjacentHTML("afterend",_f),Pf=document.querySelector("header"),Nf=document.querySelector("section#instructions"),Tf=n(874).A,Nf?(null===(Af=Nf.parentNode)||void 0===Af||Af.removeChild(Nf),Pf.insertAdjacentHTML("afterend",Nf.outerHTML)):Pf.insertAdjacentHTML("afterend",Tf),document.querySelectorAll(".kap-table").forEach((function(t,e){t.querySelectorAll("tbody tr:not(.subhead)").forEach((function(t,r){t.classList.contains("subhead")||(t.id="table-".concat(e,"-row-").concat(r),t.querySelectorAll("td").forEach((function(t,o){var i,l;if(!(o<1))if(1===o){var a=document.createElement("div");a.contentEditable="true",a.classList.add("comments"),t.innerHTML="",t.appendChild(a)}else{"*"===t.textContent.trim()&&t.classList.add("target");var s=(i="table-".concat(e,"-row-").concat(r),l=o.toString(),n(155).A.replace(/{{table-row}}/g,i).replace(/{{val}}/g,l));t.innerHTML=s}})))}))})),document.querySelectorAll("input[type=checkbox]").forEach((function(t){t.addEventListener("click",(function(){var e=document.querySelectorAll('input[name="'.concat(t.name,'"]'));console.log(t.name,t.value),e.forEach((function(e){e!==t&&(e.checked=!1)}))}))})),Rf=n(15).A,document.querySelectorAll(".kap").forEach((function(t){t.insertAdjacentHTML("beforeend",Rf)})),Lf=n(787).A,document.querySelector(".kap:last-of-type").insertAdjacentHTML("afterend",Lf),Mf=n(904).A,document.querySelector("section:last-of-type").insertAdjacentHTML("afterend",Mf),Cf=document.querySelector("canvas#f-fac-signature"),If=new j(Cf,{minWidth:.3,maxWidth:1.5,penColor:"rgb(66, 133, 244)"}),document.querySelector("button#f-fac-clear").addEventListener("click",(function(){If.clear()})),function(){var t=document.querySelectorAll(".editor");if(null===t)throw new Error("No .editor element found in the parent element");t.forEach((function(t){new hc(t,{theme:"snow",modules:{toolbar:[["bold","italic"],[{header:"1"},{header:"2"}],[{list:"ordered"},{list:"bullet"}],["clean"]]}})}))}(),document.querySelectorAll("section>h1").forEach((function(t){var e=t.parentElement,n=t.offsetHeight;e.style.height="".concat(n,"px"),t.addEventListener("click",(function(){n=t.offsetHeight,e.classList.contains("open")?(e.classList.remove("open"),e.style.height="".concat(n,"px")):e.classList.add("open")}))})),document.querySelectorAll("section *").forEach((function(t){t.addEventListener("focus",(function(){var e=t.closest("section");e&&(e.classList.add("open"),e.style.height="fit-content")}))}))})()})();